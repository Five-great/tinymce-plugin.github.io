var GF=Object.defineProperty;var P0=Object.getOwnPropertySymbols;var XF=Object.prototype.hasOwnProperty,YF=Object.prototype.propertyIsEnumerable;var D0=(R,re,ce)=>re in R?GF(R,re,{enumerable:!0,configurable:!0,writable:!0,value:ce}):R[re]=ce,O0=(R,re)=>{for(var ce in re||(re={}))XF.call(re,ce)&&D0(R,ce,re[ce]);if(P0)for(var ce of P0(re))YF.call(re,ce)&&D0(R,ce,re[ce]);return R};import{d as ia,c as yt,a as Se,w as oa,n as no,b as I0,F as Xc,p as L0,e as $0,o as ot,f as QF,g as ZF,r as hs,h as F0,i as ri,j as ro,k as M0,t as Xn,l as JF,m as ao,q as Yc,s as io,u as oo,E as e5,v as t5,x as n5}from"./vendor.370c6722.js";const r5=function(){const re=document.createElement("link").relList;if(re&&re.supports&&re.supports("modulepreload"))return;for(const le of document.querySelectorAll('link[rel="modulepreload"]'))ge(le);new MutationObserver(le=>{for(const ye of le)if(ye.type==="childList")for(const oe of ye.addedNodes)oe.tagName==="LINK"&&oe.rel==="modulepreload"&&ge(oe)}).observe(document,{childList:!0,subtree:!0});function ce(le){const ye={};return le.integrity&&(ye.integrity=le.integrity),le.referrerpolicy&&(ye.referrerPolicy=le.referrerpolicy),le.crossorigin==="use-credentials"?ye.credentials="include":le.crossorigin==="anonymous"?ye.credentials="omit":ye.credentials="same-origin",ye}function ge(le){if(le.ep)return;le.ep=!0;const ye=ce(le);fetch(le.href,ye)}};r5();(function(R,re){function ce(k){if(typeof k=="undefined")throw new Error('Pathformer [constructor]: "element" parameter is required');if(k.constructor===String&&(k=re.getElementById(k),!k))throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID');if(k.constructor instanceof R.SVGElement||/^svg$/i.test(k.nodeName))this.el=k;else throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement');this.scan(k)}ce.prototype.TYPES=["line","ellipse","circle","polygon","polyline","rect"],ce.prototype.ATTR_WATCH=["cx","cy","points","r","rx","ry","x","x1","x2","y","y1","y2"],ce.prototype.scan=function(k){for(var j,ee,be,ae,xe=k.querySelectorAll(this.TYPES.join(",")),bt=0;bt<xe.length;bt++)ee=xe[bt],j=this[ee.tagName.toLowerCase()+"ToPath"],be=j(this.parseAttr(ee.attributes)),ae=this.pathMaker(ee,be),ee.parentNode.replaceChild(ae,ee)},ce.prototype.lineToPath=function(k){var j={};return j.d="M"+k.x1+","+k.y1+"L"+k.x2+","+k.y2,j},ce.prototype.rectToPath=function(k){var j={},ee=parseFloat(k.x)||0,be=parseFloat(k.y)||0,ae=parseFloat(k.width)||0,xe=parseFloat(k.height)||0;return j.d="M"+ee+" "+be+" ",j.d+="L"+(ee+ae)+" "+be+" ",j.d+="L"+(ee+ae)+" "+(be+xe)+" ",j.d+="L"+ee+" "+(be+xe)+" Z",j},ce.prototype.polylineToPath=function(k){var j,ee,be={},ae=k.points.trim().split(" ");if(k.points.indexOf(",")===-1){var xe=[];for(j=0;j<ae.length;j+=2)xe.push(ae[j]+","+ae[j+1]);ae=xe}for(ee="M"+ae[0],j=1;j<ae.length;j++)ae[j].indexOf(",")!==-1&&(ee+="L"+ae[j]);return be.d=ee,be},ce.prototype.polygonToPath=function(k){var j=ce.prototype.polylineToPath(k);return j.d+="Z",j},ce.prototype.ellipseToPath=function(k){var j=k.cx-k.rx,ee=k.cy,be=parseFloat(k.cx)+parseFloat(k.rx),ae=k.cy,xe={};return xe.d="M"+j+","+ee+"A"+k.rx+","+k.ry+" 0,1,1 "+be+","+ae+"A"+k.rx+","+k.ry+" 0,1,1 "+j+","+ae,xe},ce.prototype.circleToPath=function(k){var j={},ee=k.cx-k.r,be=k.cy,ae=parseFloat(k.cx)+parseFloat(k.r),xe=k.cy;return j.d="M"+ee+","+be+"A"+k.r+","+k.r+" 0,1,1 "+ae+","+xe+"A"+k.r+","+k.r+" 0,1,1 "+ee+","+xe,j},ce.prototype.pathMaker=function(k,j){var ee,be,ae=re.createElementNS("http://www.w3.org/2000/svg","path");for(ee=0;ee<k.attributes.length;ee++)be=k.attributes[ee],this.ATTR_WATCH.indexOf(be.name)===-1&&ae.setAttribute(be.name,be.value);for(ee in j)ae.setAttribute(ee,j[ee]);return ae},ce.prototype.parseAttr=function(k){for(var j,ee={},be=0;be<k.length;be++){if(j=k[be],this.ATTR_WATCH.indexOf(j.name)!==-1&&j.value.indexOf("%")!==-1)throw new Error("Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into 'path' tags. Please use 'viewBox'.");ee[j.name]=j.value}return ee};var ge,le,ye;function oe(k,j,ee){this.isReady=!1,this.setElement(k,j),this.setOptions(j),this.setCallback(ee),this.isReady&&this.init()}oe.LINEAR=function(k){return k},oe.EASE=function(k){return-Math.cos(k*Math.PI)/2+.5},oe.EASE_OUT=function(k){return 1-Math.pow(1-k,3)},oe.EASE_IN=function(k){return Math.pow(k,3)},oe.EASE_OUT_BOUNCE=function(k){var j=-Math.cos(k*(.5*Math.PI))+1,ee=Math.pow(j,1.5),be=Math.pow(1-k,2),ae=-Math.abs(Math.cos(ee*(2.5*Math.PI)))+1;return 1-be+ae*be},oe.prototype.setElement=function(k,j){if(typeof k=="undefined")throw new Error('Vivus [constructor]: "element" parameter is required');if(k.constructor===String&&(k=re.getElementById(k),!k))throw new Error('Vivus [constructor]: "element" parameter is not related to an existing ID');if(this.parentEl=k,j&&j.file){var ee=re.createElement("object");ee.setAttribute("type","image/svg+xml"),ee.setAttribute("data",j.file),ee.setAttribute("built-by-vivus","true"),k.appendChild(ee),k=ee}switch(k.constructor){case R.SVGSVGElement:case R.SVGElement:this.el=k,this.isReady=!0;break;case R.HTMLObjectElement:var be,ae;ae=this,be=function(xe){if(!ae.isReady){if(ae.el=k.contentDocument&&k.contentDocument.querySelector("svg"),!ae.el&&xe)throw new Error("Vivus [constructor]: object loaded does not contain any SVG");if(ae.el)return k.getAttribute("built-by-vivus")&&(ae.parentEl.insertBefore(ae.el,k),ae.parentEl.removeChild(k),ae.el.setAttribute("width","100%"),ae.el.setAttribute("height","100%")),ae.isReady=!0,ae.init(),!0}},be()||k.addEventListener("load",be);break;default:throw new Error('Vivus [constructor]: "element" parameter is not valid (or miss the "file" attribute)')}},oe.prototype.setOptions=function(k){var j=["delayed","async","oneByOne","scenario","scenario-sync"],ee=["inViewport","manual","autostart"];if(k!==void 0&&k.constructor!==Object)throw new Error('Vivus [constructor]: "options" parameter must be an object');if(k=k||{},k.type&&j.indexOf(k.type)===-1)throw new Error("Vivus [constructor]: "+k.type+" is not an existing animation `type`");if(this.type=k.type||j[0],k.start&&ee.indexOf(k.start)===-1)throw new Error("Vivus [constructor]: "+k.start+" is not an existing `start` option");if(this.start=k.start||ee[0],this.isIE=R.navigator.userAgent.indexOf("MSIE")!==-1||R.navigator.userAgent.indexOf("Trident/")!==-1||R.navigator.userAgent.indexOf("Edge/")!==-1,this.duration=ye(k.duration,120),this.delay=ye(k.delay,null),this.dashGap=ye(k.dashGap,1),this.forceRender=k.hasOwnProperty("forceRender")?!!k.forceRender:this.isIE,this.selfDestroy=!!k.selfDestroy,this.onReady=k.onReady,this.frameLength=this.currentFrame=this.map=this.delayUnit=this.speed=this.handle=null,this.animatedTime=k.animatedTime?k.animatedTime:-1,this.ignoreInvisible=k.hasOwnProperty("ignoreInvisible")?!!k.ignoreInvisible:!1,this.animTimingFunction=k.animTimingFunction||oe.LINEAR,this.pathTimingFunction=k.pathTimingFunction||oe.LINEAR,this.delay>=this.duration)throw new Error("Vivus [constructor]: delay must be shorter than duration")},oe.prototype.setCallback=function(k){if(!!k&&k.constructor!==Function)throw new Error('Vivus [constructor]: "callback" parameter must be a function');this.callback=k||function(){}},oe.prototype.mapping=function(){var k,j,ee,be,ae,xe,bt,st;for(st=xe=bt=0,j=this.el.querySelectorAll("path"),k=0;k<j.length;k++)if(ee=j[k],!this.isInvisible(ee)){if(ae={el:ee,length:Math.ceil(ee.getTotalLength())},isNaN(ae.length)){R.console&&console.warn&&console.warn("Vivus [mapping]: cannot retrieve a path element length",ee);continue}this.map.push(ae),ee.style.strokeDasharray=ae.length+" "+(ae.length+this.dashGap*2),ee.style.strokeDashoffset=ae.length+this.dashGap,ae.length+=this.dashGap,xe+=ae.length,this.renderPath(k)}for(xe=xe===0?1:xe,this.delay=this.delay===null?this.duration/3:this.delay,this.delayUnit=this.delay/(j.length>1?j.length-1:1),k=0;k<this.map.length;k++){switch(ae=this.map[k],this.type){case"delayed":ae.startAt=this.delayUnit*k,ae.duration=this.duration-this.delay;break;case"oneByOne":ae.startAt=bt/xe*this.duration,ae.duration=ae.length/xe*this.duration;break;case"async":ae.startAt=0,ae.duration=this.duration;break;case"scenario-sync":ee=ae.el,be=this.parseAttr(ee),ae.startAt=st+(ye(be["data-delay"],this.delayUnit)||0),ae.duration=ye(be["data-duration"],this.duration),st=be["data-async"]!==void 0?ae.startAt:ae.startAt+ae.duration,this.frameLength=Math.max(this.frameLength,ae.startAt+ae.duration);break;case"scenario":ee=ae.el,be=this.parseAttr(ee),ae.startAt=ye(be["data-start"],this.delayUnit)||0,ae.duration=ye(be["data-duration"],this.duration),this.frameLength=Math.max(this.frameLength,ae.startAt+ae.duration);break}bt+=ae.length,this.frameLength=this.frameLength||this.duration}},oe.prototype.drawer=function(){var k=this;this.currentFrame+=this.speed,(this.animatedTime==-1&&this.currentFrame+this.frameLength%100==this.frameLength||this.currentFrame==this.animatedTime&&this.animatedTime>-1)&&ut(this.el.parentNode,"animated"),this.currentFrame<=0?(this.stop(),this.reset(),this.callback(this)):this.currentFrame>=this.frameLength?(this.stop(),this.currentFrame=this.frameLength,this.trace(),this.selfDestroy&&this.destroy(),this.callback(this)):(this.trace(),this.handle=ge(function(){k.drawer()}))},oe.prototype.trace=function(){var k,j,ee,be;for(be=this.animTimingFunction(this.currentFrame/this.frameLength)*this.frameLength,k=0;k<this.map.length;k++)ee=this.map[k],j=(be-ee.startAt)/ee.duration,j=this.pathTimingFunction(Math.max(0,Math.min(1,j))),ee.progress!==j&&(ee.progress=j,ee.el.style.strokeDashoffset=Math.floor(ee.length*(1-j)),this.renderPath(k))},oe.prototype.renderPath=function(k){if(this.forceRender&&this.map&&this.map[k]){var j=this.map[k],ee=j.el.cloneNode(!0);j.el.parentNode.replaceChild(ee,j.el),j.el=ee}},oe.prototype.init=function(){this.frameLength=0,this.currentFrame=0,this.map=[],new ce(this.el),this.mapping(),this.starter(),this.onReady&&this.onReady(this)},oe.prototype.starter=function(){switch(this.start){case"manual":return;case"autostart":this.play();break;case"inViewport":var k=this,j=function(){k.isInViewport(k.parentEl,1)&&(k.play(),R.removeEventListener("scroll",j))};R.addEventListener("scroll",j),j();break}},oe.prototype.getStatus=function(){return this.currentFrame===0?"start":this.currentFrame===this.frameLength?"end":"progress"},oe.prototype.reset=function(){return this.setFrameProgress(0)},oe.prototype.finish=function(){return this.setFrameProgress(1)},oe.prototype.setFrameProgress=function(k){return k=Math.min(1,Math.max(0,k)),this.currentFrame=Math.round(this.frameLength*k),this.trace(),this},oe.prototype.play=function(k){if(k&&typeof k!="number")throw new Error("Vivus [play]: invalid speed");return this.speed=k||1,en(this.el.parentNode,"animated"),this.handle||this.drawer(),this},oe.prototype.stop=function(){return this.handle&&(le(this.handle),this.handle=null),this},oe.prototype.destroy=function(){this.stop();var k,j;for(k=0;k<this.map.length;k++)j=this.map[k],j.el.style.strokeDashoffset=null,j.el.style.strokeDasharray=null,this.renderPath(k)},oe.prototype.isInvisible=function(k){var j,ee=k.getAttribute("data-ignore");return ee!==null?ee!=="false":this.ignoreInvisible?(j=k.getBoundingClientRect(),!j.width&&!j.height):!1};function He(k,j){return!!k.className.match(new RegExp("(\\s|^)"+j+"(\\s|$)"))}function ut(k,j){He(k,j)||(k.className=k.className.replace(/(^\s*)|(\s*$)/g,"")+" "+j)}function en(k,j){He(k,j)&&(k.className=k.className.replace(new RegExp("(\\s|^)"+j+"(\\s|$)")," "))}oe.prototype.parseAttr=function(k){var j,ee={};if(k&&k.attributes)for(var be=0;be<k.attributes.length;be++)j=k.attributes[be],ee[j.name]=j.value;return ee},oe.prototype.isInViewport=function(k,j){var ee=this.scrollY(),be=ee+this.getViewportH(),ae=k.getBoundingClientRect(),xe=ae.height,bt=ee+ae.top,st=bt+xe;return j=j||0,bt+xe*j<=be&&st>=ee},oe.prototype.docElem=R.document.documentElement,oe.prototype.getViewportH=function(){var k=this.docElem.clientHeight,j=R.innerHeight;return k<j?j:k},oe.prototype.scrollY=function(){return R.pageYOffset||this.docElem.scrollTop},ge=function(){return R.requestAnimationFrame||R.webkitRequestAnimationFrame||R.mozRequestAnimationFrame||R.oRequestAnimationFrame||R.msRequestAnimationFrame||function(k){return R.setTimeout(k,1e3/60)}}(),le=function(){return R.cancelAnimationFrame||R.webkitCancelAnimationFrame||R.mozCancelAnimationFrame||R.oCancelAnimationFrame||R.msCancelAnimationFrame||function(k){return R.clearTimeout(k)}}(),ye=function(k,j){var ee=parseInt(k,10);return ee>=0?ee:j},typeof define=="function"&&define.amd?define([],function(){return oe}):typeof exports=="object"?module.exports=oe:R.Vivus=oe})(window,document);var U0=Vivus;var ua=(R,re)=>{const ce=R.__vccOpts||R;for(const[ge,le]of re)ce[ge]=le;return ce};const a5=ia({name:"Header",props:{dWidth:{type:Number,default:document.documentElement.clientWidth}},data(){return{pola:2,polaTop:0,scrolltop:document.documentElement.scrollTop,IsFixed:!1,IsFixedM:!1,IsMobile:!1}},setup(R){},created(){this.info()},mounted(){var R=this;window.onscroll=function(){R.scrolltop=document.documentElement.scrollTop,R.IsFixed=R.scrolltop>=55,R.scrolltop<55&&!R.IsFixed&&(R.polaTop=R.scrolltop),R.IsFixedM=R.scrolltop>=1}},methods:{info(){let R=this,re=setInterval(function(){if(document.getElementById("logoSvgId")){var ce={type:"scenario-sync",duration:100,forceRender:!1,pathTimingFunction:U0.EASE_IN,animatedTime:80};R.pola=new U0("logoSvgId",ce),clearInterval(re)}},200)},resetPola(){let R=this;R.pola.play(-3),setTimeout(()=>{R.pola.reset().play()},1e3)}}}),ai=R=>(L0("data-v-4049b837"),R=R(),$0(),R),i5=ai(()=>Se("div",{style:{height:"152px"}},null,-1)),o5={class:"header-box_logo"},u5=ai(()=>Se("span",{class:"tinymce_color"},"Tinymce",-1)),s5=ai(()=>Se("path",{transform:"translate(868,2070) scale(2.1,2.1) rotate(180)",fill:"none","fill-opacity":"null","stroke-opacity":"null","stroke-width":"16",stroke:"#335FFF",d:"m203.108398,645.3192c33.99355,0.20039 67.58717,28.4558 67.58717,69.63654c0,0 0.22086,11.0003 0.23698,24.09619l0.00048,2.53102c-0.0025,2.83556 -0.0155,5.74026 -0.04309,8.62832l-0.01835,1.73016c-0.12767,10.93632 -0.47796,21.38476 -1.27581,26.63907c-4.69911,31.46169 -28.19465,53.20432 -60.5885,58.71512c-29.19446,5.7112 -46.49118,9.01769 -52.09012,10.11985c-1.41149,0.29469 -5.65982,0.90142 -9.85524,1.35111l-0.83752,0.08771c-2.6445,0.27022 -5.1905,0.46491 -6.9039,0.46491c-35.59324,0 -67.88711,-26.65226 -68.38702,-69.63654l0.00088,-2.15162c0.00007,-0.10585 0.00014,-0.21526 0.00022,-0.32814l0.00086,-1.10755c0.00451,-5.18721 0.01936,-15.29461 0.06827,-25.59709l0.01191,-2.3788l0,0l0.00864,-1.58335c0.05803,-10.27482 0.15317,-20.13893 0.30914,-24.8672c1.19978,-31.3615 22.89566,-56.7112 64.18782,-64.82712l0.0598,-0.01163c1.94046,-0.37737 50.47261,-9.81564 52.53022,-10.20841c4.79909,-0.90176 10.09809,-1.30255 14.99716,-1.30255zm23.79548,36.57171l-79.98482,15.53045l0,31.2613l-31.99393,6.21218l0,77.95285l79.98482,-15.53046l0,-31.26129l31.99393,-6.21218l0,-77.95285zm-31.99393,37.47348l0,46.69155l-47.99089,9.31827l0,-46.69155l47.99089,-9.31827z"},null,-1)),f5=ai(()=>Se("path",{id:"logoSvgBottom",fill:"#34435C",transform:"translate(-100,-100) scale(1.1,1.1)","fill-opacity":"0.75","stroke-opacity":"null","stroke-width":"32",stroke:"#34435C",d:"M547.0208 823.650987L301.615787 681.970347V398.677333l245.405013-141.748906L792.41216 398.677333v283.293014z"},null,-1)),l5=ai(()=>Se("path",{fill:"none","fill-opacity":"null","stroke-opacity":"null","stroke-width":"24",stroke:"#43B984",transform:"translate(-26,-36) scale(1.03,1.03)",d:"M782.595413 700.66176l-38.352213 22.1184a9.721173 9.721173 0 0 1-4.942507 1.365333 9.91232 9.91232 0 0 1-4.942506-18.445653l38.324906-22.145707a34.73408 34.73408 0 0 0 17.298774-29.969066v-281.258667a34.69312 34.69312 0 0 0-17.28512-29.928107l-243.698347-140.629333a34.638507 34.638507 0 0 0-34.583893 0L409.6 250.729813a46.789973 46.789973 0 0 1 2.402987 14.103894 47.786667 47.786667 0 1 1-12.151467-31.3344l84.650667-48.837974a54.613333 54.613333 0 0 1 54.381226 0l243.698347 140.629334a54.613333 54.613333 0 0 1 27.19744 47.076693v281.258667a54.504107 54.504107 0 0 1-27.183787 47.035733zM388.819627 251.849387a9.325227 9.325227 0 0 1-0.477867-0.873814 26.528427 26.528427 0 1 0 3.8912 13.871787 27.129173 27.129173 0 0 0-3.413333-12.997973z m350.467413 472.255146z m-105.417387-249.856c0-0.2048-0.12288-0.314027-0.12288-0.49152a9.079467 9.079467 0 0 1 2.49856-8.178346 8.533333 8.533333 0 0 1 3.76832-2.198187 8.833707 8.833707 0 0 1 9.161387 2.198187l48.16896 48.141653-3.467947 3.467947-57.01632 56.97536 1.59744-1.59744-13.653333-5.85728 55.391573-55.391574s-23.01952-23.497387-31.402666-31.402666c-3.085653-2.90816 5.802667 55.978667-47.14496 62.805333-28.808533 3.713707-54.463147-23.10144-55.00928-55.00928-0.65536-38.597973 51.6096-50.7904 47.14496-55.00928-23.688533-22.377813-55.00928-55.00928-55.00928-55.00928L397.312 519.099733l83.1488 78.52032-26.487467 26.46016a29.24544 29.24544 0 1 0 5.36576 5.69344h0.109227l26.70592-26.70592 52.578987 49.5616 86.016-86.016-7.468374 7.468374h19.510614l-99.669334 99.587413-51.336533-51.4048a9.106773 9.106773 0 0 0-15.428267 8.192c0 0.177493 0.095573 0.28672 0.095574 0.49152a4.696747 4.696747 0 0 0 0.77824 1.952427 39.594667 39.594667 0 1 1-23.552-23.770454 6.116693 6.116693 0 0 0 1.365333 0.505174 9.106773 9.106773 0 0 0 9.038507-15.209814l-77.4144-77.37344 65.672533-65.645226a9.106773 9.106773 0 0 0-8.27392-15.414614c-0.2048 0-0.28672 0.109227-0.49152 0.109227A4.724053 4.724053 0 0 0 435.541333 436.906667a39.594667 39.594667 0 1 1 23.784107-23.552 9.106773 9.106773 0 0 0 14.731947 10.349226l66.68288-66.64192 80.677546 80.636587a9.270613 9.270613 0 0 1 0 12.929707 9.106773 9.106773 0 0 1-9.024853 2.280106 4.096 4.096 0 0 1-1.365333-0.505173 39.471787 39.471787 0 0 0-41.7792 9.147733 39.594667 39.594667 0 1 0 65.37216 14.62272 5.188267 5.188267 0 0 1-0.764587-1.897813zM289.05472 320.279893l-38.352213 22.145707a34.69312 34.69312 0 0 0-17.230507 29.928107v281.258666a34.679467 34.679467 0 0 0 17.28512 29.914454l243.698347 140.629333a34.679467 34.679467 0 0 0 34.583893 0l84.759893-48.919893a46.803627 46.803627 0 0 1-2.389333-14.09024 47.786667 47.786667 0 1 1 12.151467 31.3344l-84.650667 48.837973a54.613333 54.613333 0 0 1-54.381227 0l-243.712-140.629333a54.490453 54.490453 0 0 1-27.19744-47.06304v-281.258667a54.613333 54.613333 0 0 1 27.19744-47.076693l38.324907-22.186667a9.898667 9.898667 0 1 1 9.91232 17.175893z m369.62304 468.309334a27.552427 27.552427 0 1 0-26.528427-27.470507 27.552427 27.552427 0 0 0 26.528427 27.52512z"},null,-1)),c5=[s5,f5,l5],v5=ai(()=>Se("span",{class:"plugin_color"},"Plugin",-1));function d5(R,re,ce,ge,le,ye){return ot(),yt(Xc,null,[i5,Se("div",{class:I0(["header-box",[R.IsFixed?"IsFixed":"",R.dWidth<=750?"IsMobile":""]])},[Se("h1",o5,[u5,Se("span",{class:"header_logo",onClick:re[0]||(re[0]=oa((...oe)=>R.resetPola&&R.resetPola(...oe),["stop"]))},[(ot(),yt("svg",{class:"icon",id:"logoSvgId",viewBox:"0 0 1024 1024",style:no({top:R.polaTop+"px"}),version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5863",width:"120",height:"120"},c5,4))]),Se("span",{class:"line",style:no({width:30+R.polaTop*1.2+"px"})},"-",4),v5])],2)],64)}var p5=ua(a5,[["render",d5],["__scopeId","data-v-4049b837"]]);const m5="modulepreload",z0={},h5="/",kr=function(re,ce){return!ce||ce.length===0?re():Promise.all(ce.map(ge=>{if(ge=`${h5}${ge}`,ge in z0)return;z0[ge]=!0;const le=ge.endsWith(".css"),ye=le?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ge}"]${ye}`))return;const oe=document.createElement("link");if(oe.rel=le?"stylesheet":m5,le||(oe.as="script",oe.crossOrigin=""),oe.href=ge,document.head.appendChild(oe),le)return new Promise((He,ut)=>{oe.addEventListener("load",He),oe.addEventListener("error",ut)})})).then(()=>re())},g5={template:'<div class="plugins" ><router-view></router-view></div>'},y5={template:'<div class="examples" ><router-view></router-view></div>'},Qc=[{path:"/",name:"introduction",component:()=>kr(()=>import("./introduction.ab2fcaaf.js"),["assets/introduction.ab2fcaaf.js","assets/vendor.370c6722.js","assets/Tinymce-vue.9522fd88.js","assets/Tinymce-vue.1adfb76d.css"]),meta:{title:"\u524D\u8A00"}},{path:"/quickStart",name:"quickStart",component:()=>kr(()=>import("./quickStart.a6d96e84.js"),["assets/quickStart.a6d96e84.js","assets/vendor.370c6722.js"]),meta:{title:"\u5FEB\u901F\u4E0A\u624B"}},{path:"/plugins",name:"plugins",component:g5,meta:{title:"\u63D2\u4EF6"},children:[{path:"axupimgs",name:"axupimgs",meta:{title:"\u591A\u56FE\u4E0A\u4F20",pluginName:"upimgs"},component:()=>kr(()=>import("./axupimgs.b20e2b0e.js"),["assets/axupimgs.b20e2b0e.js","assets/vendor.370c6722.js"])},{path:"attachment",name:"attachment",meta:{title:"\u9644\u4EF6\u4E0A\u4F20",pluginName:"attachment"},component:()=>kr(()=>import("./attachment.4f767467.js"),["assets/attachment.4f767467.js","assets/vendor.370c6722.js","assets/Tinymce-vue.9522fd88.js","assets/Tinymce-vue.1adfb76d.css"])}]},{path:"/examples",name:"Examples",component:y5,meta:{title:"\u6837\u4F8B"},children:[{path:"demo",name:"demo",meta:{title:"\u63D2\u4EF6Demo"},component:()=>kr(()=>import("./demo.f78cb742.js"),["assets/demo.f78cb742.js","assets/vendor.370c6722.js"])},{path:"demoall",name:"demoall",meta:{title:"\u5168\u90E8Demo"},component:()=>kr(()=>import("./demoAll.9c89ae1c.js"),["assets/demoAll.9c89ae1c.js","assets/vendor.370c6722.js"])},{path:"vuedemo",name:"vuedemo",meta:{title:"vueDemo"},component:()=>kr(()=>import("./index.5c6b5ef2.js"),["assets/index.5c6b5ef2.js","assets/index.20acd5ab.css","assets/Tinymce-vue.9522fd88.js","assets/Tinymce-vue.1adfb76d.css","assets/vendor.370c6722.js","assets/plugin.d2dcd574.js"])},{path:"vuedemo2",name:"vuedemo2",meta:{title:"vueDemo2"},component:()=>kr(()=>import("./index2.dd3d5ba9.js"),["assets/index2.dd3d5ba9.js","assets/index2.d1626d35.css","assets/Tinymce-vue.9522fd88.js","assets/Tinymce-vue.1adfb76d.css","assets/vendor.370c6722.js","assets/plugin.d2dcd574.js"])}]}],H0=JSON.parse(JSON.stringify(Qc));var ii={_pagesPrev:{}},sa="_pagesPrev",b5=H0;b5.forEach(R=>{R.children?R.children.forEach(re=>{re.path=R.path+"/"+re.path.replace("/",""),ii[sa].pagesNext=re.name,re.pagesPrev=sa,sa=re.name,ii[re.name]=re}):(ii[sa].pagesNext=R.name,R.pagesPrev=sa,ii[R.name]=R,sa=R.name)});ii[sa].pagesNext="_pagesPrev";const C5=ii,w5=QF({history:ZF(""),routes:Qc,scrollBehavior(R,re,ce){if(R.hash)return{el:R.hash}}});const E5=ia({name:"Sidebar",data(){return{sidebarList:[]}},created(){this.sidebarList=Qc}}),S5={class:"sidebar-Box"},x5={class:"sidebar-ul"},k5={key:0},N5={class:"sidebar-cUl"};function _5(R,re,ce,ge,le,ye){const oe=hs("router-link");return ot(),yt("div",S5,[Se("ul",x5,[(ot(!0),yt(Xc,null,F0(R.sidebarList,(He,ut)=>(ot(),yt("li",{key:ut,class:"sidebar-li"},[He.children&&He.children.length>0?(ot(),yt("div",k5,[ri(oe,{to:He.path,class:"sidebar-title"},{default:ro(()=>[M0(Xn(He.meta?He.meta.title:He.name),1)]),_:2},1032,["to"]),Se("ul",N5,[(ot(!0),yt(Xc,null,F0(He.children,(en,k)=>(ot(),yt("li",{key:k,class:"sidebar-cLi"},[ri(oe,{to:He.path+"/"+en.path,class:"sidebar-cTitle"},{default:ro(()=>[Se("span",null,Xn(en.meta?en.meta.title:en.name),1),Se("em",null,Xn(en.meta&&en.meta.pluginName?" | "+en.meta.pluginName:""),1)]),_:2},1032,["to"])]))),128))])])):(ot(),JF(oe,{key:1,class:"sidebar-title",to:He.path},{default:ro(()=>[M0(Xn(He.meta?He.meta.title:He.name),1)]),_:2},1032,["to"]))]))),128))])])}var T5=ua(E5,[["render",_5],["__scopeId","data-v-766d5dae"]]);const A5=ia({components:{Header:p5,Sidebar:T5},data(){return{_resize:document.documentElement.clientWidth,openMenu:!1}},name:"App",created(){window.addEventListener("resize",this.resizeFun,!1)},methods:{resizeFun(R){this._resize=document.documentElement.clientWidth},closeMenu(){this._resize<959&&(this.openMenu=!1)},listenerFun(R){if(R.target.className==="hljs fv-hljs"){let re=document.getElementById("inputCopy");re.value=R.target.children[0].tagName==="CODE"?R.target.children[0].innerText:R.target.children[1].innerText,re.select(),document.execCommand("copy"),this.showTips("\u590D\u5236\u4EE3\u7801\u6210\u529F","ok",60,3)}},showTips(R,re,ce,ge){let le=document.getElementById("tips");le.innerHTML='<div class="tipsClass '+re+'"><i></i>'+R+"</div>",this._resize<750?ce=ce/100+"rem":ce=ce+"px",le.children[0].style.top=ce,le.children[0].style.display="block",setTimeout(function(){le.children[0].style.display="none"},ge*1e3)}},destroy(){window.removeEventListener("resize",this.resizeFun)}}),R5=Se("svg",{class:"icon",t:"1628149369842",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4051",width:"30",height:"30"},[Se("path",{d:"M789.12 210.56H42.88a35.2 35.2 0 0 1-35.2-35.2 35.2 35.2 0 0 1 35.2-34.56h746.24a34.56 34.56 0 0 1 35.2 34.56 35.2 35.2 0 0 1-35.2 35.2zM981.12 544.64H42.88a35.2 35.2 0 1 1 0-69.76h938.24a35.2 35.2 0 1 1 0 69.76zM981.12 878.72H42.88a35.2 35.2 0 0 1-35.2-34.56 35.2 35.2 0 0 1 35.2-35.2h938.24a35.2 35.2 0 0 1 35.2 35.2 35.2 35.2 0 0 1-35.2 34.56z","p-id":"4052"}),Se("path",{d:"M949.12 175.36m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z","p-id":"4053"})],-1),B5=[R5];function P5(R,re,ce,ge,le,ye){const oe=hs("Sidebar"),He=hs("router-view");return ot(),yt("div",{class:"appBox",onClick:re[2]||(re[2]=oa((...ut)=>R.closeMenu&&R.closeMenu(...ut),["stop"]))},[Se("div",{class:"menu_icon",onClick:re[0]||(re[0]=oa(ut=>R.openMenu=!R.openMenu,["stop"]))},B5),Se("aside",{class:I0([R.openMenu?"openMenu":""])},[ri(oe)],2),Se("main",{onClick:re[1]||(re[1]=oa((...ut)=>R.listenerFun&&R.listenerFun(...ut),["stop"]))},[ri(He)])])}var D5=ua(A5,[["render",P5]]);const O5=ia({name:"Preview",props:{source:{type:String,default:""}},setup(R,{slots:re,attrs:ce}){const ge=ao(),le=Yc({codeHeight:0}),ye=!!re.description;return{toggleCode:()=>{var He;le.codeHeight===0?le.codeHeight=((He=ge.value)==null?void 0:He.offsetHeight)||0:le.codeHeight=0},slots:re,state:le,codeRef:ge,slotDescription:ye}}}),I5={class:"preview demo-block"},L5={class:"preview__card"},$5={class:"preview__demo source"},F5={ref:"codeRef",class:"preview__coderef"},M5={key:0,class:"preview__description description"},U5=["innerHTML"];function z5(R,re,ce,ge,le,ye){return ot(),yt("div",I5,[Se("div",L5,[Se("div",$5,[Se("div",null,[io(R.$slots,"demo1",{},void 0,!0)]),Se("div",null,[io(R.$slots,"demo",{},void 0,!0)])]),Se("div",{style:no({height:`${R.state.codeHeight}px`}),class:"preview__code meta"},[Se("div",F5,[R.slotDescription?(ot(),yt("div",M5,[io(R.$slots,"description",{},void 0,!0)])):oo("",!0),Se("div",{class:"preview__coder highlight",innerHTML:R.source},null,8,U5)],512)],4),Se("div",{class:"preview__footer demo-block-control",onClick:re[0]||(re[0]=oa((...oe)=>R.toggleCode&&R.toggleCode(...oe),["stop"]))},Xn(R.state.codeHeight>0?"\u9690\u85CF\u4EE3\u7801":"\u663E\u793A\u4EE3\u7801"),1)])])}var H5=ua(O5,[["render",z5],["__scopeId","data-v-341353ea"]]);(function(){var R=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},re=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},ce=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},ge=function(e,t){return le(function(n,r){return e.eq(t(n),t(r))})},le=function(e){return{eq:e}},ye=le(function(e,t){return e===t}),oe=ye,He=function(e){return le(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e.eq(t[a],n[a]))return!1;return!0})},ut=function(e,t){return ge(He(e),function(n){return ce(n,t)})},en=function(e){return le(function(t,n){var r=Object.keys(t),a=Object.keys(n);if(!ut(oe).eq(r,a))return!1;for(var i=r.length,o=0;o<i;o++){var u=r[o];if(!e.eq(t[u],n[u]))return!1}return!0})},k=le(function(e,t){if(e===t)return!0;var n=R(e),r=R(t);return n!==r?!1:re(n)?e===t:n==="array"?He(k).eq(e,t):n==="object"?en(k).eq(e,t):!1}),j=function(e){var t=typeof e;return e===null?"null":t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},ee=function(e){return function(t){return j(t)===e}},be=function(e){return function(t){return typeof t===e}},ae=function(e){return function(t){return e===t}},xe=ee("string"),bt=ee("object"),st=ee("array"),q0=ae(null),Zc=be("boolean"),oi=ae(void 0),fo=function(e){return e==null},It=function(e){return!fo(e)},ft=be("function"),fa=be("number"),we=function(){},Nr=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},W0=function(e,t){return function(n){return e(t(n))}},ie=function(e){return function(){return e}},un=function(e){return e};function Y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t.concat(r);return e.apply(null,i)}}var gs=function(e){return function(t){return!e(t)}},Jc=function(e){return function(){throw new Error(e)}},j0=function(e){return e()},K0=function(e){e()},Pe=ie(!1),lt=ie(!0),lo=function(){return ys},ys=function(){var e=function(a){return a.isNone()},t=function(a){return a()},n=function(a){return a},r={fold:function(a,i){return a()},is:Pe,isSome:Pe,isNone:lt,getOr:n,getOrThunk:t,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:ie(null),getOrUndefined:ie(void 0),or:n,orThunk:t,map:lo,each:we,bind:lo,exists:Pe,forall:lt,filter:lo,equals:e,equals_:e,toArray:function(){return[]},toString:ie("none()")};return r}(),bs=function(e){var t=ie(e),n=function(){return a},r=function(i){return i(e)},a={fold:function(i,o){return o(e)},is:function(i){return e===i},isSome:lt,isNone:Pe,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(i){return bs(i(e))},each:function(i){i(e)},bind:r,exists:r,forall:r,filter:function(i){return i(e)?a:ys},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(i){return i.is(e)},equals_:function(i,o){return i.fold(Pe,function(u){return o(e,u)})}};return a},G0=function(e){return e==null?ys:bs(e)},b={some:bs,none:lo,from:G0},Cs=Array.prototype.slice,X0=Array.prototype.indexOf,Y0=Array.prototype.push,ev=function(e,t){return X0.call(e,t)},Q0=function(e,t){var n=ev(e,t);return n===-1?b.none():b.some(n)},nt=function(e,t){return ev(e,t)>-1},Lt=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return!0}return!1},Ue=function(e,t){for(var n=e.length,r=new Array(n),a=0;a<n;a++){var i=e[a];r[a]=t(i,a)}return r},te=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];t(a,n)}},tv=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},Z0=function(e,t){for(var n=[],r=[],a=0,i=e.length;a<i;a++){var o=e[a],u=t(o,a)?n:r;u.push(o)}return{pass:n,fail:r}},_e=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++){var i=e[r];t(i,r)&&n.push(i)}return n},nv=function(e,t,n){return tv(e,function(r){n=t(n,r)}),n},sn=function(e,t,n){return te(e,function(r){n=t(n,r)}),n},J0=function(e,t,n){for(var r=0,a=e.length;r<a;r++){var i=e[r];if(t(i,r))return b.some(i);if(n(i,r))break}return b.none()},Nt=function(e,t){return J0(e,t,Pe)},co=function(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(t(a,n))return b.some(n)}return b.none()},eC=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!st(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Y0.apply(t,e[n])}return t},ui=function(e,t){return eC(Ue(e,t))},si=function(e,t){for(var n=0,r=e.length;n<r;++n){var a=e[n];if(t(a,n)!==!0)return!1}return!0},vo=function(e){var t=Cs.call(e,0);return t.reverse(),t},rv=function(e,t){return _e(e,function(n){return!nt(t,n)})},tC=function(e,t){for(var n={},r=0,a=e.length;r<a;r++){var i=e[r];n[String(i)]=t(i,r)}return n},nC=function(e,t){var n=Cs.call(e,0);return n.sort(t),n},ws=function(e,t){return t>=0&&t<e.length?b.some(e[t]):b.none()},Vt=function(e){return ws(e,0)},Yn=function(e){return ws(e,e.length-1)},Qn=ft(Array.from)?Array.from:function(e){return Cs.call(e)},rC=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return b.none()},_r=Object.keys,aC=Object.hasOwnProperty,je=function(e,t){for(var n=_r(e),r=0,a=n.length;r<a;r++){var i=n[r],o=e[i];t(o,i)}},av=function(e,t){return iC(e,function(n,r){return{k:r,v:t(n,r)}})},iC=function(e,t){var n={};return je(e,function(r,a){var i=t(r,a);n[i.k]=i.v}),n},Es=function(e){return function(t,n){e[n]=t}},iv=function(e,t,n,r){var a={};return je(e,function(i,o){(t(i,o)?n:r)(i,o)}),a},ov=function(e,t){var n={},r={};return iv(e,t,Es(n),Es(r)),{t:n,f:r}},fi=function(e,t){var n={};return iv(e,t,Es(n),we),n},oC=function(e,t){var n=[];return je(e,function(r,a){n.push(t(r,a))}),n},uC=function(e){return oC(e,function(t){return t})},qt=function(e,t){return ct(e,t)?b.from(e[t]):b.none()},ct=function(e,t){return aC.call(e,t)},li=function(e,t){return ct(e,t)&&e[t]!==void 0&&e[t]!==null},sC=function(e,t,n){return n===void 0&&(n=k),en(n).eq(e,t)},Ss=Array.isArray,fC=function(e){if(Ss(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},ci=function(e,t,n){var r,a;if(!e)return!1;if(n=n||e,e.length!==void 0){for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e)===!1)return!1}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return!1;return!0},xs=function(e,t){var n=[];return ci(e,function(r,a){n.push(t(r,a,e))}),n},la=function(e,t){var n=[];return ci(e,function(r,a){(!t||t(r,a,e))&&n.push(r)}),n},uv=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1},po=function(e,t,n,r){for(var a=oi(n)?e[0]:n,i=0;i<e.length;i++)a=t.call(r,a,e[i],i);return a},sv=function(e,t,n){var r,a;for(r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return r;return-1},Zn=function(e){return e[e.length-1]},Ce=function(){return Ce=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ce.apply(this,arguments)};function lC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function ks(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,u=i.length;o<u;o++,a++)r[a]=i[o];return r}var cC=function(e){var t=!1,n;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t||(t=!0,n=e.apply(null,r)),n}},vC=function(e,t,n,r){var a=e.isiOS()&&/ipad/i.test(n)===!0,i=e.isiOS()&&!a,o=e.isiOS()||e.isAndroid(),u=o||r("(pointer:coarse)"),s=a||!i&&o&&r("(min-device-width:768px)"),f=i||o&&!s,c=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,l=!f&&!s&&!c;return{isiPad:ie(a),isiPhone:ie(i),isTablet:ie(s),isPhone:ie(f),isTouch:ie(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ie(c),isDesktop:ie(l)}},dC=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},pC=function(e,t){var n=dC(e,t);if(!n)return{major:0,minor:0};var r=function(a){return Number(t.replace(n,"$"+a))};return Ns(r(1),r(2))},mC=function(e,t){var n=String(t).toLowerCase();return e.length===0?fv():pC(e,n)},fv=function(){return Ns(0,0)},Ns=function(e,t){return{major:e,minor:t}},mo={nu:Ns,detect:mC,unknown:fv},lv=function(e,t){var n=String(t).toLowerCase();return Nt(e,function(r){return r.search(n)})},hC=function(e,t){return lv(e,t).map(function(n){var r=mo.detect(n.versionRegexes,t);return{current:n.name,version:r}})},gC=function(e,t){return lv(e,t).map(function(n){var r=mo.detect(n.versionRegexes,t);return{current:n.name,version:r}})},cv={detectBrowser:hC,detectOs:gC},yC=function(e,t){return e.substring(t)},bC=function(e,t,n){return t===""||e.length>=t.length&&e.substr(n,n+t.length)===t},CC=function(e,t){return ca(e,t)?yC(e,t.length):e},_t=function(e,t){return e.indexOf(t)!==-1},ca=function(e,t){return bC(e,t,0)},_s=function(e){return function(t){return t.replace(e,"")}},Ts=_s(/^\s+|\s+$/g),wC=_s(/^\s+/g),vv=_s(/\s+$/g),dv=function(e){return e.length>0},As=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mn=function(e){return function(t){return _t(t,e)}},EC=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return _t(e,"edge/")&&_t(e,"chrome")&&_t(e,"safari")&&_t(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,As],search:function(e){return _t(e,"chrome")&&!_t(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return _t(e,"msie")||_t(e,"trident")}},{name:"Opera",versionRegexes:[As,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mn("firefox")},{name:"Safari",versionRegexes:[As,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(_t(e,"safari")||_t(e,"mobile/"))&&_t(e,"applewebkit")}}],SC=[{name:"Windows",search:Mn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return _t(e,"iphone")||_t(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Mn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mn("linux"),versionRegexes:[]},{name:"Solaris",search:Mn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pv={browsers:ie(EC),oses:ie(SC)},mv="Edge",hv="Chrome",gv="IE",yv="Opera",bv="Firefox",Cv="Safari",xC=function(){return wv({current:void 0,version:mo.unknown()})},wv=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isEdge:r(mv),isChrome:r(hv),isIE:r(gv),isOpera:r(yv),isFirefox:r(bv),isSafari:r(Cv)}},Ev={unknown:xC,nu:wv,edge:ie(mv),chrome:ie(hv),ie:ie(gv),opera:ie(yv),firefox:ie(bv),safari:ie(Cv)},Sv="Windows",xv="iOS",kv="Android",Nv="Linux",_v="OSX",Tv="Solaris",Av="FreeBSD",Rv="ChromeOS",kC=function(){return Bv({current:void 0,version:mo.unknown()})},Bv=function(e){var t=e.current,n=e.version,r=function(a){return function(){return t===a}};return{current:t,version:n,isWindows:r(Sv),isiOS:r(xv),isAndroid:r(kv),isOSX:r(_v),isLinux:r(Nv),isSolaris:r(Tv),isFreeBSD:r(Av),isChromeOS:r(Rv)}},Pv={unknown:kC,nu:Bv,windows:ie(Sv),ios:ie(xv),android:ie(kv),linux:ie(Nv),osx:ie(_v),solaris:ie(Tv),freebsd:ie(Av),chromeos:ie(Rv)},NC=function(e,t){var n=pv.browsers(),r=pv.oses(),a=cv.detectBrowser(n,e).fold(Ev.unknown,Ev.nu),i=cv.detectOs(r,e).fold(Pv.unknown,Pv.nu),o=vC(i,a,e,t);return{browser:a,os:i,deviceType:o}},_C={detect:NC},TC=function(e){return window.matchMedia(e).matches},AC=cC(function(){return _C.detect(navigator.userAgent,TC)}),fn=function(){return AC()},Dv=navigator.userAgent,Rs=fn(),Tt=Rs.browser,Wt=Rs.os,En=Rs.deviceType,RC=/WebKit/.test(Dv)&&!Tt.isEdge(),BC="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,PC=Dv.indexOf("Windows Phone")!==-1,pe={opera:Tt.isOpera(),webkit:RC,ie:Tt.isIE()||Tt.isEdge()?Tt.version.major:!1,gecko:Tt.isFirefox(),mac:Wt.isOSX()||Wt.isiOS(),iOS:En.isiPad()||En.isiPhone(),android:Wt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Tt.isIE()?document.documentMode||7:10,fileApi:BC,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Tt.isIE(),desktop:En.isDesktop(),windowsPhone:PC,browser:{current:Tt.current,version:Tt.version,isChrome:Tt.isChrome,isEdge:Tt.isEdge,isFirefox:Tt.isFirefox,isIE:Tt.isIE,isOpera:Tt.isOpera,isSafari:Tt.isSafari},os:{current:Wt.current,version:Wt.version,isAndroid:Wt.isAndroid,isChromeOS:Wt.isChromeOS,isFreeBSD:Wt.isFreeBSD,isiOS:Wt.isiOS,isLinux:Wt.isLinux,isOSX:Wt.isOSX,isSolaris:Wt.isSolaris,isWindows:Wt.isWindows},deviceType:{isDesktop:En.isDesktop,isiPad:En.isiPad,isiPhone:En.isiPhone,isPhone:En.isPhone,isTablet:En.isTablet,isTouch:En.isTouch,isWebView:En.isWebView}},DC=/^\s*|\s*$/g,Ov=function(e){return e==null?"":(""+e).replace(DC,"")},Iv=function(e,t){return t?t==="array"&&Ss(e)?!0:typeof e===t:e!==void 0},OC=function(e,t,n){var r;for(e=e||[],t=t||",",typeof e=="string"&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},IC=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},LC=function(e,t,n){var r=this,a,i,o,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var s=e[3].match(/(^|\.)(\w+)$/i)[2],f=r.createNS(e[3].replace(/\.\w+$/,""),n);if(!f[s]){if(e[2]==="static"){f[s]=t,this.onCreate&&this.onCreate(e[2],e[3],f[s]);return}t[s]||(t[s]=function(){},u=1),f[s]=t[s],r.extend(f[s].prototype,t),e[5]&&(a=r.resolve(e[5]).prototype,i=e[5].match(/\.(\w+)$/i)[1],o=f[s],u?f[s]=function(){return a[i].apply(this,arguments)}:f[s]=function(){return this.parent=a[i],o.apply(this,arguments)},f[s].prototype[s]=f[s],r.each(a,function(c,l){f[s].prototype[l]=a[l]}),r.each(t,function(c,l){a[l]?f[s].prototype[l]=function(){return this.parent=a[l],c.apply(this,arguments)}:l!==s&&(f[s].prototype[l]=c)})),r.each(t.static,function(c,l){f[s][l]=c})}},$C=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var a=t[r];for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];o!==void 0&&(e[i]=o)}}return e},Lv=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),ci(e,function(a,i){if(t.call(r,a,i,n)===!1)return!1;Lv(a,t,n,r)}))},FC=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},MC=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],!!t);n++);return t},UC=function(e,t){return!e||Iv(e,"array")?e:xs(e.split(t||","),Ov)},zC=function(e){var t=pe.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},P={trim:Ov,isArray:Ss,is:Iv,toArray:fC,makeMap:OC,each:ci,map:xs,grep:la,inArray:uv,hasOwn:IC,extend:$C,create:LC,walk:Lv,createNS:FC,resolve:MC,explode:UC,_addCacheSuffix:zC},HC=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return vi(r.childNodes[0])},VC=function(e,t){var n=t||document,r=n.createElement(e);return vi(r)},qC=function(e,t){var n=t||document,r=n.createTextNode(e);return vi(r)},vi=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},WC=function(e,t,n){return b.from(e.dom.elementFromPoint(t,n)).map(vi)},x={fromHtml:HC,fromTag:VC,fromText:qC,fromDom:vi,fromPoint:WC},$v=function(e,t){var n=[],r=function(i){return n.push(i),t(i)},a=t(e);do a=a.bind(r);while(a.isSome());return n},jC=function(e,t,n){return(e.compareDocumentPosition(t)&n)!=0},KC=function(e,t){return jC(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},GC=8,Fv=9,Mv=11,Bs=1,XC=3,va=function(e,t){var n=e.dom;if(n.nodeType!==Bs)return!1;var r=n;if(r.matches!==void 0)return r.matches(t);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Uv=function(e){return e.nodeType!==Bs&&e.nodeType!==Fv&&e.nodeType!==Mv||e.childElementCount===0},YC=function(e,t){var n=t===void 0?document:t.dom;return Uv(n)?[]:Ue(n.querySelectorAll(e),x.fromDom)},QC=function(e,t){var n=t===void 0?document:t.dom;return Uv(n)?b.none():b.from(n.querySelector(e)).map(x.fromDom)},Fe=function(e,t){return e.dom===t.dom},ZC=function(e,t){var n=e.dom,r=t.dom;return n===r?!1:n.contains(r)},JC=function(e,t){return KC(e.dom,t.dom)},Jn=function(e,t){return fn().browser.isIE()?JC(e,t):ZC(e,t)};typeof window!="undefined"||Function("return this;")();var Xe=function(e){var t=e.dom.nodeName;return t.toLowerCase()},zv=function(e){return e.dom.nodeType},ho=function(e){return function(t){return zv(t)===e}},e1=function(e){return zv(e)===GC||Xe(e)==="#comment"},Sn=ho(Bs),tn=ho(XC),t1=ho(Fv),n1=ho(Mv),Hv=function(e){return x.fromDom(e.dom.ownerDocument)},da=function(e){return t1(e)?e:Hv(e)},r1=function(e){return x.fromDom(da(e).dom.documentElement)},Vv=function(e){return x.fromDom(da(e).dom.defaultView)},ln=function(e){return b.from(e.dom.parentNode).map(x.fromDom)},a1=function(e,t){for(var n=ft(t)?t:Pe,r=e.dom,a=[];r.parentNode!==null&&r.parentNode!==void 0;){var i=r.parentNode,o=x.fromDom(i);if(a.push(o),n(o)===!0)break;r=i}return a},i1=function(e){var t=function(n){return _e(n,function(r){return!Fe(e,r)})};return ln(e).map(jt).map(t).getOr([])},Tr=function(e){return b.from(e.dom.previousSibling).map(x.fromDom)},di=function(e){return b.from(e.dom.nextSibling).map(x.fromDom)},qv=function(e){return vo($v(e,Tr))},Wv=function(e){return $v(e,di)},jt=function(e){return Ue(e.dom.childNodes,x.fromDom)},go=function(e,t){var n=e.dom.childNodes;return b.from(n[t]).map(x.fromDom)},jv=function(e){return go(e,0)},Ps=function(e){return go(e,e.dom.childNodes.length-1)},o1=function(e){return e.dom.childNodes.length},u1=function(e){var t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return x.fromDom(t)},Kv=function(e){return n1(e)&&It(e.dom.host)},Gv=ft(Element.prototype.attachShadow)&&ft(Node.prototype.getRootNode),s1=ie(Gv),Ar=Gv?function(e){return x.fromDom(e.dom.getRootNode())}:da,Ds=function(e){return Kv(e)?e:u1(da(e))},f1=function(e){var t=Ar(e);return Kv(t)?b.some(t):b.none()},l1=function(e){return x.fromDom(e.dom.host)},c1=function(e){if(s1()&&It(e.target)){var t=x.fromDom(e.target);if(Sn(t)&&v1(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return Vt(n)}}return b.from(e.target)},v1=function(e){return It(e.dom.shadowRoot)},cn=function(e,t){var n=ln(e);n.each(function(r){r.dom.insertBefore(t.dom,e.dom)})},pi=function(e,t){var n=di(e);n.fold(function(){var r=ln(e);r.each(function(a){vt(a,t)})},function(r){cn(r,t)})},Xv=function(e,t){var n=jv(e);n.fold(function(){vt(e,t)},function(r){e.dom.insertBefore(t.dom,r.dom)})},vt=function(e,t){e.dom.appendChild(t.dom)},d1=function(e,t){cn(e,t),vt(t,e)},p1=function(e,t){te(t,function(n){cn(e,n)})},yo=function(e,t){te(t,function(n){vt(e,n)})},Os=function(e){e.dom.textContent="",te(jt(e),function(t){dt(t)})},dt=function(e){var t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Yv=function(e){var t=jt(e);t.length>0&&p1(e,t),dt(e)},mi=function(e){var t=tn(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;var n=t.ownerDocument;return f1(x.fromDom(t)).fold(function(){return n.body.contains(t)},W0(mi,l1))},Qv=function(e,t){var n=function(r,a){return Qv(e+r,t+a)};return{left:e,top:t,translate:n}},pa=Qv,m1=function(e){var t=e.getBoundingClientRect();return pa(t.left,t.top)},bo=function(e,t){return e!==void 0?e:t!==void 0?t:0},h1=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,a=t.documentElement;if(n===e.dom)return pa(n.offsetLeft,n.offsetTop);var i=bo(r==null?void 0:r.pageYOffset,a.scrollTop),o=bo(r==null?void 0:r.pageXOffset,a.scrollLeft),u=bo(a.clientTop,n.clientTop),s=bo(a.clientLeft,n.clientLeft);return Is(e).translate(o-s,i-u)},Is=function(e){var t=e.dom,n=t.ownerDocument,r=n.body;return r===t?pa(r.offsetLeft,r.offsetTop):mi(e)?m1(t):pa(0,0)},Ls=function(e){var t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return pa(n,r)},Zv=function(e,t,n){var r=n!==void 0?n.dom:document,a=r.defaultView;a&&a.scrollTo(e,t)},Jv=function(e,t){var n=fn().browser.isSafari();n&&ft(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},g1=function(e){var t=e===void 0?window:e;return b.from(t.visualViewport)},ed=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},td=function(e){var t=e===void 0?window:e,n=t.document,r=Ls(x.fromDom(n));return g1(t).fold(function(){var a=t.document.documentElement,i=a.clientWidth,o=a.clientHeight;return ed(r.left,r.top,i,o)},function(a){return ed(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height)})},hi=function(e){return function(t){return!!t&&t.nodeType===e}},Co=function(e){return!!e&&!Object.getPrototypeOf(e)},me=hi(1),nn=function(e){var t=e.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var r=n.nodeName.toLowerCase();return nt(t,r)}return!1}},wo=function(e,t){var n=t.toLowerCase().split(" ");return function(r){var a,i;if(me(r))for(a=0;a<n.length;a++){var o=r.ownerDocument.defaultView.getComputedStyle(r,null);if(i=o?o.getPropertyValue(e):null,i===n[a])return!0}return!1}},nd=function(e){return function(t){return me(t)&&t.hasAttribute(e)}},y1=function(e,t){return function(n){return me(n)&&n.getAttribute(e)===t}},ma=function(e){return me(e)&&e.hasAttribute("data-mce-bogus")},b1=function(e){return me(e)&&e.getAttribute("data-mce-bogus")==="all"},ha=function(e){return me(e)&&e.tagName==="TABLE"},rd=function(e){return function(t){return!!(me(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e))}},$s=nn(["textarea","input"]),ne=hi(3),C1=hi(8),Fs=hi(9),Ms=hi(11),Ke=nn(["br"]),w1=nn(["img"]),xn=rd("true"),Me=rd("false"),ad=nn(["td","th"]),rn=nn(["video","audio","object","embed"]),Eo=function(e){return e.style!==void 0&&ft(e.style.getPropertyValue)},id=function(e,t,n){if(xe(n)||Zc(n)||fa(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Un=function(e,t,n){id(e.dom,t,n)},er=function(e,t){var n=e.dom;je(t,function(r,a){id(n,a,r)})},gi=function(e,t){var n=e.dom.getAttribute(t);return n===null?void 0:n},od=function(e,t){return b.from(gi(e,t))},E1=function(e,t){var n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Rr=function(e,t){e.dom.removeAttribute(t)},S1=function(e){return sn(e.dom.attributes,function(t,n){return t[n.name]=n.value,t},{})},x1=function(e,t,n){if(!xe(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Eo(e)&&e.style.setProperty(t,n)},k1=function(e,t){var n=e.dom;je(t,function(r,a){x1(n,a,r)})},zn=function(e,t){var n=e.dom,r=window.getComputedStyle(n),a=r.getPropertyValue(t);return a===""&&!mi(e)?ud(n,t):a},ud=function(e,t){return Eo(e)?e.style.getPropertyValue(t):""},Us=function(e,t){var n=e.dom,r=ud(n,t);return b.from(r).filter(function(a){return a.length>0})},sd=function(e){var t={},n=e.dom;if(Eo(n))for(var r=0;r<n.style.length;r++){var a=n.style.item(r);t[a]=n.style[a]}return t},N1=function(e){return e.dom.offsetWidth},_1=fn().browser,fd=function(e){return Nt(e,Sn)},T1=function(e){return _1.isFirefox()&&Xe(e)==="table"?fd(jt(e)).filter(function(t){return Xe(t)==="caption"}).bind(function(t){return fd(Wv(t)).map(function(n){var r=n.dom.offsetTop,a=t.dom.offsetTop,i=t.dom.offsetHeight;return r<=a?-i:0})}).getOr(0):0},ld=function(e,t){return e.children&&nt(e.children,t)},A1=function(e,t,n){var r=0,a=0,i,o=e.ownerDocument,u;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&zn(x.fromDom(e),"position")==="static")return u=t.getBoundingClientRect(),r=u.left+(o.documentElement.scrollLeft||e.scrollLeft)-o.documentElement.clientLeft,a=u.top+(o.documentElement.scrollTop||e.scrollTop)-o.documentElement.clientTop,{x:r,y:a};for(i=t;i&&i!==n&&i.nodeType&&!ld(i,n);)r+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType&&!ld(i,n);)r-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode;a+=T1(x.fromDom(t))}return{x:r,y:a}},cd={},vd={exports:cd};(function(e,t,n,r){(function(a){if(typeof t=="object"&&typeof n!="undefined")n.exports=a();else if(typeof e=="function"&&e.amd)e([],a);else{var i;typeof window!="undefined"?i=window:typeof global!="undefined"?i=global:typeof self!="undefined"?i=self:i=this,i.EphoxContactWrapper=a()}})(function(){return function(){function a(i,o,u){function s(l,v){if(!o[l]){if(!i[l]){var p=typeof r=="function"&&r;if(!v&&p)return p(l,!0);if(f)return f(l,!0);var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m}var h=o[l]={exports:{}};i[l][0].call(h.exports,function(d){var y=i[l][1][d];return s(y||d)},h,h.exports,a,i,o,u)}return o[l].exports}for(var f=typeof r=="function"&&r,c=0;c<u.length;c++)s(u[c]);return s}return a}()({1:[function(a,i,o){var u=i.exports={},s,f;function c(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=c}catch{s=c}try{typeof clearTimeout=="function"?f=clearTimeout:f=l}catch{f=l}})();function v(B){if(s===setTimeout)return setTimeout(B,0);if((s===c||!s)&&setTimeout)return s=setTimeout,setTimeout(B,0);try{return s(B,0)}catch{try{return s.call(null,B,0)}catch{return s.call(this,B,0)}}}function p(B){if(f===clearTimeout)return clearTimeout(B);if((f===l||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(B);try{return f(B)}catch{try{return f.call(null,B)}catch{return f.call(this,B)}}}var m=[],h=!1,d,y=-1;function g(){!h||!d||(h=!1,d.length?m=d.concat(m):y=-1,m.length&&C())}function C(){if(!h){var B=v(g);h=!0;for(var F=m.length;F;){for(d=m,m=[];++y<F;)d&&d[y].run();y=-1,F=m.length}d=null,h=!1,p(B)}}u.nextTick=function(B){var F=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)F[M-1]=arguments[M];m.push(new w(B,F)),m.length===1&&!h&&v(C)};function w(B,F){this.fun=B,this.array=F}w.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function S(){}u.on=S,u.addListener=S,u.once=S,u.off=S,u.removeListener=S,u.removeAllListeners=S,u.emit=S,u.prependListener=S,u.prependOnceListener=S,u.listeners=function(B){return[]},u.binding=function(B){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(B){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],2:[function(a,i,o){(function(u){(function(s){var f=setTimeout;function c(){}function l(C,w){return function(){C.apply(w,arguments)}}function v(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof C!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(C,this)}function p(C,w){for(;C._state===3;)C=C._value;if(C._state===0){C._deferreds.push(w);return}C._handled=!0,v._immediateFn(function(){var S=C._state===1?w.onFulfilled:w.onRejected;if(S===null){(C._state===1?m:h)(w.promise,C._value);return}var B;try{B=S(C._value)}catch(F){h(w.promise,F);return}m(w.promise,B)})}function m(C,w){try{if(w===C)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var S=w.then;if(w instanceof v){C._state=3,C._value=w,d(C);return}else if(typeof S=="function"){g(l(S,w),C);return}}C._state=1,C._value=w,d(C)}catch(B){h(C,B)}}function h(C,w){C._state=2,C._value=w,d(C)}function d(C){C._state===2&&C._deferreds.length===0&&v._immediateFn(function(){C._handled||v._unhandledRejectionFn(C._value)});for(var w=0,S=C._deferreds.length;w<S;w++)p(C,C._deferreds[w]);C._deferreds=null}function y(C,w,S){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof w=="function"?w:null,this.promise=S}function g(C,w){var S=!1;try{C(function(B){S||(S=!0,m(w,B))},function(B){S||(S=!0,h(w,B))})}catch(B){if(S)return;S=!0,h(w,B)}}v.prototype.catch=function(C){return this.then(null,C)},v.prototype.then=function(C,w){var S=new this.constructor(c);return p(this,new y(C,w,S)),S},v.all=function(C){var w=Array.prototype.slice.call(C);return new v(function(S,B){if(w.length===0)return S([]);var F=w.length;function M(J,I){try{if(I&&(typeof I=="object"||typeof I=="function")){var se=I.then;if(typeof se=="function"){se.call(I,function(H){M(J,H)},B);return}}w[J]=I,--F==0&&S(w)}catch(H){B(H)}}for(var Q=0;Q<w.length;Q++)M(Q,w[Q])})},v.resolve=function(C){return C&&typeof C=="object"&&C.constructor===v?C:new v(function(w){w(C)})},v.reject=function(C){return new v(function(w,S){S(C)})},v.race=function(C){return new v(function(w,S){for(var B=0,F=C.length;B<F;B++)C[B].then(w,S)})},v._immediateFn=typeof u=="function"?function(C){u(C)}:function(C){f(C,0)},v._unhandledRejectionFn=function(w){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",w)},v._setImmediateFn=function(w){v._immediateFn=w},v._setUnhandledRejectionFn=function(w){v._unhandledRejectionFn=w},typeof i!="undefined"&&i.exports?i.exports=v:s.Promise||(s.Promise=v)})(this)}).call(this,a("timers").setImmediate)},{timers:3}],3:[function(a,i,o){(function(u,s){var f=a("process/browser.js").nextTick,c=Function.prototype.apply,l=Array.prototype.slice,v={},p=0;o.setTimeout=function(){return new m(c.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new m(c.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(h){h.close()};function m(h,d){this._id=h,this._clearFn=d}m.prototype.unref=m.prototype.ref=function(){},m.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(h,d){clearTimeout(h._idleTimeoutId),h._idleTimeout=d},o.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},o._unrefActive=o.active=function(h){clearTimeout(h._idleTimeoutId);var d=h._idleTimeout;d>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},d))},o.setImmediate=typeof u=="function"?u:function(h){var d=p++,y=arguments.length<2?!1:l.call(arguments,1);return v[d]=!0,f(function(){v[d]&&(y?h.apply(null,y):h.call(null),o.clearImmediate(d))}),d},o.clearImmediate=typeof s=="function"?s:function(h){delete v[h]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(a,i,o){var u=a("promise-polyfill"),s=function(){return typeof window!="undefined"?window:Function("return this;")()}();i.exports={boltExport:s.Promise||u}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,cd,vd,void 0);var dd=vd.exports.boltExport,zs=function(e){var t=b.none(),n=[],r=function(f){return zs(function(c){a(function(l){c(f(l))})})},a=function(f){o()?s(f):n.push(f)},i=function(f){o()||(t=b.some(f),u(n),n=[])},o=function(){return t.isSome()},u=function(f){te(f,s)},s=function(f){t.each(function(c){setTimeout(function(){f(c)},0)})};return e(i),{get:a,map:r,isReady:o}},R1=function(e){return zs(function(t){t(e)})},B1={nu:zs,pure:R1},P1=function(e){setTimeout(function(){throw e},0)},ga=function(e){var t=function(s){e().then(s,P1)},n=function(s){return ga(function(){return e().then(s)})},r=function(s){return ga(function(){return e().then(function(f){return s(f).toPromise()})})},a=function(s){return ga(function(){return e().then(function(){return s.toPromise()})})},i=function(){return B1.nu(t)},o=function(){var s=null;return ga(function(){return s===null&&(s=e()),s})},u=e;return{map:n,bind:r,anonBind:a,toLazy:i,toCached:o,toPromise:u,get:t}},D1=function(e){return ga(function(){return new dd(e)})},O1=function(e){return ga(function(){return dd.resolve(e)})},pd={nu:D1,pure:O1},I1=function(e,t){return t(function(n){var r=[],a=0,i=function(o){return function(u){r[o]=u,a++,a>=e.length&&n(r)}};e.length===0?n([]):te(e,function(o,u){o.get(i(u))})})},L1=function(e){return I1(e,pd.nu)},ya=function(e){var t=function(v){return e===v},n=function(v){return ya(e)},r=function(v){return ya(e)},a=function(v){return ya(v(e))},i=function(v){return ya(e)},o=function(v){v(e)},u=function(v){return v(e)},s=function(v,p){return p(e)},f=function(v){return v(e)},c=function(v){return v(e)},l=function(){return b.some(e)};return{is:t,isValue:lt,isError:Pe,getOr:ie(e),getOrThunk:ie(e),getOrDie:ie(e),or:n,orThunk:r,fold:s,map:a,mapError:i,each:o,bind:u,exists:f,forall:c,toOptional:l}},yi=function(e){var t=function(f){return f()},n=function(){return Jc(String(e))()},r=function(f){return f},a=function(f){return f()},i=function(f){return yi(e)},o=function(f){return yi(f(e))},u=function(f){return yi(e)},s=function(f,c){return f(e)};return{is:Pe,isValue:Pe,isError:lt,getOr:un,getOrThunk:t,getOrDie:n,or:r,orThunk:a,fold:s,map:i,mapError:o,each:we,bind:u,exists:Pe,forall:lt,toOptional:b.none}},$1=function(e,t){return e.fold(function(){return yi(t)},ya)},md={value:ya,error:yi,fromOption:$1},F1=function(e){if(!st(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var t=[],n={};return te(e,function(r,a){var i=_r(r);if(i.length!==1)throw new Error("one and only one name per case");var o=i[0],u=r[o];if(n[o]!==void 0)throw new Error("duplicate key detected:"+o);if(o==="cata")throw new Error("cannot have a case named cata (sorry)");if(!st(u))throw new Error("case arguments must be an array");t.push(o),n[o]=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];var c=s.length;if(c!==u.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+u.length+" ("+u+"), got "+c);var l=function(v){var p=_r(v);if(t.length!==p.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+p.join(","));var m=si(t,function(h){return nt(p,h)});if(!m)throw new Error("Not all branches were specified when using match. Specified: "+p.join(", ")+`
Required: `+t.join(", "));return v[o].apply(null,s)};return{fold:function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];if(v.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+v.length);var m=v[a];return m.apply(null,s)},match:l,log:function(v){console.log(v,{constructors:t,constructor:o,params:s})}}}}),n},tr={generate:F1};tr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var hd=function(e){return e.fold(un,un)};function gd(e,t,n,r,a){return e(n,r)?b.some(n):ft(a)&&a(n)?b.none():t(n,r,a)}var bi=function(e,t,n){for(var r=e.dom,a=ft(n)?n:Pe;r.parentNode;){r=r.parentNode;var i=x.fromDom(r);if(t(i))return b.some(i);if(a(i))break}return b.none()},So=function(e,t,n){var r=function(a,i){return i(a)};return gd(r,bi,e,t,n)},M1=function(e,t){var n=e.dom;return n.parentNode?U1(x.fromDom(n.parentNode),function(r){return!Fe(e,r)&&t(r)}):b.none()},U1=function(e,t){var n=function(a){return t(x.fromDom(a))},r=Nt(e.dom.childNodes,n);return r.map(x.fromDom)},xo=function(e,t,n){return bi(e,function(r){return va(r,t)},n)},ko=function(e,t){return QC(t,e)},Hs=function(e,t,n){var r=function(a,i){return va(a,i)};return gd(r,xo,e,t,n)},z1=function(){var e=function(c,l){return function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];c.apply(l,v)}},t=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"},n=function(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof c!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(c,e(i,this),e(o,this))},r=n.immediateFn||typeof setImmediate=="function"&&setImmediate||function(c){return setTimeout(c,1)};function a(c){var l=this;if(this._state===null){this._deferreds.push(c);return}r(function(){var v=l._state?c.onFulfilled:c.onRejected;if(v===null){(l._state?c.resolve:c.reject)(l._value);return}var p;try{p=v(l._value)}catch(m){c.reject(m);return}c.resolve(p)})}function i(c){try{if(c===this)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){f(e(l,c),e(i,this),e(o,this));return}}this._state=!0,this._value=c,u.call(this)}catch(v){o.call(this,v)}}function o(c){this._state=!1,this._value=c,u.call(this)}function u(){for(var c=0,l=this._deferreds.length;c<l;c++)a.call(this,this._deferreds[c]);this._deferreds=null}function s(c,l,v,p){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof l=="function"?l:null,this.resolve=v,this.reject=p}var f=function(c,l,v){var p=!1;try{c(function(m){p||(p=!0,l(m))},function(m){p||(p=!0,v(m))})}catch(m){if(p)return;p=!0,v(m)}};return n.prototype.catch=function(c){return this.then(null,c)},n.prototype.then=function(c,l){var v=this;return new n(function(p,m){a.call(v,new s(c,l,p,m))})},n.all=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var v=Array.prototype.slice.call(c.length===1&&t(c[0])?c[0]:c);return new n(function(p,m){if(v.length===0)return p([]);for(var h=v.length,d=function(g,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var w=C.then;if(typeof w=="function"){w.call(C,function(S){d(g,S)},m);return}}v[g]=C,--h==0&&p(v)}catch(S){m(S)}},y=0;y<v.length;y++)d(y,v[y])})},n.resolve=function(c){return c&&typeof c=="object"&&c.constructor===n?c:new n(function(l){l(c)})},n.reject=function(c){return new n(function(l,v){v(c)})},n.race=function(c){return new n(function(l,v){for(var p=0,m=c.length;p<m;p++)c[p].then(l,v)})},n},rt=window.Promise?window.Promise:z1(),Vs,H1=function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],a=function(o){window.setTimeout(o,0)},i=0;i<r.length&&!n;i++)n=window[r[i]+"RequestAnimationFrame"];n||(n=a),n(e,t)},qs=function(e,t){return typeof t!="number"&&(t=0),setTimeout(e,t)},yd=function(e,t){return typeof t!="number"&&(t=1),setInterval(e,t)},V1=function(e){return clearTimeout(e)},q1=function(e){return clearInterval(e)},bd=function(e,t){var n,r=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];clearTimeout(n),n=qs(function(){e.apply(this,a)},t)};return r.stop=function(){clearTimeout(n)},r},pt={requestAnimationFrame:function(e,t){if(Vs){Vs.then(e);return}Vs=new rt(function(n){t||(t=document.body),H1(n,t)}).then(e)},setTimeout:qs,setInterval:yd,setEditorTimeout:function(e,t,n){return qs(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=yd(function(){e.removed?clearInterval(r):t()},n);return r},debounce:bd,throttle:bd,clearInterval:q1,clearTimeout:V1},Cd=function(e,t){t===void 0&&(t={});var n=0,r={},a=x.fromDom(e),i=da(a),o=t.maxLoadTime||5e3,u=function(d){t.referrerPolicy=d},s=function(d){vt(Ds(a),d)},f=function(d){var y=Ds(a);ko(y,"#"+d).each(dt)},c=function(d){return qt(r,d).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},l=function(d,y,g){var C,w=P._addCacheSuffix(d),S=c(w);r[w]=S,S.count++;var B=function(H,Z){for(var z=H.length;z--;)H[z]();S.status=Z,S.passed=[],S.failed=[],C&&(C.onload=null,C.onerror=null,C=null)},F=function(){return B(S.passed,2)},M=function(){return B(S.failed,3)},Q=function(H,Z){H()||(Date.now()-se<o?pt.setTimeout(Z):M())},J=function(){Q(function(){for(var H=e.styleSheets,Z=H.length;Z--;){var z=H[Z],q=z.ownerNode;if(q&&q.id===C.id)return F(),!0}return!1},J)};if(y&&S.passed.push(y),g&&S.failed.push(g),S.status!==1){if(S.status===2){F();return}if(S.status===3){M();return}S.status=1;var I=x.fromTag("link",i.dom);er(I,{rel:"stylesheet",type:"text/css",id:S.id});var se=Date.now();t.contentCssCors&&Un(I,"crossOrigin","anonymous"),t.referrerPolicy&&Un(I,"referrerpolicy",t.referrerPolicy),C=I.dom,C.onload=J,C.onerror=M,s(I),Un(I,"href",w)}},v=function(d){return pd.nu(function(y){l(d,Nr(y,ie(md.value(d))),Nr(y,ie(md.error(d))))})},p=function(d,y,g){L1(Ue(d,v)).get(function(C){var w=Z0(C,function(S){return S.isValue()});w.fail.length>0?g(w.fail.map(hd)):y(w.pass.map(hd))})},m=function(d){var y=P._addCacheSuffix(d);qt(r,y).each(function(g){var C=--g.count;C===0&&(delete r[y],f(g.id))})},h=function(d){te(d,function(y){m(y)})};return{load:l,loadAll:p,unload:m,unloadAll:h,_setReferrerPolicy:u}},W1=function(){var e=new WeakMap,t=function(n,r){var a=Ar(n),i=a.dom;return b.from(e.get(i)).getOrThunk(function(){var o=Cd(i,r);return e.set(i,o),o})};return{forElement:t}},wd=W1(),Ze=function(){function e(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},e.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},e.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},e.prototype.findSibling=function(t,n,r,a){var i,o;if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){if(i=t[r],i)return i;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[r],i)return i}}},e.prototype.findPreviousNode=function(t,n,r,a){var i,o,u;if(t){if(i=t[r],this.rootNode&&i===this.rootNode)return;if(i){if(!a){for(u=i[n];u;u=u[n])if(!u[n])return u}return i}if(o=t.parentNode,o&&o!==this.rootNode)return o}},e}(),j1=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],K1=["td","th"],G1=["thead","tbody","tfoot"],X1=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Y1=["h1","h2","h3","h4","h5","h6"],Q1=["li","dd","dt"],Z1=["ul","ol","dl"],J1=["pre","script","textarea","style"],nr=function(e){var t;return function(n){return t=t||tC(e,lt),t.hasOwnProperty(Xe(n))}},ew=nr(Y1),kn=nr(j1),tw=function(e){return Xe(e)==="table"},Ws=function(e){return Sn(e)&&!kn(e)},ba=function(e){return Sn(e)&&Xe(e)==="br"},Ed=nr(X1),js=nr(Z1),Ci=nr(Q1),nw=nr(G1),No=nr(K1),_o=nr(J1),rw=function(e,t,n){return xo(e,t,n).isSome()},Ks="\uFEFF",$t="\xA0",aw=function(e){return e===Ks},iw=function(e){return e.replace(/\uFEFF/g,"")},at=Ks,Gs=aw,rr=iw,ow=me,Ca=ne,wa=function(e){return Ca(e)&&(e=e.parentNode),ow(e)&&e.hasAttribute("data-mce-caret")},Ea=function(e){return Ca(e)&&Gs(e.data)},Kt=function(e){return wa(e)||Ea(e)},Sd=function(e){return e.firstChild!==e.lastChild||!Ke(e.firstChild)},uw=function(e,t){var n,r=e.ownerDocument,a=r.createTextNode(at),i=e.parentNode;if(t){if(n=e.previousSibling,Ca(n)){if(Kt(n))return n;if(Ao(n))return n.splitText(n.data.length-1)}i.insertBefore(a,e)}else{if(n=e.nextSibling,Ca(n)){if(Kt(n))return n;if(To(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(a,e.nextSibling):i.appendChild(a)}return a},Xs=function(e){var t=e.container();return ne(t)?t.data.charAt(e.offset())===at||e.isAtStart()&&Ea(t.previousSibling):!1},Ys=function(e){var t=e.container();return ne(t)?t.data.charAt(e.offset()-1)===at||e.isAtEnd()&&Ea(t.nextSibling):!1},sw=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},fw=function(e,t,n){var r=t.ownerDocument,a=r.createElement(e);a.setAttribute("data-mce-caret",n?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(sw());var i=t.parentNode;return n?i.insertBefore(a,t):t.nextSibling?i.insertBefore(a,t.nextSibling):i.appendChild(a),a},To=function(e){return Ca(e)&&e.data[0]===at},Ao=function(e){return Ca(e)&&e.data[e.data.length-1]===at},lw=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];ma(n)&&n.parentNode.removeChild(n)},Qs=function(e){return e&&e.hasAttribute("data-mce-caret")?(lw(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},cw=function(e){return wa(e.startContainer)},xd=xn,vw=Me,dw=Ke,pw=ne,mw=nn(["script","style","textarea"]),kd=nn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),hw=nn(["table"]),gw=Kt,Nn=function(e){return gw(e)?!1:pw(e)?!mw(e.parentNode):kd(e)||dw(e)||hw(e)||Zs(e)},yw=function(e){return me(e)&&e.getAttribute("unselectable")==="true"},Zs=function(e){return yw(e)===!1&&vw(e)},bw=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Zs(e))return!1;if(xd(e))return!0}return!0},Cw=function(e){return Zs(e)?sn(Qn(e.getElementsByTagName("*")),function(t,n){return t||xd(n)},!1)!==!0:!1},ww=function(e){return kd(e)||Cw(e)},Ro=function(e,t){return Nn(e)&&bw(e,t)},Ew=/^[ \t\r\n]*$/,Br=function(e){return Ew.test(e)},Sw=function(e,t){var n=x.fromDom(t),r=x.fromDom(e);return rw(r,"pre,code",Y(Fe,n))},xw=function(e,t){return ne(e)&&Br(e.data)&&Sw(e,t)===!1},kw=function(e){return me(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Bo=function(e,t){return Nn(e)&&xw(e,t)===!1||kw(e)||Nw(e)},Nw=nd("data-mce-bookmark"),_w=nd("data-mce-bogus"),Tw=y1("data-mce-bogus","all"),Aw=function(e,t){var n,r=0;if(Bo(e,e))return!1;if(n=e.firstChild,!n)return!0;var a=new Ze(n,e);do{if(t){if(Tw(n)){n=a.next(!0);continue}if(_w(n)){n=a.next();continue}}if(Ke(n)){r++,n=a.next();continue}if(Bo(n,e))return!1;n=a.next()}while(n);return r<=1},Ft=function(e,t){return t===void 0&&(t=!0),Aw(e.dom,t)},Rw=function(e){return e.nodeName.toLowerCase()==="span"},Nd=function(e,t){return It(e)&&(Bo(e,t)||Ws(x.fromDom(e)))},Bw=function(e,t){var n=new Ze(e,t).prev(!1),r=new Ze(e,t).next(!1),a=oi(n)||Nd(n,t),i=oi(r)||Nd(r,t);return a&&i},_d=function(e){return Rw(e)&&e.getAttribute("data-mce-type")==="bookmark"},Pw=function(e,t){return ne(e)&&e.data.length>0&&Bw(e,t)},Dw=function(e){return me(e)?e.childNodes.length>0:!1},Ow=function(e){return Ms(e)||Fs(e)},Js=function(e,t,n){var r=n||t;if(me(t)&&_d(t))return t;for(var a=t.childNodes,i=a.length-1;i>=0;i--)Js(e,a[i],r);if(me(t)){var o=t.childNodes;o.length===1&&_d(o[0])&&t.parentNode.insertBefore(o[0],t)}return!Ow(t)&&!Bo(t,r)&&!Dw(t)&&!Pw(t,r)&&e.remove(t),t},Iw=P.makeMap,Po=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Do=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Lw=/[<>&\"\']/g,$w=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Fw={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Pr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Mw={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Uw=function(e){var t=x.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Td=function(e,t){var n,r,a,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Pr[r]||(a="&"+e[n+1]+";",i[r]=a,i[a]=r);return i}},ef=Td("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ad=function(e,t){return e.replace(t?Po:Do,function(n){return Pr[n]||n})},zw=function(e){return(""+e).replace(Lw,function(t){return Pr[t]||t})},Rd=function(e,t){return e.replace(t?Po:Do,function(n){return n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":Pr[n]||"&#"+n.charCodeAt(0)+";"})},tf=function(e,t,n){return n=n||ef,e.replace(t?Po:Do,function(r){return Pr[r]||n[r]||r})},Hw=function(e,t){var n=Td(t)||ef,r=function(o,u){return o.replace(u?Po:Do,function(s){return Pr[s]!==void 0?Pr[s]:n[s]!==void 0?n[s]:s.length>1?"&#"+((s.charCodeAt(0)-55296)*1024+(s.charCodeAt(1)-56320)+65536)+";":"&#"+s.charCodeAt(0)+";"})},a=function(o,u){return tf(o,u,n)},i=Iw(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?a:tf:i.numeric?Rd:Ad},Vw=function(e){return e.replace($w,function(t,n){return n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):Fw[n]||String.fromCharCode(n)):Mw[t]||ef[t]||Uw(t)})},Dr={encodeRaw:Ad,encodeAllRaw:zw,encodeNumeric:Rd,encodeNamed:tf,getEncodeFunc:Hw,decode:Vw},ar={},qw={},Sa=P.makeMap,Ct=P.each,nf=P.extend,Bd=P.explode,Ww=P.inArray,it=function(e,t){return e=P.trim(e),e?e.split(t||" "):[]},jw=function(e){var t={},n,r,a,i,o,u,s=function(c,l,v){var p,m,h,d=function(g,C){var w={},S,B;for(S=0,B=g.length;S<B;S++)w[g[S]]=C||{};return w};v=v||[],l=l||"",typeof v=="string"&&(v=it(v));var y=it(c);for(p=y.length;p--;)m=it([n,l].join(" ")),h={attributes:d(m),attributesOrder:m,children:d(v,qw)},t[y[p]]=h},f=function(c,l){var v,p,m,h,d=it(c);v=d.length;for(var y=it(l);v--;)for(p=t[d[v]],m=0,h=y.length;m<h;m++)p.attributes[y[m]]={},p.attributesOrder.push(y[m])};return ar[e]?ar[e]:(n="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(n+=" xml:lang",u="acronym applet basefont big font strike tt",a=[a,u].join(" "),Ct(it(u),function(c){s(c,"",a)}),o="center dir isindex noframes",r=[r,o].join(" "),i=[r,a].join(" "),Ct(it(o),function(c){s(c,"",i)})),i=i||[r,a].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",a),s("q","cite",a),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",a),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?i:a),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),e!=="html4"&&(s("wbr"),s("ruby","",[a,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",a),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[a,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",a),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",a),s("progress","value max",a),s("meter","value min max low high optimum",a),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),e!=="html4"&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allowfullscreen loading")),Ct(it("a form meter progress dfn"),function(c){t[c]&&delete t[c].children[c]}),delete t.caption.children.table,delete t.script,ar[e]=t,t)},rf=function(e,t){var n;return e&&(n={},typeof e=="string"&&(e={"*":e}),Ct(e,function(r,a){n[a]=n[a.toUpperCase()]=t==="map"?Sa(r,/[, ]/):Bd(r,/[, ]/)})),n},ir=function(e){var t={},n={},r=[],a={},i={},o=function(O,N,D){var _=e[O];return _?_=Sa(_,/[, ]/,Sa(_.toUpperCase(),/[, ]/)):(_=ar[O],_||(_=Sa(N," ",Sa(N.toUpperCase()," ")),_=nf(_,D),ar[O]=_)),_};e=e||{};var u=jw(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var s=rf(e.valid_styles),f=rf(e.invalid_styles,"map"),c=rf(e.valid_classes,"map"),l=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),v=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),m=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),h="td th iframe video audio object script code",d=o("non_empty_elements",h+" pre",p),y=o("move_caret_before_on_enter_elements",h+" table",p),g=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),C=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",g),w=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Ct((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(O){i[O]=new RegExp("</"+O+"[^>]*>","gi")});var S=function(O){return new RegExp("^"+O.replace(/([?+*])/g,".$1")+"$")},B=function(O){var N,D,_,W,K,fe,he,Le,Qe,xt,Gn,gt,kt,ze,Fn,Pt,De,Ae,tt=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Cn=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,wn=/[*?+]/;if(O){var Jt=it(O,",");for(t["@"]&&(Pt=t["@"].attributes,De=t["@"].attributesOrder),N=0,D=Jt.length;N<D;N++)if(K=tt.exec(Jt[N]),K){if(ze=K[1],Qe=K[2],Fn=K[3],Le=K[5],gt={},kt=[],fe={attributes:gt,attributesOrder:kt},ze==="#"&&(fe.paddEmpty=!0),ze==="-"&&(fe.removeEmpty=!0),K[4]==="!"&&(fe.removeEmptyAttrs=!0),Pt&&(je(Pt,function(Er,ni){gt[ni]=Er}),kt.push.apply(kt,De)),Le){for(Le=it(Le,"|"),_=0,W=Le.length;_<W;_++)if(K=Cn.exec(Le[_]),K){if(he={},Gn=K[1],xt=K[2].replace(/[\\:]:/g,":"),ze=K[3],Ae=K[4],Gn==="!"&&(fe.attributesRequired=fe.attributesRequired||[],fe.attributesRequired.push(xt),he.required=!0),Gn==="-"){delete gt[xt],kt.splice(Ww(kt,xt),1);continue}ze&&(ze==="="&&(fe.attributesDefault=fe.attributesDefault||[],fe.attributesDefault.push({name:xt,value:Ae}),he.defaultValue=Ae),ze===":"&&(fe.attributesForced=fe.attributesForced||[],fe.attributesForced.push({name:xt,value:Ae}),he.forcedValue=Ae),ze==="<"&&(he.validValues=Sa(Ae,"?"))),wn.test(xt)?(fe.attributePatterns=fe.attributePatterns||[],he.pattern=S(xt),fe.attributePatterns.push(he)):(gt[xt]||kt.push(xt),gt[xt]=he)}}!Pt&&Qe==="@"&&(Pt=gt,De=kt),Fn&&(fe.outputName=Qe,t[Fn]=fe),wn.test(Qe)?(fe.pattern=S(Qe),r.push(fe)):t[Qe]=fe}}},F=function(O){t={},r=[],B(O),Ct(u,function(N,D){n[D]=N.children})},M=function(O){var N=/^(~)?(.+)$/;O&&(ar.text_block_elements=ar.block_elements=null,Ct(it(O,","),function(D){var _=N.exec(D),W=_[1]==="~",K=W?"span":"div",fe=_[2];if(n[fe]=n[K],a[fe]=K,W||(C[fe.toUpperCase()]={},C[fe]={}),!t[fe]){var he=t[K];he=nf({},he),delete he.removeEmptyAttrs,delete he.removeEmpty,t[fe]=he}Ct(n,function(Le,Qe){Le[K]&&(n[Qe]=Le=nf({},n[Qe]),Le[fe]=Le[K])})}))},Q=function(O){var N=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ar[e.schema]=null,O&&Ct(it(O,","),function(D){var _=N.exec(D),W,K;_&&(K=_[1],K?W=n[_[2]]:W=n[_[2]]={"#comment":{}},W=n[_[2]],Ct(it(_[3],"|"),function(fe){K==="-"?delete W[fe]:W[fe]={}}))})},J=function(O){var N=t[O],D;if(N)return N;for(D=r.length;D--;)if(N=r[D],N.pattern.test(O))return N};e.valid_elements?F(e.valid_elements):(Ct(u,function(O,N){t[N]={attributes:O.attributes,attributesOrder:O.attributesOrder},n[N]=O.children}),e.schema!=="html5"&&Ct(it("strong/b em/i"),function(O){var N=it(O,"/");t[N[1]].outputName=N[0]}),Ct(it("ol ul sub sup blockquote span font a table tbody strong em b i"),function(O){t[O]&&(t[O].removeEmpty=!0)}),Ct(it("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(O){t[O].paddEmpty=!0}),Ct(it("span"),function(O){t[O].removeEmptyAttrs=!0})),M(e.custom_elements),Q(e.valid_children),B(e.extended_valid_elements),Q("+ol[ul|ol],+ul[ul|ol]"),Ct({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(O,N){t[N]&&(t[N].parentsRequired=it(O))}),e.invalid_elements&&Ct(Bd(e.invalid_elements),function(O){t[O]&&delete t[O]}),J("span")||B("span[!data-mce-type|*]");var I=function(){return s},se=function(){return f},H=function(){return c},Z=function(){return m},z=function(){return C},q=function(){return g},X=function(){return w},L=function(){return p},G=function(){return v},ke=function(){return d},Be=function(){return y},Te=function(){return l},qe=function(){return i},Ve=function(O,N){var D=n[O.toLowerCase()];return!!(D&&D[N.toLowerCase()])},Bt=function(O,N){var D,_,W=J(O);if(W)if(N){if(W.attributes[N])return!0;if(D=W.attributePatterns,D){for(_=D.length;_--;)if(D[_].pattern.test(O))return!0}}else return!0;return!1},St=function(){return a};return{children:n,elements:t,getValidStyles:I,getValidClasses:H,getBlockElements:z,getInvalidStyles:se,getShortEndedElements:L,getTextBlockElements:q,getTextInlineElements:X,getBoolAttrs:Z,getElementRule:J,getSelfClosingElements:G,getNonEmptyElements:ke,getMoveCaretBeforeOnEnterElements:Be,getWhiteSpaceElements:Te,getSpecialElements:qe,isValidChild:Ve,isValid:Bt,getCustomElements:St,addValidElements:B,setValidElements:F,addCustomElements:M,addValidChildren:Q}},Pd=function(e,t,n,r){var a=function(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i};return"#"+a(t)+a(n)+a(r)},af=function(e,t){var n=this,r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,u,s={},f,c,l=Ks;e=e||{},t&&(f=t.getValidStyles(),c=t.getInvalidStyles());var v=(`\\" \\' \\; \\: ; : `+l).split(" ");for(u=0;u<v.length;u++)s[v[u]]=l+u,s[l+u]=v[u];return{toHex:function(p){return p.replace(r,Pd)},parse:function(p){var m={},h,d,y,g,C=e.url_converter,w=e.url_converter_scope||n,S=function(H,Z,z){var q=m[H+"-top"+Z];if(!!q){var X=m[H+"-right"+Z];if(!!X){var L=m[H+"-bottom"+Z];if(!!L){var G=m[H+"-left"+Z];if(!!G){var ke=[q,X,L,G];for(u=ke.length-1;u--&&ke[u]===ke[u+1];);u>-1&&z||(m[H+Z]=u===-1?ke[0]:ke.join(" "),delete m[H+"-top"+Z],delete m[H+"-right"+Z],delete m[H+"-bottom"+Z],delete m[H+"-left"+Z])}}}}},B=function(H){var Z=m[H],z;if(!!Z){for(Z=Z.split(" "),z=Z.length;z--;)if(Z[z]!==Z[0])return!1;return m[H]=Z[0],!0}},F=function(H,Z,z,q){!B(Z)||!B(z)||!B(q)||(m[H]=m[Z]+" "+m[z]+" "+m[q],delete m[Z],delete m[z],delete m[q])},M=function(H){return g=!0,s[H]},Q=function(H,Z){return g&&(H=H.replace(/\uFEFF[0-9]/g,function(z){return s[z]})),Z||(H=H.replace(/\\([\'\";:])/g,"$1")),H},J=function(H){return String.fromCharCode(parseInt(H.slice(1),16))},I=function(H){return H.replace(/\\[0-9a-f]+/gi,J)},se=function(H,Z,z,q,X,L){if(X=X||L,X)return X=Q(X),"'"+X.replace(/\'/g,"\\'")+"'";if(Z=Q(Z||z||q),!e.allow_script_urls){var G=Z.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(G)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(G))return""}return C&&(Z=C.call(w,Z,"style")),"url('"+Z.replace(/\'/g,"\\'")+"')"};if(p){for(p=p.replace(/[\u0000-\u001F]/g,""),p=p.replace(/\\[\"\';:\uFEFF]/g,M).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(H){return H.replace(/[;:]/g,M)});h=i.exec(p);)if(i.lastIndex=h.index+h[0].length,d=h[1].replace(o,"").toLowerCase(),y=h[2].replace(o,""),d&&y){if(d=I(d),y=I(y),d.indexOf(l)!==-1||d.indexOf('"')!==-1||!e.allow_script_urls&&(d==="behavior"||/expression\s*\(|\/\*|\*\//.test(y)))continue;d==="font-weight"&&y==="700"?y="bold":(d==="color"||d==="background-color")&&(y=y.toLowerCase()),y=y.replace(r,Pd),y=y.replace(a,se),m[d]=g?Q(y,!0):y}S("border","",!0),S("border","-width"),S("border","-color"),S("border","-style"),S("padding",""),S("margin",""),F("border","border-width","border-style","border-color"),m.border==="medium none"&&delete m.border,m["border-image"]==="none"&&delete m["border-image"]}return m},serialize:function(p,m){var h="",d=function(g){var C,w=f[g];if(w)for(var S=0,B=w.length;S<B;S++)g=w[S],C=p[g],C&&(h+=(h.length>0?" ":"")+g+": "+C+";")},y=function(g,C){var w=c["*"];return w&&w[g]?!1:(w=c[C],!(w&&w[g]))};return m&&f?(d("*"),d(m)):je(p,function(g,C){g&&(!c||y(C,m))&&(h+=(h.length>0?" ":"")+C+": "+g+";")}),h}}},Kw="mce-data-",Gw=/^(?:mouse|contextmenu)|click/,Xw={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Yw=function(e){return e.isDefaultPrevented===xa||e.isDefaultPrevented===Oo},Oo=Pe,xa=lt,of=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Io=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Qw=function(e){return Gw.test(e.type)},ka=function(e,t){var n,r=t||{};for(n in e)Xw[n]||(r[n]=e[n]);if(r.target||(r.target=r.srcElement||document),r.composedPath&&(r.composedPath=function(){return e.composedPath()}),e&&Qw(e)&&e.pageX===void 0&&e.clientX!==void 0){var a=r.target.ownerDocument||document,i=a.documentElement,o=a.body;r.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}return r.preventDefault=function(){r.defaultPrevented=!0,r.isDefaultPrevented=xa,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.cancelBubble=!0,r.isPropagationStopped=xa,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=xa,r.stopPropagation()},Yw(r)===!1&&(r.isDefaultPrevented=r.defaultPrevented===!0?xa:Oo,r.isPropagationStopped=r.cancelBubble===!0?xa:Oo,r.isImmediatePropagationStopped=Oo),typeof r.metaKey=="undefined"&&(r.metaKey=!1),r},Zw=function(e,t,n){var r=e.document,a={type:"ready"};if(n.domLoaded){t(a);return}var i=function(){return r.readyState==="complete"||r.readyState==="interactive"&&r.body},o=function(){Io(e,"DOMContentLoaded",o),Io(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(a)),e=null};i()?o():of(e,"DOMContentLoaded",o),n.domLoaded||of(e,"load",o)},Na=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Kw+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(t,n,r,a){var i=this,o,u,s,f,c,l,v,p=window,m=function(d){i.executeHandlers(ka(d||p.event),o)};if(!(!t||t.nodeType===3||t.nodeType===8)){t[i.expando]?o=t[i.expando]:(o=i.count++,t[i.expando]=o,i.events[o]={}),a=a||t;var h=n.split(" ");for(s=h.length;s--;){if(f=h[s],l=m,c=v=!1,f==="DOMContentLoaded"&&(f="ready"),i.domLoaded&&f==="ready"&&t.readyState==="complete"){r.call(a,ka({type:f}));continue}i.hasMouseEnterLeave||(c=i.mouseEnterLeave[f],c&&(l=function(d){var y=d.currentTarget,g=d.relatedTarget;if(g&&y.contains)g=y.contains(g);else for(;g&&g!==y;)g=g.parentNode;g||(d=ka(d||p.event),d.type=d.type==="mouseout"?"mouseleave":"mouseenter",d.target=y,i.executeHandlers(d,o))})),!i.hasFocusIn&&(f==="focusin"||f==="focusout")&&(v=!0,c=f==="focusin"?"focus":"blur",l=function(d){d=ka(d||p.event),d.type=d.type==="focus"?"focusin":"focusout",i.executeHandlers(d,o)}),u=i.events[o][f],u?f==="ready"&&i.domLoaded?r(ka({type:f})):u.push({func:r,scope:a}):(i.events[o][f]=u=[{func:r,scope:a}],u.fakeName=c,u.capture=v,u.nativeHandler=l,f==="ready"?Zw(t,l,i):of(t,c||f,l,v))}return t=u=null,r}},e.prototype.unbind=function(t,n,r){var a,i,o,u,s;if(!t||t.nodeType===3||t.nodeType===8)return this;var f=t[this.expando];if(f){if(s=this.events[f],n){var c=n.split(" ");for(i=c.length;i--;)if(u=c[i],a=s[u],a){if(r){for(o=a.length;o--;)if(a[o].func===r){var l=a.nativeHandler,v=a.fakeName,p=a.capture;a=a.slice(0,o).concat(a.slice(o+1)),a.nativeHandler=l,a.fakeName=v,a.capture=p,s[u]=a}}(!r||a.length===0)&&(delete s[u],Io(t,a.fakeName||u,a.nativeHandler,a.capture))}}else je(s,function(m,h){Io(t,m.fakeName||h,m.nativeHandler,m.capture)}),s={};for(u in s)if(ct(s,u))return this;delete this.events[f];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},e.prototype.fire=function(t,n,r){var a;if(!t||t.nodeType===3||t.nodeType===8)return this;var i=ka(null,r);i.type=n,i.target=t;do a=t[this.expando],a&&this.executeHandlers(i,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!i.isPropagationStopped());return this},e.prototype.clean=function(t){var n,r;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),r=t.getElementsByTagName("*"),n=r.length;n--;)t=r[n],t[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,n){var r=this.events[n],a=r&&r[t.type];if(a)for(var i=0,o=a.length;i<o;i++){var u=a[i];if(u&&u.func.call(u.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Je,Oe,Lo,Dd,wi,uf,Od,$o,or,_a,ur,Gt,Fo,_n,sr,Ta,Jw,Ei,mt="sizzle"+-new Date,vn=window.document,Tn=0,eE=0,Id=cf(),Ld=cf(),$d=cf(),sf=function(e,t){return e===t&&(_a=!0),0},Mo="undefined",Fd=1<<31,tE={}.hasOwnProperty,fr=[],nE=fr.pop,rE=fr.push,lr=fr.push,Md=fr.slice,Or=fr.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},aE="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",We="[\\x20\\t\\r\\n\\f]",Ir="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ud="\\["+We+"*("+Ir+")(?:"+We+"*([*^$|!~]?=)"+We+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ir+"))|)"+We+"*\\]",zd=":("+Ir+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ud+")*)|.*)\\)|)",Uo=new RegExp("^"+We+"+|((?:^|[^\\\\])(?:\\\\.)*)"+We+"+$","g"),iE=new RegExp("^"+We+"*,"+We+"*"),oE=new RegExp("^"+We+"*([>+~]|"+We+")"+We+"*"),uE=new RegExp("="+We+`*([^\\]'"]*?)`+We+"*\\]","g"),sE=new RegExp(zd),fE=new RegExp("^"+Ir+"$"),zo={ID:new RegExp("^#("+Ir+")"),CLASS:new RegExp("^\\.("+Ir+")"),TAG:new RegExp("^("+Ir+"|[*])"),ATTR:new RegExp("^"+Ud),PSEUDO:new RegExp("^"+zd),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+We+"*(even|odd|(([+-]|)(\\d*)n|)"+We+"*(?:([+-]|)"+We+"*(\\d+)|))"+We+"*\\)|)","i"),bool:new RegExp("^(?:"+aE+")$","i"),needsContext:new RegExp("^"+We+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+We+"*((?:-\\d)?\\d*)"+We+"*\\)|)(?=[^-]|$)","i")},lE=/^(?:input|select|textarea|button)$/i,cE=/^h\d$/i,ff=/^[^{]+\{\s*\[native \w/,vE=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,lf=/[+~]/,dE=/'|\\/g,cr=new RegExp("\\\\([\\da-f]{1,6}"+We+"?|("+We+")|.)","ig"),vr=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{lr.apply(fr=Md.call(vn.childNodes),vn.childNodes),fr[vn.childNodes.length].nodeType}catch{lr={apply:fr.length?function(t,n){rE.apply(t,Md.call(n))}:function(t,n){for(var r=t.length,a=0;t[r++]=n[a++];);t.length=r-1}}}var Re=function(e,t,n,r){var a,i,o,u,s,f,c,l,v,p;if((t?t.ownerDocument||t:vn)!==Gt&&ur(t),t=t||Gt,n=n||[],!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(_n&&!r){if(a=vE.exec(e))if(o=a[1]){if(u===9)if(i=t.getElementById(o),i&&i.parentNode){if(i.id===o)return n.push(i),n}else return n;else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(o))&&Ei(t,i)&&i.id===o)return n.push(i),n}else{if(a[2])return lr.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&Je.getElementsByClassName)return lr.apply(n,t.getElementsByClassName(o)),n}if(Je.qsa&&(!sr||!sr.test(e))){if(l=c=mt,v=t,p=u===9&&e,u===1&&t.nodeName.toLowerCase()!=="object"){for(f=wi(e),(c=t.getAttribute("id"))?l=c.replace(dE,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",s=f.length;s--;)f[s]=l+Ho(f[s]);v=lf.test(e)&&vf(t.parentNode)||t,p=f.join(",")}if(p)try{return lr.apply(n,v.querySelectorAll(p)),n}catch{}finally{c||t.removeAttribute("id")}}}return Od(e.replace(Uo,"$1"),t,n,r)};function cf(){var e=[];function t(n,r){return e.push(n+" ")>Oe.cacheLength&&delete t[e.shift()],t[n+" "]=r}return t}function dn(e){return e[mt]=!0,e}function Hd(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||Fd)-(~e.sourceIndex||Fd);if(r)return r;if(n){for(;n=n.nextSibling;)if(n===t)return-1}return e?1:-1}function pE(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function mE(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function Lr(e){return dn(function(t){return t=+t,dn(function(n,r){for(var a,i=e([],n.length,t),o=i.length;o--;)n[a=i[o]]&&(n[a]=!(r[a]=n[a]))})})}function vf(e){return e&&typeof e.getElementsByTagName!==Mo&&e}Je=Re.support={},Dd=Re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},ur=Re.setDocument=function(e){var t,n=e?e.ownerDocument||e:vn,r=n.defaultView;function a(i){try{return i.top}catch{}return null}return n===Gt||n.nodeType!==9||!n.documentElement?Gt:(Gt=n,Fo=n.documentElement,_n=!Dd(n),r&&r!==a(r)&&(r.addEventListener?r.addEventListener("unload",function(){ur()},!1):r.attachEvent&&r.attachEvent("onunload",function(){ur()})),Je.attributes=!0,Je.getElementsByTagName=!0,Je.getElementsByClassName=ff.test(n.getElementsByClassName),Je.getById=!0,Oe.find.ID=function(i,o){if(typeof o.getElementById!==Mo&&_n){var u=o.getElementById(i);return u&&u.parentNode?[u]:[]}},Oe.filter.ID=function(i){var o=i.replace(cr,vr);return function(u){return u.getAttribute("id")===o}},Oe.find.TAG=Je.getElementsByTagName?function(i,o){if(typeof o.getElementsByTagName!==Mo)return o.getElementsByTagName(i)}:function(i,o){var u,s=[],f=0,c=o.getElementsByTagName(i);if(i==="*"){for(;u=c[f++];)u.nodeType===1&&s.push(u);return s}return c},Oe.find.CLASS=Je.getElementsByClassName&&function(i,o){if(_n)return o.getElementsByClassName(i)},Ta=[],sr=[],Je.disconnectedMatch=!0,sr=sr.length&&new RegExp(sr.join("|")),Ta=Ta.length&&new RegExp(Ta.join("|")),t=ff.test(Fo.compareDocumentPosition),Ei=t||ff.test(Fo.contains)?function(i,o){var u=i.nodeType===9?i.documentElement:i,s=o&&o.parentNode;return i===s||!!(s&&s.nodeType===1&&(u.contains?u.contains(s):i.compareDocumentPosition&&i.compareDocumentPosition(s)&16))}:function(i,o){if(o){for(;o=o.parentNode;)if(o===i)return!0}return!1},sf=t?function(i,o){if(i===o)return _a=!0,0;var u=!i.compareDocumentPosition-!o.compareDocumentPosition;return u||(u=(i.ownerDocument||i)===(o.ownerDocument||o)?i.compareDocumentPosition(o):1,u&1||!Je.sortDetached&&o.compareDocumentPosition(i)===u?i===n||i.ownerDocument===vn&&Ei(vn,i)?-1:o===n||o.ownerDocument===vn&&Ei(vn,o)?1:or?Or.call(or,i)-Or.call(or,o):0:u&4?-1:1)}:function(i,o){if(i===o)return _a=!0,0;var u,s=0,f=i.parentNode,c=o.parentNode,l=[i],v=[o];if(!f||!c)return i===n?-1:o===n?1:f?-1:c?1:or?Or.call(or,i)-Or.call(or,o):0;if(f===c)return Hd(i,o);for(u=i;u=u.parentNode;)l.unshift(u);for(u=o;u=u.parentNode;)v.unshift(u);for(;l[s]===v[s];)s++;return s?Hd(l[s],v[s]):l[s]===vn?-1:v[s]===vn?1:0},n)},Re.matches=function(e,t){return Re(e,null,null,t)},Re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Gt&&ur(e),t=t.replace(uE,"='$1']"),Je.matchesSelector&&_n&&(!Ta||!Ta.test(t))&&(!sr||!sr.test(t)))try{var n=Jw.call(e,t);if(n||Je.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch{}return Re(t,Gt,null,[e]).length>0},Re.contains=function(e,t){return(e.ownerDocument||e)!==Gt&&ur(e),Ei(e,t)},Re.attr=function(e,t){(e.ownerDocument||e)!==Gt&&ur(e);var n=Oe.attrHandle[t.toLowerCase()],r=n&&tE.call(Oe.attrHandle,t.toLowerCase())?n(e,t,!_n):void 0;return r!==void 0?r:Je.attributes||!_n?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Re.uniqueSort=function(e){var t,n=[],r=0,a=0;if(_a=!Je.detectDuplicates,or=!Je.sortStable&&e.slice(0),e.sort(sf),_a){for(;t=e[a++];)t===e[a]&&(r=n.push(a));for(;r--;)e.splice(n[r],1)}return or=null,e},Lo=Re.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(a===1||a===9||a===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Lo(e)}else if(a===3||a===4)return e.nodeValue}else for(;t=e[r++];)n+=Lo(t);return n},Oe=Re.selectors={cacheLength:50,createPseudo:dn,match:zo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(cr,vr),e[3]=(e[3]||e[4]||e[5]||"").replace(cr,vr),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return zo.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&sE.test(n)&&(t=wi(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(cr,vr).toLowerCase();return e==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Id[e+" "];return t||(t=new RegExp("(^|"+We+")"+e+"("+We+"|$)"))&&Id(e,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!==Mo&&n.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var a=Re.attr(r,e);return a==null?t==="!=":t?(a+="",t==="="?a===n:t==="!="?a!==n:t==="^="?n&&a.indexOf(n)===0:t==="*="?n&&a.indexOf(n)>-1:t==="$="?n&&a.slice(-n.length)===n:t==="~="?(" "+a+" ").indexOf(n)>-1:t==="|="?a===n||a.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,a){var i=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&a===0?function(s){return!!s.parentNode}:function(s,f,c){var l,v,p,m,h,d,y=i!==o?"nextSibling":"previousSibling",g=s.parentNode,C=u&&s.nodeName.toLowerCase(),w=!c&&!u;if(g){if(i){for(;y;){for(p=s;p=p[y];)if(u?p.nodeName.toLowerCase()===C:p.nodeType===1)return!1;d=y=e==="only"&&!d&&"nextSibling"}return!0}if(d=[o?g.firstChild:g.lastChild],o&&w){for(v=g[mt]||(g[mt]={}),l=v[e]||[],h=l[0]===Tn&&l[1],m=l[0]===Tn&&l[2],p=h&&g.childNodes[h];p=++h&&p&&p[y]||(m=h=0)||d.pop();)if(p.nodeType===1&&++m&&p===s){v[e]=[Tn,h,m];break}}else if(w&&(l=(s[mt]||(s[mt]={}))[e])&&l[0]===Tn)m=l[1];else for(;(p=++h&&p&&p[y]||(m=h=0)||d.pop())&&!((u?p.nodeName.toLowerCase()===C:p.nodeType===1)&&++m&&(w&&((p[mt]||(p[mt]={}))[e]=[Tn,m]),p===s)););return m-=a,m===r||m%r==0&&m/r>=0}}},PSEUDO:function(e,t){var n,r=Oe.pseudos[e]||Oe.setFilters[e.toLowerCase()]||Re.error("unsupported pseudo: "+e);return r[mt]?r(t):r.length>1?(n=[e,e,"",t],Oe.setFilters.hasOwnProperty(e.toLowerCase())?dn(function(a,i){for(var o,u=r(a,t),s=u.length;s--;)o=Or.call(a,u[s]),a[o]=!(i[o]=u[s])}):function(a){return r(a,0,n)}):r}},pseudos:{not:dn(function(e){var t=[],n=[],r=uf(e.replace(Uo,"$1"));return r[mt]?dn(function(a,i,o,u){for(var s,f=r(a,null,u,[]),c=a.length;c--;)(s=f[c])&&(a[c]=!(i[c]=s))}):function(a,i,o){return t[0]=a,r(t,null,o,n),t[0]=null,!n.pop()}}),has:dn(function(e){return function(t){return Re(e,t).length>0}}),contains:dn(function(e){return e=e.replace(cr,vr),function(t){return(t.textContent||t.innerText||Lo(t)).indexOf(e)>-1}}),lang:dn(function(e){return fE.test(e||"")||Re.error("unsupported lang: "+e),e=e.replace(cr,vr).toLowerCase(),function(t){var n;do if(n=_n?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Fo},focus:function(e){return e===Gt.activeElement&&(!Gt.hasFocus||Gt.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Oe.pseudos.empty(e)},header:function(e){return cE.test(e.nodeName)},input:function(e){return lE.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:Lr(function(){return[0]}),last:Lr(function(e,t){return[t-1]}),eq:Lr(function(e,t,n){return[n<0?n+t:n]}),even:Lr(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:Lr(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:Lr(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:Lr(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},Oe.pseudos.nth=Oe.pseudos.eq,te(["radio","checkbox","file","password","image"],function(e){Oe.pseudos[e]=pE(e)}),te(["submit","reset"],function(e){Oe.pseudos[e]=mE(e)});function Vd(){}Vd.prototype=Oe.filters=Oe.pseudos,Oe.setFilters=new Vd,wi=Re.tokenize=function(e,t){var n,r,a,i,o,u,s,f=Ld[e+" "];if(f)return t?0:f.slice(0);for(o=e,u=[],s=Oe.preFilter;o;){(!n||(r=iE.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),u.push(a=[])),n=!1,(r=oE.exec(o))&&(n=r.shift(),a.push({value:n,type:r[0].replace(Uo," ")}),o=o.slice(n.length));for(i in Oe.filter)!Oe.filter.hasOwnProperty(i)||(r=zo[i].exec(o))&&(!s[i]||(r=s[i](r)))&&(n=r.shift(),a.push({value:n,type:i,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?Re.error(e):Ld(e,u).slice(0)};function Ho(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function df(e,t,n){var r=t.dir,a=n&&r==="parentNode",i=eE++;return t.first?function(o,u,s){for(;o=o[r];)if(o.nodeType===1||a)return e(o,u,s)}:function(o,u,s){var f,c,l=[Tn,i];if(s){for(;o=o[r];)if((o.nodeType===1||a)&&e(o,u,s))return!0}else for(;o=o[r];)if(o.nodeType===1||a){if(c=o[mt]||(o[mt]={}),(f=c[r])&&f[0]===Tn&&f[1]===i)return l[2]=f[2];if(c[r]=l,l[2]=e(o,u,s))return!0}}}function pf(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function hE(e,t,n){for(var r=0,a=t.length;r<a;r++)Re(e,t[r],n);return n}function Vo(e,t,n,r,a){for(var i,o=[],u=0,s=e.length,f=t!=null;u<s;u++)(i=e[u])&&(!n||n(i,r,a))&&(o.push(i),f&&t.push(u));return o}function mf(e,t,n,r,a,i){return r&&!r[mt]&&(r=mf(r)),a&&!a[mt]&&(a=mf(a,i)),dn(function(o,u,s,f){var c,l,v,p=[],m=[],h=u.length,d=o||hE(t||"*",s.nodeType?[s]:s,[]),y=e&&(o||!t)?Vo(d,p,e,s,f):d,g=n?a||(o?e:h||r)?[]:u:y;if(n&&n(y,g,s,f),r)for(c=Vo(g,m),r(c,[],s,f),l=c.length;l--;)(v=c[l])&&(g[m[l]]=!(y[m[l]]=v));if(o){if(a||e){if(a){for(c=[],l=g.length;l--;)(v=g[l])&&c.push(y[l]=v);a(null,g=[],c,f)}for(l=g.length;l--;)(v=g[l])&&(c=a?Or.call(o,v):p[l])>-1&&(o[c]=!(u[c]=v))}}else g=Vo(g===u?g.splice(h,g.length):g),a?a(null,u,g,f):lr.apply(u,g)})}function hf(e){for(var t,n,r,a=e.length,i=Oe.relative[e[0].type],o=i||Oe.relative[" "],u=i?1:0,s=df(function(l){return l===t},o,!0),f=df(function(l){return Or.call(t,l)>-1},o,!0),c=[function(l,v,p){var m=!i&&(p||v!==$o)||((t=v).nodeType?s(l,v,p):f(l,v,p));return t=null,m}];u<a;u++)if(n=Oe.relative[e[u].type])c=[df(pf(c),n)];else{if(n=Oe.filter[e[u].type].apply(null,e[u].matches),n[mt]){for(r=++u;r<a&&!Oe.relative[e[r].type];r++);return mf(u>1&&pf(c),u>1&&Ho(e.slice(0,u-1).concat({value:e[u-2].type===" "?"*":""})).replace(Uo,"$1"),n,u<r&&hf(e.slice(u,r)),r<a&&hf(e=e.slice(r)),r<a&&Ho(e))}c.push(n)}return pf(c)}function gE(e,t){var n=t.length>0,r=e.length>0,a=function(i,o,u,s,f){var c,l,v,p=0,m="0",h=i&&[],d=[],y=$o,g=i||r&&Oe.find.TAG("*",f),C=Tn+=y==null?1:Math.random()||.1,w=g.length;for(f&&($o=o!==Gt&&o);m!==w&&(c=g[m])!=null;m++){if(r&&c){for(l=0;v=e[l++];)if(v(c,o,u)){s.push(c);break}f&&(Tn=C)}n&&((c=!v&&c)&&p--,i&&h.push(c))}if(p+=m,n&&m!==p){for(l=0;v=t[l++];)v(h,d,o,u);if(i){if(p>0)for(;m--;)h[m]||d[m]||(d[m]=nE.call(s));d=Vo(d)}lr.apply(s,d),f&&!i&&d.length>0&&p+t.length>1&&Re.uniqueSort(s)}return f&&(Tn=C,$o=y),h};return n?dn(a):a}uf=Re.compile=function(e,t){var n,r=[],a=[],i=$d[e+" "];if(!i){for(t||(t=wi(e)),n=t.length;n--;)i=hf(t[n]),i[mt]?r.push(i):a.push(i);i=$d(e,gE(a,r)),i.selector=e}return i},Od=Re.select=function(e,t,n,r){var a,i,o,u,s,f=typeof e=="function"&&e,c=!r&&wi(e=f.selector||e);if(n=n||[],c.length===1){if(i=c[0]=c[0].slice(0),i.length>2&&(o=i[0]).type==="ID"&&Je.getById&&t.nodeType===9&&_n&&Oe.relative[i[1].type]){if(t=(Oe.find.ID(o.matches[0].replace(cr,vr),t)||[])[0],t)f&&(t=t.parentNode);else return n;e=e.slice(i.shift().value.length)}for(a=zo.needsContext.test(e)?0:i.length;a--&&(o=i[a],!Oe.relative[u=o.type]);)if((s=Oe.find[u])&&(r=s(o.matches[0].replace(cr,vr),lf.test(i[0].type)&&vf(t.parentNode)||t))){if(i.splice(a,1),e=r.length&&Ho(i),!e)return lr.apply(n,r),n;break}}return(f||uf(e,c))(r,t,!_n,n,lf.test(e)&&vf(t.parentNode)||t),n},Je.sortStable=mt.split("").sort(sf).join("")===mt,Je.detectDuplicates=!!_a,ur(),Je.sortDetached=!0;var qd=document,gf=Array.prototype.push,yE=Array.prototype.slice,bE=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Si=Na.Event,CE=P.makeMap("children,contents,next,prev"),xi=function(e){return typeof e!="undefined"},yf=function(e){return typeof e=="string"},wE=function(e){return e&&e===e.window},Wd=function(e,t){t=t||qd;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var a;a=n.firstChild;)r.appendChild(a);return r},Aa=function(e,t,n,r){var a;if(yf(t))t=Wd(t,wf(e[0]));else if(t.length&&!t.nodeType){if(t=de.makeArray(t),r)for(a=t.length-1;a>=0;a--)Aa(e,t[a],n,r);else for(a=0;a<t.length;a++)Aa(e,t[a],n,r);return e}if(t.nodeType)for(a=e.length;a--;)n.call(e[a],t);return e},jd=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Kd=function(e,t,n){var r,a;return t=de(t)[0],e.each(function(){var i=this;(!n||r!==i.parentNode)&&(r=i.parentNode,a=t.cloneNode(!1),i.parentNode.insertBefore(a,i)),a.appendChild(i)}),e},EE=P.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),SE=P.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),xE={for:"htmlFor",class:"className",readonly:"readOnly"},kE={float:"cssFloat"},bf={},Cf={},Xt=function(e,t){return new de.fn.init(e,t)},NE=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},_E=/^\s*|\s*$/g,Gd=function(e){return e==null?"":(""+e).replace(_E,"")},Hn=function(e,t){var n,r,a,i;if(e)if(n=e.length,n===void 0){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(a=0;a<n&&(i=e[a],t.call(i,a,i)!==!1);a++);return e},Xd=function(e,t){var n=[];return Hn(e,function(r,a){t(a,r)&&n.push(a)}),n},wf=function(e){return e?e.nodeType===9?e:e.ownerDocument:qd};Xt.fn=Xt.prototype={constructor:Xt,selector:"",context:null,length:0,init:function(e,t){var n=this,r,a;if(!e)return n;if(e.nodeType)return n.context=n[0]=e,n.length=1,n;if(t&&t.nodeType)n.context=t;else{if(t)return de(e).attr(t);n.context=t=document}if(yf(e))if(n.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?r=[null,e,null]:r=bE.exec(e),r)if(r[1])for(a=Wd(e,wf(t)).firstChild;a;)gf.call(n,a),a=a.nextSibling;else{if(a=wf(t).getElementById(r[2]),!a)return n;if(a.id!==r[2])return n.find(e);n.length=1,n[0]=a}else return de(t).find(e);else this.add(e,!1);return n},toArray:function(){return P.toArray(this)},add:function(e,t){var n=this,r,a;if(yf(e))return n.add(de(e));if(t!==!1)for(r=de.unique(n.toArray().concat(de.makeArray(e))),n.length=r.length,a=0;a<r.length;a++)n[a]=r[a];else gf.apply(n,de.makeArray(e));return n},attr:function(e,t){var n=this,r;if(typeof e=="object")Hn(e,function(a,i){n.attr(a,i)});else if(xi(t))this.each(function(){var a;if(this.nodeType===1){if(a=bf[e],a&&a.set){a.set(this,t);return}t===null?this.removeAttribute(e,2):this.setAttribute(e,t,2)}});else{if(n[0]&&n[0].nodeType===1){if(r=bf[e],r&&r.get)return r.get(n[0],e);if(SE[e])return n.prop(e)?e:void 0;t=n[0].getAttribute(e,2),t===null&&(t=void 0)}return t}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=xE[e]||e,typeof e=="object")Hn(e,function(r,a){n.prop(r,a)});else if(xi(t))this.each(function(){this.nodeType===1&&(this[e]=t)});else return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;return n},css:function(e,t){var n=this,r,a,i=function(u){return u.replace(/-(\D)/g,function(s,f){return f.toUpperCase()})},o=function(u){return u.replace(/[A-Z]/g,function(s){return"-"+s})};if(typeof e=="object")Hn(e,function(u,s){n.css(u,s)});else if(xi(t))e=i(e),typeof t=="number"&&!EE[e]&&(t=t.toString()+"px"),n.each(function(){var u=this.style;if(a=Cf[e],a&&a.set){a.set(this,t);return}try{this.style[kE[e]||e]=t}catch{}(t===null||t==="")&&(u.removeProperty?u.removeProperty(o(e)):u.removeAttribute(e))});else{if(r=n[0],a=Cf[e],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(o(e))}catch{return}else return r.currentStyle?r.currentStyle[i(e)]:""}return n},remove:function(){for(var e=this,t,n=this.length;n--;)t=e[n],Si.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var e=this,t,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(e){var t=this,n;if(xi(e)){n=t.length;try{for(;n--;)t[n].innerHTML=e}catch{de(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(xi(e)){for(n=t.length;n--;)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e;return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return Aa(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Aa(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Aa(e,arguments,function(t){this.parentNode.insertBefore(t,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Aa(e,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):e},appendTo:function(e){return de(e).append(this),this},prependTo:function(e){return de(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Kd(this,e)},wrapAll:function(e){return Kd(this,e,!0)},wrapInner:function(e){return this.each(function(){de(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){de(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),de(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Hn(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(r,a){var i=jd(a,e);if(i!==t){var o=a.className;i?a.className=Gd((" "+o+" ").replace(" "+e+" "," ")):a.className+=o?" "+e:e}})),n},hasClass:function(e){return jd(this[0],e)},each:function(e){return Hn(this,e)},on:function(e,t){return this.each(function(){Si.bind(this,e,t)})},off:function(e,t){return this.each(function(){Si.unbind(this,e,t)})},trigger:function(e){return this.each(function(){typeof e=="object"?Si.fire(this,e.type,e):Si.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return de(yE.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)de.find(e,this[t],r);return de(r)},filter:function(e){return de(typeof e=="function"?Xd(this.toArray(),function(t,n){return e(n,t)}):de.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof de&&(e=e[0]),this.each(function(n,r){for(;r;){if(typeof e=="string"&&de(r).is(e)){t.push(r);break}else if(r===e){t.push(r);break}r=r.parentNode}}),de(t)},offset:function(e){var t,n,r,a=0,i=0,o;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),a=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,i=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:a,top:i})},push:gf,sort:Array.prototype.sort,splice:Array.prototype.splice},P.extend(Xt,{extend:P.extend,makeArray:function(e){return wE(e)||e.nodeType?[e]:P.toArray(e)},inArray:NE,isArray:P.isArray,each:Hn,trim:Gd,grep:Xd,find:Re,expr:Re.selectors,unique:Re.uniqueSort,text:Re.getText,contains:Re.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)t[r].nodeType!==1&&t.splice(r,1);return t.length===1?t=de.find.matchesSelector(t[0],e)?[t[0]]:[]:t=de.find.matches(e,t),t}});var Yd=function(e,t,n){var r=[],a=e[t];for(typeof n!="string"&&n instanceof de&&(n=n[0]);a&&a.nodeType!==9&&!(n!==void 0&&(a===n||typeof n=="string"&&de(a).is(n)));)a.nodeType===1&&r.push(a),a=a[t];return r},Ef=function(e,t,n,r){var a=[];for(r instanceof de&&(r=r[0]);e;e=e[t])if(!(n&&e.nodeType!==n)){if(r!==void 0&&(e===r||typeof r=="string"&&de(e).is(r)))break;a.push(e)}return a},Qd=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Hn({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Yd(e,"parentNode")},next:function(e){return Qd(e,"nextSibling",1)},prev:function(e){return Qd(e,"previousSibling",1)},children:function(e){return Ef(e.firstChild,"nextSibling",1)},contents:function(e){return P.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Xt.fn[e]=function(n){var r=this,a=[];r.each(function(){var o=t.call(a,this,n,a);o&&(de.isArray(o)?a.push.apply(a,o):a.push(o))}),this.length>1&&(CE[e]||(a=de.unique(a)),e.indexOf("parents")===0&&(a=a.reverse()));var i=de(a);return n?i.filter(n):i}}),Hn({parentsUntil:function(e,t){return Yd(e,"parentNode",t)},nextUntil:function(e,t){return Ef(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Ef(e,"previousSibling",1,t).slice(1)}},function(e,t){Xt.fn[e]=function(n,r){var a=this,i=[];a.each(function(){var u=t.call(i,this,n,i);u&&(de.isArray(u)?i.push.apply(i,u):i.push(u))}),this.length>1&&(i=de.unique(i),(e.indexOf("parents")===0||e==="prevUntil")&&(i=i.reverse()));var o=de(i);return r?o.filter(r):o}}),Xt.fn.is=function(e){return!!e&&this.filter(e).length>0},Xt.fn.init.prototype=Xt.fn,Xt.overrideDefaults=function(e){var t,n=function(r,a){return t=t||e(),arguments.length===0&&(r=t.element),a||(a=t.context),new n.fn.init(r,a)};return de.extend(n,this),n},Xt.attrHooks=bf,Xt.cssHooks=Cf;var de=Xt,ki=P.each,TE=P.grep,Zd=pe.ie,AE=/^([a-z0-9],?)+$/i,RE=function(e,t,n){var r=t.keep_values,a={set:function(o,u,s){t.url_converter&&(u=t.url_converter.call(t.url_converter_scope||n(),u,s,o[0])),o.attr("data-mce-"+s,u).attr(s,u)},get:function(o,u){return o.attr("data-mce-"+u)||o.attr(u)}},i={style:{set:function(o,u){if(u!==null&&typeof u=="object"){o.css(u);return}r&&o.attr("data-mce-style",u),u!==null&&typeof u=="string"?(o.removeAttr("style"),o.css(e.parse(u))):o.attr("style",u)},get:function(o){var u=o.attr("data-mce-style")||o.attr("style");return u=e.serialize(e.parse(u),o[0].nodeName),u}}};return r&&(i.href=i.src=a),i},Jd=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Ra=function(e,t){var n=0,r,a;if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)a=e.nodeType,!(t&&a===3&&(a===r||!e.nodeValue.length))&&(n++,r=a);return n},Ie=function(e,t){t===void 0&&(t={});var n={},r=window,a={},i=0,o=!0,u=!0,s=wd.forElement(x.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),f=[],c=t.schema?t.schema:ir({}),l=af({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),v=t.ownEvents?new Na:Na.Event,p=c.getBlockElements(),m=de.overrideDefaults(function(){return{context:e,element:aa.getRoot()}}),h=function(E){if(typeof E=="string")return!!p[E];if(E){var T=E.nodeType;if(T)return!!(T===1&&p[E.nodeName])}return!1},d=function(E){return E&&e&&xe(E)?e.getElementById(E):E},y=function(E){return m(typeof E=="string"?d(E):E)},g=function(E,T,U){var V,ve,Ne=y(E);return Ne.length&&(V=B0[T],V&&V.get?ve=V.get(Ne,T):ve=Ne.attr(T)),typeof ve=="undefined"&&(ve=U||""),ve},C=function(E){var T=d(E);return T?T.attributes:[]},w=function(E,T,U){U===""&&(U=null);var V=y(E),ve=V.attr(T);if(!!V.length){var Ne=B0[T];Ne&&Ne.set?Ne.set(V,U,T):V.attr(T,U),ve!==U&&t.onSetAttrib&&t.onSetAttrib({attrElm:V,attrName:T,attrValue:U})}},S=function(E,T){if(!Zd||E.nodeType!==1||T)return E.cloneNode(T);var U=e.createElement(E.nodeName);return ki(C(E),function(V){w(U,V.nodeName,g(E,V.nodeName))}),U},B=function(){return t.root_element||e.body},F=function(E){var T=td(E);return{x:T.x,y:T.y,w:T.width,h:T.height}},M=function(E,T){return A1(e.body,d(E),T)},Q=function(E,T,U){var V=xe(T)?y(E).css(T,U):y(E).css(T);t.update_styles&&Jd(l,V)},J=function(E,T){var U=y(E).css(T);t.update_styles&&Jd(l,U)},I=function(E,T,U){var V=y(E);return U?V.css(T):(T=T.replace(/-(\D)/g,function(ve,Ne){return Ne.toUpperCase()}),T==="float"&&(T=pe.browser.isIE()?"styleFloat":"cssFloat"),V[0]&&V[0].style?V[0].style[T]:void 0)},se=function(E){var T,U;return E=d(E),T=I(E,"width"),U=I(E,"height"),T.indexOf("px")===-1&&(T=0),U.indexOf("px")===-1&&(U=0),{w:parseInt(T,10)||E.offsetWidth||E.clientWidth,h:parseInt(U,10)||E.offsetHeight||E.clientHeight}},H=function(E){E=d(E);var T=M(E),U=se(E);return{x:T.x,y:T.y,w:U.w,h:U.h}},Z=function(E,T){var U;if(!E)return!1;if(!Array.isArray(E)){if(T==="*")return E.nodeType===1;if(AE.test(T)){var V=T.toLowerCase().split(/,/),ve=E.nodeName.toLowerCase();for(U=V.length-1;U>=0;U--)if(V[U]===ve)return!0;return!1}if(E.nodeType&&E.nodeType!==1)return!1}var Ne=Array.isArray(E)?E:[E];return Re(T,Ne[0].ownerDocument||Ne[0],null,Ne).length>0},z=function(E,T,U,V){var ve=[],Ne,$e=d(E);for(V=V===void 0,U=U||(B().nodeName!=="BODY"?B().parentNode:null),P.is(T,"string")&&(Ne=T,T==="*"?T=function(xr){return xr.nodeType===1}:T=function(xr){return Z(xr,Ne)});$e&&!($e===U||fo($e.nodeType)||Fs($e)||Ms($e));){if(!T||typeof T=="function"&&T($e))if(V)ve.push($e);else return[$e];$e=$e.parentNode}return V?ve:null},q=function(E,T,U){var V=z(E,T,U,!1);return V&&V.length>0?V[0]:null},X=function(E,T,U){var V=T;if(E){for(typeof T=="string"&&(V=function(ve){return Z(ve,T)}),E=E[U];E;E=E[U])if(typeof V=="function"&&V(E))return E}return null},L=function(E,T){return X(E,T,"nextSibling")},G=function(E,T){return X(E,T,"previousSibling")},ke=function(E,T){return Re(E,d(T)||t.root_element||e,[])},Be=function(E,T,U){var V,ve=typeof E=="string"?d(E):E;if(!ve)return!1;if(P.isArray(ve)&&(ve.length||ve.length===0))return V=[],ki(ve,function($e,xr){$e&&V.push(T.call(U,typeof $e=="string"?d($e):$e,xr))}),V;var Ne=U||this;return T.call(Ne,ve)},Te=function(E,T){y(E).each(function(U,V){ki(T,function(ve,Ne){w(V,Ne,ve)})})},qe=function(E,T){var U=y(E);Zd?U.each(function(V,ve){if(ve.canHaveHTML!==!1){for(;ve.firstChild;)ve.removeChild(ve.firstChild);try{ve.innerHTML="<br>"+T,ve.removeChild(ve.firstChild)}catch{de("<div></div>").html("<br>"+T).contents().slice(1).appendTo(ve)}return T}}):U.html(T)},Ve=function(E,T,U,V,ve){return Be(E,function(Ne){var $e=typeof T=="string"?e.createElement(T):T;return Te($e,U),V&&(typeof V!="string"&&V.nodeType?$e.appendChild(V):typeof V=="string"&&qe($e,V)),ve?$e:Ne.appendChild($e)})},Bt=function(E,T,U){return Ve(e.createElement(E),E,T,U,!0)},St=Dr.decode,O=Dr.encodeAllRaw,N=function(E,T,U){var V="",ve;V+="<"+E;for(ve in T)T.hasOwnProperty(ve)&&T[ve]!==null&&typeof T[ve]!="undefined"&&(V+=" "+ve+'="'+O(T[ve])+'"');return typeof U!="undefined"?V+">"+U+"</"+E+">":V+" />"},D=function(E){var T,U=e.createElement("div"),V=e.createDocumentFragment();for(V.appendChild(U),E&&(U.innerHTML=E);T=U.firstChild;)V.appendChild(T);return V.removeChild(U),V},_=function(E,T){var U=y(E);return T?U.each(function(){for(var V;V=this.firstChild;)V.nodeType===3&&V.data.length===0?this.removeChild(V):this.parentNode.insertBefore(V,this)}).remove():U.remove(),U.length>1?U.toArray():U[0]},W=function(E){return Be(E,function(T){var U,V=T.attributes;for(U=V.length-1;U>=0;U--)T.removeAttributeNode(V.item(U))})},K=function(E){return l.parse(E)},fe=function(E,T){return l.serialize(E,T)},he=function(E){var T,U;if(aa!==Ie.DOM&&e===document){if(n[E])return;n[E]=!0}U=e.getElementById("mceDefaultStyles"),U||(U=e.createElement("style"),U.id="mceDefaultStyles",U.type="text/css",T=e.getElementsByTagName("head")[0],T.firstChild?T.insertBefore(U,T.firstChild):T.appendChild(U)),U.styleSheet?U.styleSheet.cssText+=E:U.appendChild(e.createTextNode(E))},Le=function(E){E||(E=""),te(E.split(","),function(T){a[T]=!0,s.load(T,we)})},Qe=function(E,T,U){y(E).toggleClass(T,U).each(function(){this.className===""&&de(this).attr("class",null)})},xt=function(E,T){y(E).addClass(T)},Gn=function(E,T){Qe(E,T,!1)},gt=function(E,T){return y(E).hasClass(T)},kt=function(E){y(E).show()},ze=function(E){y(E).hide()},Fn=function(E){return y(E).css("display")==="none"},Pt=function(E){return(E||"mce_")+i++},De=function(E){var T=typeof E=="string"?d(E):E;return me(T)?T.outerHTML:de("<div></div>").append(de(T).clone()).html()},Ae=function(E,T){y(E).each(function(){try{if("outerHTML"in this){this.outerHTML=T;return}}catch{}_(de(this).html(T),!0)})},tt=function(E,T){var U=d(T);return Be(E,function(V){var ve=U.parentNode,Ne=U.nextSibling;return Ne?ve.insertBefore(V,Ne):ve.appendChild(V),V})},Cn=function(E,T,U){return Be(T,function(V){return P.is(V,"array")&&(E=E.cloneNode(!0)),U&&ki(TE(V.childNodes),function(ve){E.appendChild(ve)}),V.parentNode.replaceChild(E,V)})},wn=function(E,T){var U;return E.nodeName!==T.toUpperCase()&&(U=Bt(T),ki(C(E),function(V){w(U,V.nodeName,g(E,V.nodeName))}),Cn(U,E,!0)),U||E},Jt=function(E,T){for(var U=E,V;U;){for(V=T;V&&U!==V;)V=V.parentNode;if(U===V)break;U=U.parentNode}return!U&&E.ownerDocument?E.ownerDocument.documentElement:U},Er=function(E){return l.toHex(P.trim(E))},ni=function(E){if(me(E)){var T=E.nodeName.toLowerCase()==="a"&&!g(E,"href")&&g(E,"id");if(g(E,"name")||g(E,"data-mce-bookmark")||T)return!0}return!1},Sr=function(E,T){var U,V,ve=0;if(ni(E))return!1;if(E=E.firstChild,E){var Ne=new Ze(E,E.parentNode),$e=c?c.getWhiteSpaceElements():{};T=T||(c?c.getNonEmptyElements():null);do{if(U=E.nodeType,me(E)){var xr=E.getAttribute("data-mce-bogus");if(xr){E=Ne.next(xr==="all");continue}if(V=E.nodeName.toLowerCase(),T&&T[V]){if(V==="br"){ve++,E=Ne.next();continue}return!1}if(ni(E))return!1}if(U===8||U===3&&!Br(E.nodeValue)||U===3&&E.parentNode&&$e[E.parentNode.nodeName]&&Br(E.nodeValue))return!1;E=Ne.next()}while(E)}return ve<=1},ms=function(){return e.createRange()},HF=function(E,T,U){var V=ms(),ve,Ne,$e;if(E&&T)return V.setStart(E.parentNode,Ra(E)),V.setEnd(T.parentNode,Ra(T)),ve=V.extractContents(),V=ms(),V.setStart(T.parentNode,Ra(T)+1),V.setEnd(E.parentNode,Ra(E)+1),Ne=V.extractContents(),$e=E.parentNode,$e.insertBefore(Js(aa,ve),E),U?$e.insertBefore(U,E):$e.insertBefore(T,E),$e.insertBefore(Js(aa,Ne),E),_(E),U||T},T0=function(E,T,U,V){if(P.isArray(E)){for(var ve=E.length,Ne=[];ve--;)Ne[ve]=T0(E[ve],T,U,V);return Ne}t.collect&&(E===e||E===r)&&f.push([E,T,U,V]);var $e=v.bind(E,T,U,V||aa);return $e},A0=function(E,T,U){if(P.isArray(E)){for(var V=E.length,ve=[];V--;)ve[V]=A0(E[V],T,U);return ve}else{if(f.length>0&&(E===e||E===r))for(var V=f.length;V--;){var Ne=f[V];E===Ne[0]&&(!T||T===Ne[1])&&(!U||U===Ne[2])&&v.unbind(Ne[0],Ne[1],Ne[2])}return v.unbind(E,T,U)}},VF=function(E,T,U){return v.fire(E,T,U)},R0=function(E){if(E&&me(E)){var T=E.getAttribute("data-mce-contenteditable");return T&&T!=="inherit"?T:E.contentEditable!=="inherit"?E.contentEditable:null}else return null},qF=function(E){for(var T=B(),U=null;E&&E!==T&&(U=R0(E),U===null);E=E.parentNode);return U},WF=function(){if(f.length>0)for(var E=f.length;E--;){var T=f[E];v.unbind(T[0],T[1],T[2])}je(a,function(U,V){s.unload(V),delete a[V]}),Re.setDocument&&Re.setDocument()},jF=function(E,T){for(;E;){if(T===E)return!0;E=E.parentNode}return!1},KF=function(E){return"startContainer: "+E.startContainer.nodeName+", startOffset: "+E.startOffset+", endContainer: "+E.endContainer.nodeName+", endOffset: "+E.endOffset},aa={doc:e,settings:t,win:r,files:a,stdMode:o,boxModel:u,styleSheetLoader:s,boundEvents:f,styles:l,schema:c,events:v,isBlock:h,$:m,$$:y,root:null,clone:S,getRoot:B,getViewPort:F,getRect:H,getSize:se,getParent:q,getParents:z,get:d,getNext:L,getPrev:G,select:ke,is:Z,add:Ve,create:Bt,createHTML:N,createFragment:D,remove:_,setStyle:Q,getStyle:I,setStyles:J,removeAllAttribs:W,setAttrib:w,setAttribs:Te,getAttrib:g,getPos:M,parseStyle:K,serializeStyle:fe,addStyle:he,loadCSS:Le,addClass:xt,removeClass:Gn,hasClass:gt,toggleClass:Qe,show:kt,hide:ze,isHidden:Fn,uniqueId:Pt,setHTML:qe,getOuterHTML:De,setOuterHTML:Ae,decode:St,encode:O,insertAfter:tt,replace:Cn,rename:wn,findCommonAncestor:Jt,toHex:Er,run:Be,getAttribs:C,isEmpty:Sr,createRng:ms,nodeIndex:Ra,split:HF,bind:T0,unbind:A0,fire:VF,getContentEditable:R0,getContentEditableParent:qF,destroy:WF,isChildOf:jF,dumpRng:KF},B0=RE(l,t,function(){return aa});return aa};Ie.DOM=Ie(document),Ie.nodeIndex=Ra;var BE=Ie.DOM,Sf=P.each,PE=P.grep,DE=0,ep=1,qo=2,tp=3,Vn=function(){function e(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return e.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},e.prototype.loadScript=function(t,n,r){var a=BE,i,o=function(){a.remove(f),i&&(i.onerror=i.onload=i=null)},u=function(){o(),n()},s=function(){o(),ft(r)?r():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+t)},f=a.uniqueId();i=document.createElement("script"),i.id=f,i.type="text/javascript",i.src=P._addCacheSuffix(t),this.settings.referrerPolicy&&a.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=u,i.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},e.prototype.isDone=function(t){return this.states[t]===qo},e.prototype.markDone=function(t){this.states[t]=qo},e.prototype.add=function(t,n,r,a){var i=this.states[t];this.queue.push(t),i===void 0&&(this.states[t]=DE),n&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:n,failure:a,scope:r||this}))},e.prototype.load=function(t,n,r,a){return this.add(t,n,r,a)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,n,r){this.loadScripts(this.queue,t,n,r)},e.prototype.loadScripts=function(t,n,r,a){var i=this,o=[],u=function(f,c){Sf(i.scriptLoadedCallbacks[c],function(l){ft(l[f])&&l[f].call(l.scope)}),i.scriptLoadedCallbacks[c]=void 0};i.queueLoadedCallbacks.push({success:n,failure:a,scope:r||this});var s=function(){var f=PE(t);if(t.length=0,Sf(f,function(l){if(i.states[l]===qo){u("success",l);return}if(i.states[l]===tp){u("failure",l);return}i.states[l]!==ep&&(i.states[l]=ep,i.loading++,i.loadScript(l,function(){i.states[l]=qo,i.loading--,u("success",l),s()},function(){i.states[l]=tp,i.loading--,o.push(l),u("failure",l),s()}))}),!i.loading){var c=i.queueLoadedCallbacks.slice(0);i.queueLoadedCallbacks.length=0,Sf(c,function(l){o.length===0?ft(l.success)&&l.success.call(l.scope):ft(l.failure)&&l.failure.call(l.scope,o)})}};s()},e.ScriptLoader=new e,e}(),Ye=function(e){var t=e,n=function(){return t},r=function(a){t=a};return{get:n,set:r}},OE=function(e){return bt(e)&&ct(e,"raw")},IE=function(e){return st(e)&&e.length>1},Ni={},xf=Ye("en"),np=function(){return qt(Ni,xf.get())},LE=function(){return av(Ni,function(e){return Ce({},e)})},$E=function(e){e&&xf.set(e)},FE=function(){return xf.get()},ME=function(e,t){var n=Ni[e];n||(Ni[e]=n={}),je(t,function(r,a){n[a.toLowerCase()]=r})},UE=function(e){var t=np().getOr({}),n=function(s){return ft(s)?Object.prototype.toString.call(s):r(s)?"":""+s},r=function(s){return s===""||s===null||s===void 0},a=function(s){var f=n(s);return qt(t,f.toLowerCase()).map(n).getOr(f)},i=function(s){return s.replace(/{context:\w+}$/,"")};if(r(e))return"";if(OE(e))return n(e.raw);if(IE(e)){var o=e.slice(1),u=a(e[0]).replace(/\{([0-9]+)\}/g,function(s,f){return ct(o,f)?n(o[f]):s});return i(u)}return i(a(e))},zE=function(){return np().bind(function(e){return qt(e,"_dir")}).exists(function(e){return e==="rtl"})},HE=function(e){return ct(Ni,e)},pn={getData:LE,setCode:$E,getCode:FE,add:ME,translate:UE,isRtl:zE,hasCode:HE},Mt=function(){var e=[],t={},n={},r=[],a=function(h,d){var y=_e(r,function(g){return g.name===h&&g.state===d});te(y,function(g){return g.callback()})},i=function(h){if(n[h])return n[h].instance},o=function(h){var d;return n[h]&&(d=n[h].dependencies),d||[]},u=function(h,d){Mt.languageLoad!==!1&&m(h,function(){var y=pn.getCode(),g=","+(d||"")+",";!y||d&&g.indexOf(","+y+",")===-1||Vn.ScriptLoader.add(t[h]+"/langs/"+y+".js")},"loaded")},s=function(h,d,y){var g=d;return e.push(g),n[h]={instance:g,dependencies:y},a(h,"added"),g},f=function(h){delete t[h],delete n[h]},c=function(h,d){return typeof d=="object"?d:typeof h=="string"?{prefix:"",resource:d,suffix:""}:{prefix:h.prefix,resource:d,suffix:h.suffix}},l=function(h,d){var y=t[h];te(d,function(g){Vn.ScriptLoader.add(y+"/"+g)})},v=function(h,d,y,g){var C=o(h);te(C,function(w){var S=c(d,w);p(S.resource,S,void 0,void 0)}),y&&(g?y.call(g):y.call(Vn))},p=function(h,d,y,g,C){if(!t[h]){var w=typeof d=="string"?d:d.prefix+d.resource+d.suffix;w.indexOf("/")!==0&&w.indexOf("://")===-1&&(w=Mt.baseURL+"/"+w),t[h]=w.substring(0,w.lastIndexOf("/"));var S=function(){a(h,"loaded"),v(h,d,y,g)};n[h]?S():Vn.ScriptLoader.add(w,S,g,C)}},m=function(h,d,y){y===void 0&&(y="added"),ct(n,h)&&y==="added"||ct(t,h)&&y==="loaded"?d():r.push({name:h,state:y,callback:d})};return{items:e,urls:t,lookup:n,_listeners:r,get:i,dependencies:o,requireLangPack:u,add:s,remove:f,createUrl:c,addComponents:l,load:p,waitFor:m}};Mt.languageLoad=!0,Mt.baseURL="",Mt.PluginManager=Mt(),Mt.ThemeManager=Mt();var kf=function(e,t){var n=null,r=function(){n!==null&&(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n===null&&(n=setTimeout(function(){e.apply(null,i),n=null},t))};return{cancel:r,throttle:a}},rp=function(e,t){var n=null,r=function(){n!==null&&(clearTimeout(n),n=null)},a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n!==null&&clearTimeout(n),n=setTimeout(function(){e.apply(null,i),n=null},t)};return{cancel:r,throttle:a}},Nf=function(e,t){var n=gi(e,t);return n===void 0||n===""?[]:n.split(" ")},VE=function(e,t,n){var r=Nf(e,t),a=r.concat([n]);return Un(e,t,a.join(" ")),!0},qE=function(e,t,n){var r=_e(Nf(e,t),function(a){return a!==n});return r.length>0?Un(e,t,r.join(" ")):Rr(e,t),!1},Wo=function(e){return e.dom.classList!==void 0},WE=function(e){return Nf(e,"class")},jE=function(e,t){return VE(e,"class",t)},KE=function(e,t){return qE(e,"class",t)},jo=function(e,t){Wo(e)?e.dom.classList.add(t):jE(e,t)},GE=function(e){var t=Wo(e)?e.dom.classList:WE(e);t.length===0&&Rr(e,"class")},XE=function(e,t){if(Wo(e)){var n=e.dom.classList;n.remove(t)}else KE(e,t);GE(e)},ap=function(e,t){return Wo(e)&&e.dom.classList.contains(t)},ip=function(e,t){var n=[];return te(jt(e),function(r){t(r)&&(n=n.concat([r])),n=n.concat(ip(r,t))}),n},Dt=function(e,t){return YC(t,e)},_f=ie("mce-annotation"),_i=ie("data-mce-annotation"),Ko=ie("data-mce-annotation-uid"),op=function(e,t){var n=e.selection.getRng(),r=x.fromDom(n.startContainer),a=x.fromDom(e.getBody()),i=t.fold(function(){return"."+_f()},function(f){return"["+_i()+'="'+f+'"]'}),o=go(r,n.startOffset).getOr(r),u=Hs(o,i,function(f){return Fe(f,a)}),s=function(f,c){return E1(f,c)?b.some(gi(f,c)):b.none()};return u.bind(function(f){return s(f,""+Ko()).bind(function(c){return s(f,""+_i()).map(function(l){var v=QE(e,c);return{uid:c,name:l,elements:v}})})})},YE=function(e){return Sn(e)&&ap(e,_f())},QE=function(e,t){var n=x.fromDom(e.getBody());return Dt(n,"["+Ko()+'="'+t+'"]')},ZE=function(e,t){var n=x.fromDom(e.getBody()),r=Dt(n,"["+_i()+'="'+t+'"]'),a={};return te(r,function(i){var o=gi(i,Ko()),u=a.hasOwnProperty(o)?a[o]:[];a[o]=u.concat([i])}),a},JE=function(e,t){var n=Ye({}),r=function(){return{listeners:[],previous:Ye(b.none())}},a=function(c,l){i(c,function(v){return l(v),v})},i=function(c,l){var v=n.get(),p=v.hasOwnProperty(c)?v[c]:r(),m=l(p);v[c]=m,n.set(v)},o=function(c,l,v){a(c,function(p){te(p.listeners,function(m){return m(!0,c,{uid:l,nodes:Ue(v,function(h){return h.dom})})})})},u=function(c){a(c,function(l){te(l.listeners,function(v){return v(!1,c)})})},s=rp(function(){var c=n.get(),l=nC(_r(c));te(l,function(v){i(v,function(p){var m=p.previous.get();return op(e,b.some(v)).fold(function(){m.isSome()&&(u(v),p.previous.set(b.none()))},function(h){var d=h.uid,y=h.name,g=h.elements;m.is(d)||(o(y,d,g),p.previous.set(b.some(d)))}),{previous:p.previous,listeners:p.listeners}})})},30);e.on("remove",function(){s.cancel()}),e.on("NodeChange",function(){s.throttle()});var f=function(c,l){i(c,function(v){return{previous:v.previous,listeners:v.listeners.concat([l])}})};return{addListener:f}},eS=function(e,t){var n=function(r){return b.from(r.attr(_i())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(r){te(r,function(a){n(a).each(function(i){i.persistent===!1&&a.unwrap()})})})})},tS=function(){var e={},t=function(r,a){e[r]={name:r,settings:a}},n=function(r){return e.hasOwnProperty(r)?b.from(e[r]).map(function(a){return a.settings}):b.none()};return{register:t,lookup:n}},up=0,sp=function(e){var t=new Date,n=t.getTime(),r=Math.floor(Math.random()*1e9);return up++,e+"_"+r+up+String(n)},nS=function(e,t){te(t,function(n){jo(e,n)})},rS=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,jt(x.fromDom(r))},aS=function(e){return e.dom.innerHTML},fp=function(e,t){var n=Hv(e),r=n.dom,a=x.fromDom(r.createDocumentFragment()),i=rS(t,r);yo(a,i),Os(e),vt(e,a)},lp=function(e,t){return x.fromDom(e.dom.cloneNode(t))},Ba=function(e){return lp(e,!1)},cp=function(e){return lp(e,!0)},vp=function(e,t,n){n===void 0&&(n=Pe);var r=new Ze(e,t),a=function(i){var o;do o=r[i]();while(o&&!ne(o)&&!n(o));return b.from(o).filter(ne)};return{current:function(){return b.from(r.current()).filter(ne)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}},dp=function(e,t){var n=t||function(o){return e.isBlock(o)||Ke(o)||Me(o)},r=function(o,u,s,f){if(ne(o)){var c=f(o,u,o.data);if(c!==-1)return b.some({container:o,offset:c})}return s().bind(function(l){return r(l.container,l.offset,s,f)})},a=function(o,u,s,f){var c=vp(o,f,n);return r(o,u,function(){return c.prev().map(function(l){return{container:l,offset:l.length}})},s).getOrNull()},i=function(o,u,s,f){var c=vp(o,f,n);return r(o,u,function(){return c.next().map(function(l){return{container:l,offset:0}})},s).getOrNull()};return{backwards:a,forwards:i}},iS=function(e){for(var t=[],n=function(a){t.push(a)},r=0;r<e.length;r++)e[r].each(n);return t},Ot=function(e,t,n){return e.isSome()&&t.isSome()?b.some(n(e.getOrDie(),t.getOrDie())):b.none()},oS=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?b.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):b.none()},uS=function(e,t){return e?b.some(t):b.none()},Pa=Math.round,$r=function(e){return e?{left:Pa(e.left),top:Pa(e.top),bottom:Pa(e.bottom),right:Pa(e.right),width:Pa(e.width),height:Pa(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},pp=function(e,t){return e=$r(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},sS=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},mp=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Da=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:mp(t.top-e.bottom,e,t)},Oa=function(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:mp(t.bottom-e.top,e,t)},hp=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Go=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Ia=function(e,t){return e.nodeType===1&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},fS=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),gp=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&fS.test(e)},lS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(e[r](n))return!0;return!1}},cS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){for(var r=0;r<e.length;r++)if(!e[r](n))return!1;return!0}},yp=me,vS=Nn,bp=wo("display","block table"),dS=wo("float","left right"),Ti=cS(yp,vS,gs(dS)),pS=gs(wo("white-space","pre pre-line pre-wrap")),Ai=ne,Tf=Ke,Cp=Ie.nodeIndex,Xo=Ia,Af=function(e){return"createRange"in e?e.createRange():Ie.DOM.createRng()},Rf=function(e){return e&&/[\r\n\t ]/.test(e)},wp=function(e){return!!e.setStart&&!!e.setEnd},Bf=function(e){var t=e.startContainer,n=e.startOffset,r;return!!(Rf(e.toString())&&pS(t.parentNode)&&ne(t)&&(r=t.data,Rf(r[n-1])||Rf(r[n+1])))},mS=function(e){var t=e.ownerDocument,n=Af(t),r=t.createTextNode($t),a=e.parentNode;a.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=$r(n.getBoundingClientRect());return a.removeChild(r),i},hS=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,a=e.endOffset;if(t===n&&ne(n)&&r===0&&a===1){var i=e.cloneRange();return i.setEndAfter(n),dr(i)}else return null},Ep=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},dr=function(e){var t,n=e.getClientRects();return n.length>0?t=$r(n[0]):t=$r(e.getBoundingClientRect()),!wp(e)&&Tf(e)&&Ep(t)?mS(e):Ep(t)&&wp(e)?hS(e):t},Fr=function(e,t){var n=pp(e,t);return n.width=1,n.right=n.left+1,n},gS=function(e){var t=[],n,r,a=function(o){o.height!==0&&(t.length>0&&sS(o,t[t.length-1])||t.push(o))},i=function(o,u){var s=Af(o.ownerDocument);if(u<o.data.length){if(gp(o.data[u]))return t;if(gp(o.data[u-1])&&(s.setStart(o,u),s.setEnd(o,u+1),!Bf(s)))return a(Fr(dr(s),!1)),t}u>0&&(s.setStart(o,u-1),s.setEnd(o,u),Bf(s)||a(Fr(dr(s),!1))),u<o.data.length&&(s.setStart(o,u),s.setEnd(o,u+1),Bf(s)||a(Fr(dr(s),!0)))};if(Ai(e.container()))return i(e.container(),e.offset()),t;if(yp(e.container()))if(e.isAtEnd())r=Xo(e.container(),e.offset()),Ai(r)&&i(r,r.data.length),Ti(r)&&!Tf(r)&&a(Fr(dr(r),!1));else{if(r=Xo(e.container(),e.offset()),Ai(r)&&i(r,0),Ti(r)&&e.isAtEnd())return a(Fr(dr(r),!1)),t;n=Xo(e.container(),e.offset()-1),Ti(n)&&!Tf(n)&&(bp(n)||bp(r)||!Ti(r))&&a(Fr(dr(n),!1)),Ti(r)&&a(Fr(dr(r),!0))}return t},A=function(e,t,n){var r=function(){return Ai(e),t===0},a=function(){return Ai(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var c=Af(e.ownerDocument);return c.setStart(e,t),c.setEnd(e,t),c},o=function(){return n||(n=gS(A(e,t))),n},u=function(){return o().length>0},s=function(c){return c&&e===c.container()&&t===c.offset()},f=function(c){return Xo(e,c?t-1:t)};return{container:ie(e),offset:ie(t),toRange:i,getClientRects:o,isVisible:u,isAtStart:r,isAtEnd:a,isEqual:s,getNode:f}};A.fromRangeStart=function(e){return A(e.startContainer,e.startOffset)},A.fromRangeEnd=function(e){return A(e.endContainer,e.endOffset)},A.after=function(e){return A(e.parentNode,Cp(e)+1)},A.before=function(e){return A(e.parentNode,Cp(e))},A.isAbove=function(e,t){return Ot(Vt(t.getClientRects()),Yn(e.getClientRects()),Da).getOr(!1)},A.isBelow=function(e,t){return Ot(Yn(t.getClientRects()),Vt(e.getClientRects()),Oa).getOr(!1)},A.isAtStart=function(e){return e?e.isAtStart():!1},A.isAtEnd=function(e){return e?e.isAtEnd():!1},A.isTextPosition=function(e){return e?ne(e.container()):!1},A.isElementPosition=function(e){return A.isTextPosition(e)===!1};var Yo=function(e,t){ne(t)&&t.data.length===0&&e.remove(t)},yS=function(e,t,n){t.insertNode(n),Yo(e,n.previousSibling),Yo(e,n.nextSibling)},bS=function(e,t,n){var r=b.from(n.firstChild),a=b.from(n.lastChild);t.insertNode(n),r.each(function(i){return Yo(e,i.previousSibling)}),a.each(function(i){return Yo(e,i.nextSibling)})},Pf=function(e,t,n){Ms(n)?bS(e,t,n):yS(e,t,n)},mn=ne,Sp=ma,xp=Ie.nodeIndex,kp=function(e){var t=e.parentNode;return Sp(t)?kp(t):t},Df=function(e){return e?po(e.childNodes,function(t,n){return Sp(n)&&n.nodeName!=="BR"?t=t.concat(Df(n)):t.push(n),t},[]):[]},CS=function(e,t){for(;(e=e.previousSibling)&&mn(e);)t+=e.data.length;return t},Np=function(e){return function(t){return e===t}},wS=function(e){var t,n;t=Df(kp(e)),n=sv(t,Np(e),e),t=t.slice(0,n+1);var r=po(t,function(a,i,o){return mn(i)&&mn(t[o-1])&&a++,a},0);return t=la(t,nn([e.nodeName])),n=sv(t,Np(e),e),n-r},_p=function(e){var t;return mn(e)?t="text()":t=e.nodeName.toLowerCase(),t+"["+wS(e)+"]"},ES=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&!(n&&n(t));t=t.parentNode)r.push(t);return r},Tp=function(e,t){var n,r,a=[],i,o,u;return n=t.container(),r=t.offset(),mn(n)?i=CS(n,r):(o=n.childNodes,r>=o.length?(i="after",r=o.length-1):i="before",n=o[r]),a.push(_p(n)),u=ES(e,n),u=la(u,gs(ma)),a=a.concat(xs(u,function(s){return _p(s)})),a.reverse().join("/")+","+i},SS=function(e,t,n){var r=Df(e);return r=la(r,function(a,i){return!mn(a)||!mn(r[i-1])}),r=la(r,nn([t])),r[n]},xS=function(e,t){for(var n=e,r=0,a;mn(n);){if(a=n.data.length,t>=r&&t<=r+a){e=n,t=t-r;break}if(!mn(n.nextSibling)){e=n,t=a;break}r+=a,n=n.nextSibling}return mn(e)&&t>e.data.length&&(t=e.data.length),A(e,t)},Ap=function(e,t){var n;if(!t)return null;var r=t.split(","),a=r[0].split("/");n=r.length>1?r[1]:"before";var i=po(a,function(o,u){var s=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return s?(s[1]==="text()"&&(s[1]="#text"),SS(o,s[1],parseInt(s[2],10))):null},e);return i?mn(i)?xS(i,parseInt(n,10)):(n==="after"?n=xp(i)+1:n=xp(i),A(i.parentNode,n)):null},Qo=Me,kS=function(e,t,n){var r,a;for(a=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&ne(r);r=r.previousSibling)a+=e(r.data).length;return a},Rp=function(e,t,n,r,a){var i=r[a?"startContainer":"endContainer"],o=r[a?"startOffset":"endOffset"],u=[],s,f=0,c=e.getRoot();for(ne(i)?u.push(n?kS(t,i,o):o):(s=i.childNodes,o>=s.length&&s.length&&(f=1,o=Math.max(0,s.length-1)),u.push(e.nodeIndex(s[o],n)+f));i&&i!==c;i=i.parentNode)u.push(e.nodeIndex(i,n));return u},NS=function(e,t,n,r){var a=t.dom,i={};return i.start=Rp(a,e,n,r,!0),t.isCollapsed()||(i.end=Rp(a,e,n,r,!1)),i},Of=function(e,t,n){var r=0;return P.each(e.select(t),function(a){if(a.getAttribute("data-mce-bogus")!=="all"){if(a===n)return!1;r++}}),r},Bp=function(e,t){var n,r,a,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],me(n)&&n.nodeName==="TR"&&(a=n.childNodes,n=a[Math.min(t?r:r-1,a.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Pp=function(e){return Bp(e,!0),Bp(e,!1),e},Dp=function(e,t){var n;if(me(e)&&(e=Ia(e,t),Qo(e)))return e;if(Kt(e)&&(ne(e)&&wa(e)&&(e=e.parentNode),n=e.previousSibling,Qo(n)||(n=e.nextSibling,Qo(n))))return n},_S=function(e){return Dp(e.startContainer,e.startOffset)||Dp(e.endContainer,e.endOffset)},Op=function(e,t,n){var r=n.getNode(),a=r?r.nodeName:null,i=n.getRng();if(Qo(r)||a==="IMG")return{name:a,index:Of(n.dom,a,r)};var o=_S(i);return o?(a=o.tagName,{name:a,index:Of(n.dom,a,o)}):NS(e,n,t,i)},TS=function(e){var t=e.getRng();return{start:Tp(e.dom.getRoot(),A.fromRangeStart(t)),end:Tp(e.dom.getRoot(),A.fromRangeEnd(t))}},AS=function(e){return{rng:e.getRng()}},Ip=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Lp=function(e,t){var n=e.dom,r=e.getRng(),a=n.uniqueId(),i=e.isCollapsed(),o=e.getNode(),u=o.nodeName;if(u==="IMG")return{name:u,index:Of(n,u,o)};var s=Pp(r.cloneRange());if(!i){s.collapse(!1);var f=Ip(n,a+"_end",t);Pf(n,s,f)}r=Pp(r),r.collapse(!0);var c=Ip(n,a+"_start",t);return Pf(n,r,c),e.moveToBookmark({id:a,keep:!0}),{id:a}},RS=function(e,t,n){return t===2?Op(rr,n,e):t===3?TS(e):t?AS(e):Lp(e,!1)},$p=Y(Op,un,!0),BS=Ie.DOM,PS="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Fp=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var a=e.getParam(t,"","hash");return a.hasOwnProperty(e.id)?a[e.id]:n}else return r},DS=function(e){return e.getParam("iframe_attrs",{})},OS=function(e){return e.getParam("doctype","<!DOCTYPE html>")},IS=function(e){return e.getParam("document_base_url","")},LS=function(e){return Fp(e,"body_id","tinymce")},$S=function(e){return Fp(e,"body_class","")},Mp=function(e){return e.getParam("content_security_policy","")},FS=function(e){return e.getParam("br_in_pre",!0)},ht=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t===!0?"p":t},Ri=function(e){return e.getParam("forced_root_block_attrs",{})},MS=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},US=function(e){return e.getParam("no_newline_selector","")},zS=function(e){return e.getParam("keep_styles",!0)},HS=function(e){return e.getParam("end_container_on_empty_block",!1)},VS=function(e){return P.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},qS=function(e){return P.explode(e.getParam("font_size_classes",""))},WS=function(e){return e.getParam("images_dataimg_filter",lt,"function")},Up=function(e){return e.getParam("automatic_uploads",!0,"boolean")},jS=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},KS=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},zp=function(e){return e.getParam("icons","","string")},GS=function(e){return e.getParam("icons_url","","string")},XS=function(e){return e.getParam("images_upload_url","","string")},YS=function(e){return e.getParam("images_upload_base_path","","string")},QS=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ZS=function(e){return e.getParam("images_upload_handler",null,"function")},JS=function(e){return e.getParam("content_css_cors",!1,"boolean")},Hp=function(e){return e.getParam("referrer_policy","","string")},Vp=function(e){return e.getParam("language","en","string")},ex=function(e){return e.getParam("language_url","","string")},qp=function(e){return e.getParam("indent_use_margin",!1)},tx=function(e){return e.getParam("indentation","40px","string")},nx=function(e){var t=e.getParam("content_css");return xe(t)?Ue(t.split(","),Ts):st(t)?t:t===!1||e.inline?[]:["default"]},Wp=function(e){var t=e.getParam("font_css",[]);return st(t)?t:Ue(t.split(","),Ts)},rx=function(e){return e.getParam("directionality",pn.isRtl()?"rtl":void 0)},ax=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},jp=function(e){var t=e.getParam("object_resizing");return t===!1||pe.iOS?!1:xe(t)?t:"table,img,figure.image,div,video,iframe"},ix=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},ox=function(e){return e.getParam("placeholder",BS.getAttrib(e.getElement(),"placeholder"),"string")},Kp=function(e){return e.getParam("event_root")},ux=function(e){return e.getParam("service_message")},Bi=function(e){return e.getParam("theme")},sx=function(e){return e.getParam("validate")},Pi=function(e){return e.getParam("inline_boundaries")!==!1},fx=function(e){return e.getParam("formats")},lx=function(e){var t=e.getParam("preview_styles",PS);return xe(t)?t:""},cx=function(e){return e.getParam("format_empty_lines",!1,"boolean")},vx=function(e){return e.getParam("custom_ui_selector","","string")},dx=function(e){return e.getParam("theme_url")},px=function(e){return e.getParam("inline")},mx=function(e){return e.getParam("hidden_input")},hx=function(e){return e.getParam("submit_patch")},gx=function(e){return e.getParam("encoding")==="xml"},yx=function(e){return e.getParam("add_form_submit_trigger")},bx=function(e){return e.getParam("add_unload_trigger")},Cx=function(e){return ht(e)!==""},wx=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},Ex=function(e){return e.getParam("disable_nodechange")},Sx=function(e){return e.getParam("readonly")},xx=function(e){return e.getParam("content_css_cors")},If=function(e){return e.getParam("plugins","","string")},kx=function(e){return e.getParam("external_plugins")},Nx=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},_x=function(e){return e.getParam("visual",!0,"boolean")},Tx=function(e){return e.getParam("visual_table_class","mce-item-table","string")},Ax=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Rx=me,Gp=ne,Xp=function(e){var t=e.parentNode;t&&t.removeChild(e)},Yp=function(e){var t=rr(e);return{count:e.length-t.length,text:t}},Qp=function(e){for(var t;(t=e.data.lastIndexOf(at))!==-1;)e.deleteData(t,1)},Zp=function(e,t){return Mr(e),t},Bx=function(e,t){var n=Yp(e.data.substr(0,t.offset())),r=Yp(e.data.substr(t.offset())),a=n.text+r.text;return a.length>0?(Qp(e),A(e,t.offset()-n.count)):t},Px=function(e,t){var n=t.container(),r=Q0(Qn(n.childNodes),e).map(function(a){return a<t.offset()?A(n,t.offset()-1):t}).getOr(t);return Mr(e),r},Dx=function(e,t){return Gp(e)&&t.container()===e?Bx(e,t):Zp(e,t)},Ox=function(e,t){return t.container()===e.parentNode?Px(e,t):Zp(e,t)},Ix=function(e,t){return A.isTextPosition(t)?Dx(e,t):Ox(e,t)},Mr=function(e){Rx(e)&&Kt(e)&&(Sd(e)?e.removeAttribute("data-mce-caret"):Xp(e)),Gp(e)&&(Qp(e),e.data.length===0&&Xp(e))},Lf=fn().browser,Lx=Me,$x=rn,Fx=ad,Mx="*[contentEditable=false],video,audio,embed,object",Jp=function(e,t,n){var r=pp(t.getBoundingClientRect(),n),a,i,o,u,s;return e.tagName==="BODY"?(a=e.ownerDocument.documentElement,i=e.scrollLeft||a.scrollLeft,o=e.scrollTop||a.scrollTop):(s=e.getBoundingClientRect(),i=e.scrollLeft-s.left,o=e.scrollTop-s.top),r.left+=i,r.right+=i,r.top+=o,r.bottom+=o,r.width=1,u=t.offsetWidth-t.clientWidth,u>0&&(n&&(u*=-1),r.left+=u,r.right+=u),r},Ux=function(e){for(var t=Dt(x.fromDom(e),Mx),n=0;n<t.length;n++){var r=t[n].dom,a=r.previousSibling;if(Ao(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(i.length-1,1)}if(a=r.nextSibling,To(a)){var i=a.data;i.length===1?a.parentNode.removeChild(a):a.deleteData(0,1)}}},zx=function(e,t,n,r){var a=Ye(b.none()),i,o,u=ht(e),s=u.length>0?u:"p",f=function(h,d){var y,g;if(c(),Fx(d))return null;if(n(d)){o=fw(s,d,h),y=Jp(t,d,h),de(o).css("top",y.top);var C=de('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(y).appendTo(t)[0];a.set(b.some({caret:C,element:d,before:h})),a.get().each(function(w){h&&de(w.caret).addClass("mce-visual-caret-before")}),l(),g=d.ownerDocument.createRange(),g.setStart(o,0),g.setEnd(o,0)}else return o=uw(d,h),g=d.ownerDocument.createRange(),Di(o.nextSibling)?(g.setStart(o,0),g.setEnd(o,0)):(g.setStart(o,1),g.setEnd(o,1)),g;return g},c=function(){Ux(t),o&&(Mr(o),o=null),a.get().each(function(h){de(h.caret).remove(),a.set(b.none())}),i&&(pt.clearInterval(i),i=null)},l=function(){i=pt.setInterval(function(){r()?de("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):de("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},v=function(){a.get().each(function(h){var d=Jp(t,h.element,h.before);de(h.caret).css(Ce({},d))})},p=function(){return pt.clearInterval(i)},m=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:f,hide:c,getCss:m,reposition:v,destroy:p}},em=function(){return Lf.isIE()||Lf.isEdge()||Lf.isFirefox()},Di=function(e){return Lx(e)||$x(e)},Ur=function(e){return Di(e)||ha(e)&&em()},$f=Me,Hx=rn,Vx=wo("display","block table table-cell table-caption list-item"),tm=Kt,nm=wa,rm=me,qx=Nn,La=function(e){return e>0},zr=function(e){return e<0},Zo=function(e,t){for(var n;n=e(t);)if(!nm(n))return n;return null},$a=function(e,t,n,r,a){var i=new Ze(e,r),o=$f(e)||nm(e);if(zr(t)){if(o&&(e=Zo(i.prev.bind(i),!0),n(e)))return e;for(;e=Zo(i.prev.bind(i),a);)if(n(e))return e}if(La(t)){if(o&&(e=Zo(i.next.bind(i),!0),n(e)))return e;for(;e=Zo(i.next.bind(i),a);)if(n(e))return e}return null},pr=function(e,t){for(;e&&e!==t;){if(Vx(e))return e;e=e.parentNode}return null},An=function(e,t,n){return pr(e.container(),n)===pr(t.container(),n)},Ff=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return rm(n)?n.childNodes[r+e]:null},am=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Wx=function(e,t,n){return pr(t,e)===pr(n,e)},im=function(e,t,n){var r,a;for(e?a="previousSibling":a="nextSibling";n&&n!==t;){if(r=n[a],tm(r)&&(r=r[a]),$f(r)||Hx(r)){if(Wx(t,r,n))return r;break}if(qx(r))break;n=n.parentNode}return null},Oi=Y(am,!0),Ii=Y(am,!1),Mf=function(e,t,n){var r,a,i,o=Y(im,!0,t),u=Y(im,!1,t);a=n.startContainer;var s=n.startOffset;if(wa(a)){if(rm(a)||(a=a.parentNode),i=a.getAttribute("data-mce-caret"),i==="before"&&(r=a.nextSibling,Ur(r)))return Oi(r);if(i==="after"&&(r=a.previousSibling,Ur(r)))return Ii(r)}if(!n.collapsed)return n;if(ne(a)){if(tm(a)){if(e===1){if(r=u(a),r)return Oi(r);if(r=o(a),r)return Ii(r)}if(e===-1){if(r=o(a),r)return Ii(r);if(r=u(a),r)return Oi(r)}return n}if(Ao(a)&&s>=a.data.length-1)return e===1&&(r=u(a),r)?Oi(r):n;if(To(a)&&s<=1)return e===-1&&(r=o(a),r)?Ii(r):n;if(s===a.data.length)return r=u(a),r?Oi(r):n;if(s===0)return r=o(a),r?Ii(r):n}return n},om=function(e,t){return b.from(Ff(e?0:-1,t)).filter($f)},Li=function(e,t,n){var r=Mf(e,t,n);return e===-1?A.fromRangeStart(r):A.fromRangeEnd(r)},Jo=function(e){return b.from(e.getNode()).map(x.fromDom)},jx=function(e){return b.from(e.getNode(!0)).map(x.fromDom)},Uf=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},eu=function(e,t){var n=An(e,t);return!n&&Ke(e.getNode())?!0:n},et;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(et||(et={}));var Kx=Me,Rn=ne,um=me,zf=Ke,Fa=Nn,sm=ww,tu=Ro,Gx=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},fm=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},lm=function(e,t){if(La(e)){if(Fa(t.previousSibling)&&!Rn(t.previousSibling))return A.before(t);if(Rn(t))return A(t,0)}if(zr(e)){if(Fa(t.nextSibling)&&!Rn(t.nextSibling))return A.after(t);if(Rn(t))return A(t,t.data.length)}return zr(e)?zf(t)?A.before(t):A.after(t):A.before(t)},Xx=function(e,t){var n=t.nextSibling;return n&&Fa(n)?Rn(n)?A(n,0):A.before(n):Hf(et.Forwards,A.after(t),e)},Hf=function(e,t,n){var r,a,i,o;if(!um(n)||!t)return null;if(t.isEqual(A.after(n))&&n.lastChild){if(o=A.after(n.lastChild),zr(e)&&Fa(n.lastChild)&&um(n.lastChild))return zf(n.lastChild)?A.before(n.lastChild):o}else o=t;var u=o.container(),s=o.offset();if(Rn(u)){if(zr(e)&&s>0)return A(u,--s);if(La(e)&&s<u.length)return A(u,++s);r=u}else{if(zr(e)&&s>0&&(a=fm(u,s-1),Fa(a)))return!sm(a)&&(i=$a(a,e,tu,a),i)?Rn(i)?A(i,i.data.length):A.after(i):Rn(a)?A(a,a.data.length):A.before(a);if(La(e)&&s<u.childNodes.length&&(a=fm(u,s),Fa(a)))return zf(a)?Xx(n,a):!sm(a)&&(i=$a(a,e,tu,a),i)?Rn(i)?A(i,0):A.before(i):Rn(a)?A(a,0):A.after(a);r=a||o.getNode()}if((La(e)&&o.isAtEnd()||zr(e)&&o.isAtStart())&&(r=$a(r,e,lt,n,!0),tu(r,n)))return lm(e,r);a=$a(r,e,tu,n);var f=Zn(_e(Gx(u,n),Kx));return f&&(!a||!f.contains(a))?(La(e)?o=A.after(f):o=A.before(f),o):a?lm(e,a):null},hn=function(e){return{next:function(t){return Hf(et.Forwards,t,e)},prev:function(t){return Hf(et.Backwards,t,e)}}},Yx=function(e,t,n){var r=e?A.before(n):A.after(n);return Yt(e,t,r)},Qx=function(e){return Ke(e)?A.before(e):A.after(e)},cm=function(e){return A.isTextPosition(e)?e.offset()===0:Nn(e.getNode())},vm=function(e){if(A.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}else return Nn(e.getNode(!0))},dm=function(e,t){return!A.isTextPosition(e)&&!A.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Zx=function(e){return!A.isTextPosition(e)&&Ke(e.getNode())},Jx=function(e,t,n){return e?!dm(t,n)&&!Zx(t)&&vm(t)&&cm(n):!dm(n,t)&&cm(t)&&vm(n)},Yt=function(e,t,n){var r=hn(t);return b.from(e?r.next(n):r.prev(n))},nu=function(e,t,n){return Yt(e,t,n).bind(function(r){return An(n,r,t)&&Jx(e,n,r)?Yt(e,t,r):b.some(r)})},pm=function(e,t,n,r){return nu(e,t,n).bind(function(a){return r(a)?pm(e,t,a,r):b.some(a)})},Ma=function(e,t){var n=e?t.firstChild:t.lastChild;return ne(n)?b.some(A(n,e?0:n.data.length)):n?Nn(n)?b.some(e?A.before(n):Qx(n)):Yx(e,t,n):b.none()},gn=Y(Yt,!0),Bn=Y(Yt,!1),At=Y(Ma,!0),Pn=Y(Ma,!1),mm="_mce_caret",Dn=function(e){return me(e)&&e.id===mm},Hr=function(e,t){for(;t&&t!==e;){if(t.id===mm)return t;t=t.parentNode}return null},ek=function(e){return xe(e.start)},tk=function(e){return e.hasOwnProperty("rng")},nk=function(e){return e.hasOwnProperty("id")},rk=function(e){return e.hasOwnProperty("name")},ak=function(e){return P.isArray(e.start)},hm=function(e,t){return me(t)&&e.isBlock(t)&&!t.innerHTML&&!pe.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},ik=function(e,t){var n,r=e.createRng();return n=Ap(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Ap(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},ok=function(e,t){var n=e.ownerDocument.createTextNode(at);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},uk=function(e){return e.hasChildNodes()===!1},sk=function(e,t){return Pn(e).fold(Pe,function(n){return t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0})},gm=function(e,t,n){return uk(t)&&Hr(e,t)?(ok(t,n),!0):!1},ym=function(e,t,n,r){var a=n[t?"start":"end"],i,o,u,s,f=e.getRoot();if(a){for(u=a[0],o=f,i=a.length-1;i>=1;i--){if(s=o.childNodes,gm(f,o,r))return!0;if(a[i]>s.length-1)return gm(f,o,r)?!0:sk(o,r);o=s[a[i]]}o.nodeType===3&&(u=Math.min(a[0],o.nodeValue.length)),o.nodeType===1&&(u=Math.min(a[0],o.childNodes.length)),t?r.setStart(o,u):r.setEnd(o,u)}return!0},Vf=function(e){return ne(e)&&e.data.length>0},bm=function(e,t,n){var r=e.get(n.id+"_"+t),a,i,o,u,s=n.keep,f,c;if(r){if(a=r.parentNode,t==="start"?(s?r.hasChildNodes()?(a=r.firstChild,i=1):Vf(r.nextSibling)?(a=r.nextSibling,i=0):Vf(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)+1):i=e.nodeIndex(r),f=a,c=i):(s?r.hasChildNodes()?(a=r.firstChild,i=1):Vf(r.previousSibling)?(a=r.previousSibling,i=r.previousSibling.data.length):(a=r.parentNode,i=e.nodeIndex(r)):i=e.nodeIndex(r),f=a,c=i),!s){for(u=r.previousSibling,o=r.nextSibling,P.each(P.grep(r.childNodes),function(l){ne(l)&&(l.nodeValue=l.nodeValue.replace(/\uFEFF/g,""))});r=e.get(n.id+"_"+t);)e.remove(r,!0);u&&o&&u.nodeType===o.nodeType&&ne(u)&&!pe.opera&&(i=u.nodeValue.length,u.appendData(o.nodeValue),e.remove(o),f=u,c=i)}return b.some(A(f,c))}else return b.none()},fk=function(e,t){var n=e.createRng();return ym(e,!0,t,n)&&ym(e,!1,t,n)?b.some(n):b.none()},lk=function(e,t){var n=bm(e,"start",t),r=bm(e,"end",t);return Ot(n,r.or(n),function(a,i){var o=e.createRng();return o.setStart(hm(e,a.container()),a.offset()),o.setEnd(hm(e,i.container()),i.offset()),o})},ck=function(e,t){return b.from(e.select(t.name)[t.index]).map(function(n){var r=e.createRng();return r.selectNode(n),r})},vk=function(e,t){var n=e.dom;if(t){if(ak(t))return fk(n,t);if(ek(t))return b.some(ik(n,t));if(nk(t))return lk(n,t);if(rk(t))return ck(n,t);if(tk(t))return b.some(t.rng)}return b.none()},dk=function(e,t,n){return RS(e,t,n)},pk=function(e,t){vk(e,t).each(function(n){e.setRng(n)})},Ut=function(e){return me(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},mk=function(e){return function(t){return e===t}},$i=mk($t),Ua=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},qf=function(e){return!Ua(e)&&!$i(e)},Wf=function(e){return!!e.nodeType},hk=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Cm=function(e,t,n){var r=n.startOffset,a=n.startContainer,i,o,u;if(!(n.startContainer===n.endContainer&&hk(n.startContainer.childNodes[n.startOffset]))&&a.nodeType===1){for(u=a.childNodes,r<u.length?(a=u[r],i=new Ze(a,e.getParent(a,e.isBlock))):(a=u[u.length-1],i=new Ze(a,e.getParent(a,e.isBlock)),i.next(!0)),o=i.current();o;o=i.next())if(o.nodeType===3&&!Gf(o)){n.setStart(o,0),t.setRng(n);return}}},jf=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(e.nodeType===1||!Gf(e))return e}},Kf=function(e,t){return Wf(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},za=function(e,t,n){return e.schema.isValidChild(t,n)},Gf=function(e,t){if(t===void 0&&(t=!1),It(e)&&ne(e)){var n=t?e.data.replace(/ /g,"\xA0"):e.data;return Br(n)}else return!1},gk=function(e){return It(e)&&ne(e)&&e.length===0},qn=function(e,t){return typeof e!="string"?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(n,r){return t[r]||n})),e},Xf=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Yf=function(e,t,n){return(n==="color"||n==="backgroundColor")&&(t=e.toHex(t)),n==="fontWeight"&&t===700&&(t="bold"),n==="fontFamily"&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},ru=function(e,t,n){return Yf(e,e.getStyle(t,n),n)},wm=function(e,t){var n;return e.getParent(t,function(r){return n=e.getStyle(r,"text-decoration"),n&&n!=="none"}),n},au=function(e,t,n){return e.getParents(t,n,e.getRoot())},yk=function(e,t){var n=function(r){var a=function(i){return i.length>1&&i.charAt(0)==="%"};return Lt(["styles","attributes"],function(i){return qt(r,i).exists(function(o){var u=st(o)?o:uC(o);return Lt(u,a)})})};return Lt(e.formatter.get(t),n)},bk=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],a=function(i){return fi(i,function(o,u){return Lt(r,function(s){return s===u})})};return Lt(e.formatter.get(t),function(i){var o=a(i);return Lt(e.formatter.get(n),function(u){var s=a(u);return sC(o,s)})})},Em=function(e){return li(e,"block")},Qf=function(e){return li(e,"selector")},Zf=function(e){return li(e,"inline")},Sm=function(e,t){return Lt(t.childNodes,e.isBlock)},Ha=Ut,xm=au,km=Gf,Ck=Kf,wk=function(e){return Ke(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Nm=function(e,t){for(var n=t;n;){if(me(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},_m=function(e,t,n,r){for(var a=t.data,i=n;e?i>=0:i<a.length;e?i--:i++)if(r(a.charAt(i)))return e?i+1:i;return-1},Ek=function(e,t,n){return _m(e,t,n,function(r){return $i(r)||Ua(r)})},Sk=function(e,t,n){return _m(e,t,n,qf)},Tm=function(e,t,n,r,a,i){var o,u=e.getParent(n,e.isBlock)||t,s=function(c,l,v){var p=dp(e),m=a?p.backwards:p.forwards;return b.from(m(c,l,function(h,d){return Ha(h.parentNode)?-1:(o=h,v(a,h,d))},u))},f=s(n,r,Ek);return f.bind(function(c){return i?s(c.container,c.offset+(a?-1:0),Sk):b.some(c)}).orThunk(function(){return o?b.some({container:o,offset:a?0:o.length}):b.none()})},Am=function(e,t,n,r,a){ne(r)&&r.nodeValue.length===0&&r[a]&&(r=r[a]);for(var i=xm(e,r),o=0;o<i.length;o++)for(var u=0;u<t.length;u++){var s=t[u];if(!("collapsed"in s&&s.collapsed!==n.collapsed)&&e.is(i[o],s.selector))return i[o]}return r},Rm=function(e,t,n,r){var a,i=e.dom,o=i.getRoot();if(t[0].wrapper||(a=i.getParent(n,t[0].block,o)),!a){var u=i.getParent(n,"LI,TD,TH");a=i.getParent(ne(n)?n.parentNode:n,function(s){return s!==o&&Ck(e,s)},u)}if(a&&t[0].wrapper&&(a=xm(i,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a[r]&&!i.isBlock(a[r])&&(a=a[r],!Xf(a,"br")););return a||n},Bm=function(e,t,n,r){var a=n.parentNode;return It(n[r])?!1:a===t||fo(a)||e.isBlock(a)?!0:Bm(e,t,a,r)},iu=function(e,t,n,r,a){var i=n,o,u=a?"previousSibling":"nextSibling",s=e.getRoot();if(ne(n)&&!km(n)&&(a?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(i))return i;for(o=i[u];o;o=o[u]){var f=ne(o)&&!Bm(e,s,o,u);if(!Ha(o)&&!wk(o)&&!km(o,f))return i}if(i===s||i.parentNode===s){n=i;break}i=i.parentNode}return n},Pm=function(e){return Ha(e.parentNode)||Ha(e)},Va=function(e,t,n,r){r===void 0&&(r=!1);var a=t.startContainer,i=t.startOffset,o=t.endContainer,u=t.endOffset,s=e.dom;if(me(a)&&a.hasChildNodes()&&(a=Ia(a,i),ne(a)&&(i=0)),me(o)&&o.hasChildNodes()&&(o=Ia(o,t.collapsed?u:u-1),ne(o)&&(u=o.nodeValue.length)),a=Nm(s,a),o=Nm(s,o),Pm(a)&&(a=Ha(a)?a:a.parentNode,t.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,ne(a)&&(i=t.collapsed?a.length:0)),Pm(o)&&(o=Ha(o)?o:o.parentNode,t.collapsed?o=o.nextSibling||o:o=o.previousSibling||o,ne(o)&&(u=t.collapsed?0:o.length)),t.collapsed){var f=Tm(s,e.getBody(),a,i,!0,r);f.each(function(l){var v=l.container,p=l.offset;a=v,i=p});var c=Tm(s,e.getBody(),o,u,!1,r);c.each(function(l){var v=l.container,p=l.offset;o=v,u=p})}return(n[0].inline||n[0].block_expand)&&((!n[0].inline||!ne(a)||i===0)&&(a=iu(s,n,a,i,!0)),(!n[0].inline||!ne(o)||u===o.nodeValue.length)&&(o=iu(s,n,o,u,!1))),n[0].selector&&n[0].expand!==!1&&!n[0].inline&&(a=Am(s,n,t,a,"previousSibling"),o=Am(s,n,t,o,"nextSibling")),(n[0].block||n[0].selector)&&(a=Rm(e,n,a,"previousSibling"),o=Rm(e,n,o,"nextSibling"),n[0].block&&(s.isBlock(a)||(a=iu(s,n,a,i,!0)),s.isBlock(o)||(o=iu(s,n,o,u,!1)))),me(a)&&(i=s.nodeIndex(a),a=a.parentNode),me(o)&&(u=s.nodeIndex(o)+1,o=o.parentNode),{startContainer:a,startOffset:i,endContainer:o,endOffset:u}},Dm=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},xk=function(e,t){return Dm(e,t-1)},Fi=function(e,t,n){var r=t.startContainer,a=t.startOffset,i=t.endContainer,o=t.endOffset,u=function(d){var y;return y=d[0],y.nodeType===3&&y===r&&a>=y.nodeValue.length&&d.splice(0,1),y=d[d.length-1],o===0&&d.length>0&&y===i&&y.nodeType===3&&d.splice(d.length-1,1),d},s=function(d,y,g){for(var C=[];d&&d!==g;d=d[y])C.push(d);return C},f=function(d,y){do{if(d.parentNode===y)return d;d=d.parentNode}while(d)},c=function(d,y,g){for(var C=g?"nextSibling":"previousSibling",w=d,S=w.parentNode;w&&w!==y;w=S){S=w.parentNode;var B=s(w===d?w:w[C],C);B.length&&(g||B.reverse(),n(u(B)))}};if(r.nodeType===1&&r.hasChildNodes()&&(r=Dm(r,a)),i.nodeType===1&&i.hasChildNodes()&&(i=xk(i,o)),r===i)return n(u([r]));for(var l=e.findCommonAncestor(r,i),v=r;v;v=v.parentNode){if(v===i)return c(r,l,!0);if(v===l)break}for(var v=i;v;v=v.parentNode){if(v===r)return c(i,l);if(v===l)break}var p=f(r,l)||r,m=f(i,l)||i;c(r,p,!0);var h=s(p===r?p:p.nextSibling,"nextSibling",m===i?m.nextSibling:m);h.length&&n(u(h)),c(i,m)},Jf=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},kk=function(e){return ui(e,function(t){var n=Go(t);return n?[x.fromDom(n)]:[]})},Nk=function(e){return Jf(e).length>1},_k=function(e){return _e(kk(e),No)},Tk=function(e){return Dt(e,"td[data-mce-selected],th[data-mce-selected]")},Om=function(e,t){var n=Tk(t);return n.length>0?n:_k(e)},qa=function(e){return Om(Jf(e.selection.getSel()),x.fromDom(e.getBody()))},Ak=function(e){var t=e.startContainer,n=e.startOffset;return ne(t)?n===0?b.some(x.fromDom(t)):b.none():b.from(t.childNodes[n]).map(x.fromDom)},Rk=function(e){var t=e.endContainer,n=e.endOffset;return ne(t)?n===t.data.length?b.some(x.fromDom(t)):b.none():b.from(t.childNodes[n-1]).map(x.fromDom)},Im=function(e){return jv(e).fold(ie([e]),function(t){return[e].concat(Im(t))})},el=function(e){return Ps(e).fold(ie([e]),function(t){return Xe(t)==="br"?Tr(t).map(function(n){return[e].concat(el(n))}).getOr([]):[e].concat(el(t))})},tl=function(e,t){return Ot(Ak(t),Rk(t),function(n,r){var a=Nt(Im(e),Y(Fe,n)),i=Nt(el(e),Y(Fe,r));return a.isSome()&&i.isSome()}).getOr(!1)},nl=function(e,t,n,r){var a=n,i=new Ze(n,a),o=fi(e.schema.getMoveCaretBeforeOnEnterElements(),function(u,s){return!nt(["td","th","table"],s.toLowerCase())});do{if(ne(n)&&P.trim(n.nodeValue).length!==0){r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length);return}if(o[n.nodeName]){r?t.setStartBefore(n):n.nodeName==="BR"?t.setEndBefore(n):t.setEndAfter(n);return}}while(n=r?i.next():i.prev());a.nodeName==="BODY"&&(r?t.setStart(a,0):t.setEnd(a,a.childNodes.length))},ou=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},rl=function(e,t){var n=qa(e);n.length>0?te(n,function(r){var a=r.dom,i=e.dom.createRng();i.setStartBefore(a),i.setEndAfter(a),t(i,!0)}):t(e.selection.getRng(),!1)},al=function(e,t,n){var r=Lp(e,t);n(r),e.moveToBookmark(r)},Bk=function(e,t){var n=function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return r(i).getOr("")},r=function(i){return e(i)?b.from(i.dom.nodeValue):b.none()},a=function(i,o){if(!e(i))throw new Error("Can only set raw "+t+" value of a "+t+" node");i.dom.nodeValue=o};return{get:n,getOption:r,set:a}},Pk=Bk(tn,"text"),il=function(e){return Pk.get(e)},Dk=function(e){return tn(e)&&il(e)===at},Ok=function(e,t,n,r){return ln(t).fold(function(){return"skipping"},function(a){return r==="br"||Dk(t)?"valid":YE(t)?"existing":Dn(t.dom)?"caret":!za(e,n,r)||!za(e,Xe(a),n)?"invalid-child":"valid"})},Ik=function(e,t){var n=Va(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Lm=function(e,t,n,r){var a=t.uid,i=a===void 0?sp("mce-annotation"):a,o=lC(t,["uid"]),u=x.fromTag("span",e);jo(u,_f()),Un(u,""+Ko(),i),Un(u,""+_i(),n);var s=r(i,o),f=s.attributes,c=f===void 0?{}:f,l=s.classes,v=l===void 0?[]:l;return er(u,c),nS(u,v),u},Lk=function(e,t,n,r,a){var i=[],o=Lm(e.getDoc(),a,n,r),u=Ye(b.none()),s=function(){u.set(b.none())},f=function(){return u.get().getOrThunk(function(){var p=Ba(o);return i.push(p),u.set(b.some(p)),p})},c=function(p){te(p,l)},l=function(p){var m=Ok(e,p,"span",Xe(p));switch(m){case"invalid-child":{s();var h=jt(p);c(h),s();break}case"valid":{var d=f();d1(p,d);break}}},v=function(p){var m=Ue(p,x.fromDom);c(m)};return Fi(e.dom,t,function(p){s(),v(p)}),i},$k=function(e,t,n,r){e.undoManager.transact(function(){var a=e.selection,i=a.getRng(),o=qa(e).length>0;if(i.collapsed&&!o&&Ik(e,i),a.getRng().collapsed&&!o){var u=Lm(e.getDoc(),r,t,n.decorate);fp(u,$t),a.getRng().insertNode(u.dom),a.select(u.dom)}else al(a,!1,function(){rl(e,function(s){Lk(e,s,t,n.decorate,r)})})})},$m=function(e){var t=tS();eS(e,t);var n=JE(e);return{register:function(r,a){t.register(r,a)},annotate:function(r,a){t.lookup(r).each(function(i){$k(e,r,i,a)})},annotationChanged:function(r,a){n.addListener(r,a)},remove:function(r){op(e,b.some(r)).each(function(a){var i=a.elements;te(i,Yv)})},getAll:function(r){var a=ZE(e,r);return av(a,function(i){return Ue(i,function(o){return o.dom})})}}},Mi=function(e){return{getBookmark:Y(dk,e),moveToBookmark:Y(pk,e)}};Mi.isBookmarkNode=Ut;var Ui=function(e,t){for(;t&&t!==e;){if(xn(t)||Me(t))return t;t=t.parentNode}return null},ol=function(e,t,n){if(n.collapsed)return!1;if(pe.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(me(r))return Lt(r.getClientRects(),function(a){return hp(a,e,t)})}return Lt(n.getClientRects(),function(a){return hp(a,e,t)})},Fk=function(e,t){return e.fire("PreProcess",t)},Mk=function(e,t){return e.fire("PostProcess",t)},Uk=function(e){return e.fire("remove")},zk=function(e){return e.fire("detach")},Hk=function(e,t){return e.fire("SwitchMode",{mode:t})},Vk=function(e,t,n,r,a){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:a})},qk=function(e,t,n,r,a){e.fire("ObjectResized",{target:t,width:n,height:r,origin:a})},Wk=function(e){return e.fire("PreInit")},jk=function(e){return e.fire("PostRender")},Kk=function(e){return e.fire("Init")},Gk=function(e,t){return e.fire("PlaceholderToggle",{state:t})},Fm=function(e,t,n){return e.fire(t,n)},ue={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||ue.metaKeyPressed(e)},metaKeyPressed:function(e){return pe.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Xk=Me,Mm=function(e,t){var n="data-mce-selected",r=t.dom,a=P.each,i,o,u,s,f,c,l,v,p,m,h,d,y,g,C,w=t.getDoc(),S=document,B=Math.abs,F=Math.round,M=t.getBody(),Q,J,I={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},se=function(_){return _&&(_.nodeName==="IMG"||t.dom.is(_,"figure.image"))},H=function(_){return rn(_)||r.hasClass(_,"mce-preview-object")},Z=function(_,W){if(_.type==="longpress"||_.type.indexOf("touch")===0){var K=_.touches[0];return se(_.target)&&!ol(K.clientX,K.clientY,W)}else return se(_.target)&&!ol(_.clientX,_.clientY,W)},z=function(_){var W=_.target;Z(_,t.selection.getRng())&&!_.isDefaultPrevented()&&t.selection.select(W)},q=function(_){return r.is(_,"figure.image")?[_.querySelector("img")]:r.hasClass(_,"mce-preview-object")&&It(_.firstElementChild)?[_,_.firstElementChild]:[_]},X=function(_){var W=jp(t);return!W||_.getAttribute("data-mce-resize")==="false"||_===t.getBody()?!1:r.hasClass(_,"mce-preview-object")?va(x.fromDom(_.firstElementChild),W):va(x.fromDom(_),W)},L=function(_){return H(_)?r.create("img",{src:pe.transparentSrc}):_.cloneNode(!0)},G=function(_,W,K){if(It(K)){var fe=q(_);te(fe,function(he){he.style[W]||!t.schema.isValid(he.nodeName.toLowerCase(),W)?r.setStyle(he,W,K):r.setAttrib(he,W,""+K)})}},ke=function(_,W,K){G(_,"width",W),G(_,"height",K)},Be=function(_){var W,K,fe,he,Le;W=_.screenX-c,K=_.screenY-l,g=W*s[2]+m,C=K*s[3]+h,g=g<5?5:g,C=C<5?5:C,(se(i)||H(i))&&ix(t)!==!1?fe=!ue.modifierPressed(_):fe=ue.modifierPressed(_),fe&&(B(W)>B(K)?(C=F(g*d),g=F(C/d)):(g=F(C/d),C=F(g*d))),ke(o,g,C),he=s.startPos.x+W,Le=s.startPos.y+K,he=he>0?he:0,Le=Le>0?Le:0,r.setStyles(u,{left:he,top:Le,display:"block"}),u.innerHTML=g+" &times; "+C,s[2]<0&&o.clientWidth<=g&&r.setStyle(o,"left",v+(m-g)),s[3]<0&&o.clientHeight<=C&&r.setStyle(o,"top",p+(h-C)),W=M.scrollWidth-Q,K=M.scrollHeight-J,W+K!==0&&r.setStyles(u,{left:he-W,top:Le-K}),y||(Vk(t,i,m,h,"corner-"+s.name),y=!0)},Te=function(){var _=y;y=!1,_&&(G(i,"width",g),G(i,"height",C)),r.unbind(w,"mousemove",Be),r.unbind(w,"mouseup",Te),S!==w&&(r.unbind(S,"mousemove",Be),r.unbind(S,"mouseup",Te)),r.remove(o),r.remove(u),r.remove(f),qe(i),_&&(qk(t,i,g,C,"corner-"+s.name),r.setAttrib(i,"style",r.getAttrib(i,"style"))),t.nodeChanged()},qe=function(_){O();var W=r.getPos(_,M),K=W.x,fe=W.y,he=_.getBoundingClientRect(),Le=he.width||he.right-he.left,Qe=he.height||he.bottom-he.top;i!==_&&(Ve(),i=_,g=C=0);var xt=t.fire("ObjectSelected",{target:_}),Gn=r.getAttrib(i,n,"1");X(_)&&!xt.isDefaultPrevented()?a(I,function(gt,kt){var ze,Fn=function(Pt){var De=q(i)[0];c=Pt.screenX,l=Pt.screenY,m=De.clientWidth,h=De.clientHeight,d=h/m,s=gt,s.name=kt,s.startPos={x:Le*gt[0]+K,y:Qe*gt[1]+fe},Q=M.scrollWidth,J=M.scrollHeight,f=r.add(M,"div",{class:"mce-resize-backdrop"}),r.setStyles(f,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),o=L(i),r.addClass(o,"mce-clonedresizable"),r.setAttrib(o,"data-mce-bogus","all"),o.contentEditable="false",r.setStyles(o,{left:K,top:fe,margin:0}),ke(o,Le,Qe),o.removeAttribute(n),M.appendChild(o),r.bind(w,"mousemove",Be),r.bind(w,"mouseup",Te),S!==w&&(r.bind(S,"mousemove",Be),r.bind(S,"mouseup",Te)),u=r.add(M,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+h)};ze=r.get("mceResizeHandle"+kt),ze&&r.remove(ze),ze=r.add(M,"div",{id:"mceResizeHandle"+kt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+kt+"-resize; margin:0; padding:0"}),pe.ie===11&&(ze.contentEditable=!1),r.bind(ze,"mousedown",function(Pt){Pt.stopImmediatePropagation(),Pt.preventDefault(),Fn(Pt)}),gt.elm=ze,r.setStyles(ze,{left:Le*gt[0]+K-ze.offsetWidth/2,top:Qe*gt[1]+fe-ze.offsetHeight/2})}):Ve(),r.getAttrib(i,n)||i.setAttribute(n,Gn)},Ve=function(){O(),i&&i.removeAttribute(n),je(I,function(_,W){var K=r.get("mceResizeHandle"+W);K&&(r.unbind(K),r.remove(K))})},Bt=function(_){var W,K,fe=function(he,Le){if(he)do if(he===Le)return!0;while(he=he.parentNode)};if(!(y||t.removed)){if(a(r.select("img[data-mce-selected],hr[data-mce-selected]"),function(he){he.removeAttribute(n)}),K=_.type==="mousedown"?_.target:e.getNode(),K=r.$(K).closest("table,img,figure.image,hr,video,tp-tabs,tp-collapse,tp-buttons,span.mce-preview-object")[0],fe(K,M)&&(N(),W=e.getStart(!0),fe(W,K)&&fe(e.getEnd(!0),K))){qe(K);return}Ve()}},St=function(_){return Xk(Ui(t.getBody(),_))},O=function(){je(I,function(_){_.elm&&(r.unbind(_.elm),delete _.elm)})},N=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};t.on("init",function(){if(N(),pe.browser.isIE()||pe.browser.isEdge()){t.on("mousedown click",function(K){var fe=K.target,he=fe.nodeName;!y&&/^(TABLE|IMG|HR)$/.test(he)&&!St(fe)&&(K.button!==2&&t.selection.select(fe,he==="TABLE"),K.type==="mousedown"&&t.nodeChanged())});var _=function(K){var fe=function(he){pt.setEditorTimeout(t,function(){return t.selection.select(he)})};if(St(K.target)||rn(K.target)){K.preventDefault(),fe(K.target);return}/^(TABLE|IMG|HR)$/.test(K.target.nodeName)&&(K.preventDefault(),K.target.tagName==="IMG"&&fe(K.target))};r.bind(M,"mscontrolselect",_),t.on("remove",function(){return r.unbind(M,"mscontrolselect",_)})}var W=pt.throttle(function(K){t.composing||Bt(K)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",W),t.on("keyup compositionend",function(K){i&&i.nodeName==="TABLE"&&W(K)}),t.on("hide blur",Ve),t.on("contextmenu longpress",z,!0)}),t.on("remove",O);var D=function(){i=o=f=null};return{isResizable:X,showResizeRect:qe,hideResizeRect:Ve,updateResizeRect:Bt,destroy:D}},Yk=function(e){return xn(e)||Me(e)},Qk=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Zk=function(e,t,n){var r,a=n.elementFromPoint(e,t),i=n.body.createTextRange();if((!a||a.tagName==="HTML")&&(a=n.body),i.moveToElementText(a),r=P.toArray(i.getClientRects()),r=r.sort(function(o,u){return o=Math.abs(Math.max(o.top-t,o.bottom-t)),u=Math.abs(Math.max(u.top-t,u.bottom-t)),o-u}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch{}}return null},Jk=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Me(Qk(n,t,Yk))?null:e},ul=function(e,t,n){var r,a,i=n;if(i.caretPositionFromPoint)a=i.caretPositionFromPoint(e,t),a&&(r=n.createRange(),r.setStart(a.offsetNode,a.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch{r=Zk(e,t,n)}return Jk(r,n.body)}return r},sl=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},eN=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Um=function(e,t,n){return eN(e,t,n)!==null},tN=function(e,t,n){return Um(e,t,function(r){return r.nodeName===n})},fl=function(e){return e&&e.nodeName==="TABLE"},nN=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},rN=function(e,t){return Kt(e)&&Um(e,t,Dn)===!1},zm=function(e,t,n){for(var r=new Ze(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Ke(t))return!0},aN=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},iN=function(e,t){for(;t&&t!==e;){if(Me(t))return!0;t=t.parentNode}return!1},ll=function(e,t,n,r,a){var i,o=e.getRoot(),u,s=e.schema.getNonEmptyElements(),f=e.getParent(a.parentNode,e.isBlock)||o;if(r&&Ke(a)&&t&&e.isEmpty(f))return b.some(A(a.parentNode,e.nodeIndex(a)));for(var c=new Ze(a,f);u=c[r?"prev":"next"]();){if(e.getContentEditableParent(u)==="false"||rN(u,o))return b.none();if(ne(u)&&u.nodeValue.length>0)return tN(u,o,"A")===!1?b.some(A(u,r?u.nodeValue.length:0)):b.none();if(e.isBlock(u)||s[u.nodeName.toLowerCase()])return b.none();i=u}return n&&i?b.some(A(i,0)):b.none()},Hm=function(e,t,n,r){var a,i,o=e.getRoot(),u,s,f=!1;a=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var c=me(a)&&i===a.childNodes.length,l=e.schema.getNonEmptyElements();if(s=n,Kt(a))return b.none();if(me(a)&&i>a.childNodes.length-1&&(s=!1),Fs(a)&&(a=o,i=0),a===o){if(s&&(u=a.childNodes[i>0?i-1:0],u&&(Kt(u)||l[u.nodeName]||fl(u))))return b.none();if(a.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,a.childNodes.length-1),a=a.childNodes[i],i=ne(a)&&c?a.data.length:0,!t&&a===o.lastChild&&fl(a)||iN(o,a)||Kt(a))return b.none();if(a.hasChildNodes()&&fl(a)===!1){u=a;var v=new Ze(a,o);do{if(Me(u)||Kt(u)){f=!1;break}if(ne(u)&&u.nodeValue.length>0){i=s?0:u.nodeValue.length,a=u,f=!0;break}if(l[u.nodeName.toLowerCase()]&&!nN(u)){i=e.nodeIndex(u),a=u.parentNode,s||i++,f=!0;break}}while(u=s?v.next():v.prev())}}}return t&&(ne(a)&&i===0&&ll(e,c,t,!0,a).each(function(p){a=p.container(),i=p.offset(),f=!0}),me(a)&&(u=a.childNodes[i],u||(u=a.childNodes[i-1]),u&&Ke(u)&&!aN(u,"A")&&!zm(e,u,!1)&&!zm(e,u,!0)&&ll(e,c,t,!0,u).each(function(p){a=p.container(),i=p.offset(),f=!0}))),s&&!t&&ne(a)&&i===a.nodeValue.length&&ll(e,c,t,!1,a).each(function(p){a=p.container(),i=p.offset(),f=!0}),f?b.some(A(a,i)):b.none()},uu=function(e,t){var n=t.collapsed,r=t.cloneRange(),a=A.fromRangeStart(t);return Hm(e,n,!0,r).each(function(i){(!n||!A.isAbove(a,i))&&r.setStart(i.container(),i.offset())}),n||Hm(e,n,!1,r).each(function(i){r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),sl(t,r)?b.none():b.some(r)},su=function(e,t){return e.splitText(t)},fu=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,a=e.endOffset;return t===r&&ne(t)?n>0&&n<t.nodeValue.length&&(r=su(t,n),t=r.previousSibling,a>n?(a=a-n,t=r=su(r,a).previousSibling,a=r.nodeValue.length,n=0):a=0):(ne(t)&&n>0&&n<t.nodeValue.length&&(t=su(t,n),n=0),ne(r)&&a>0&&a<r.nodeValue.length&&(r=su(r,a).previousSibling,a=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:a}},zi=function(e){var t=function(a,i){return Fi(e,a,i)},n=fu,r=function(a){return uu(e,a).fold(Pe,function(i){return a.setStart(i.startContainer,i.startOffset),a.setEnd(i.endContainer,i.endOffset),!0})};return{walk:t,split:n,normalize:r}};zi.compareRanges=sl,zi.getCaretRangeFromPoint=ul,zi.getSelectedNode=Go,zi.getNode=Ia;var oN=function(e,t){var n=function(u,s){if(!fa(s)&&!s.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+s);var f=u.dom;Eo(f)&&(f.style[e]=s+"px")},r=function(u){var s=t(u);if(s<=0||s===null){var f=zn(u,e);return parseFloat(f)||0}return s},a=r,i=function(u,s){return sn(s,function(f,c){var l=zn(u,c),v=l===void 0?0:parseInt(l,10);return isNaN(v)?f:f+v},0)},o=function(u,s,f){var c=i(u,f),l=s>c?s-c:0;return l};return{set:n,get:r,getOuter:a,aggregate:i,max:o}},uN=oN("height",function(e){var t=e.dom;return mi(e)?t.getBoundingClientRect().height:t.offsetHeight}),sN=function(e){return uN.get(e)},Vm=function(e,t){var n=e.view(t);return n.fold(ie([]),function(r){var a=e.owner(r),i=Vm(e,a);return[r].concat(i)})},fN=function(e,t){var n=t.owner(e);return Vm(t,n)},lN=function(e){var t,n=e.dom===document?b.none():b.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return n.map(x.fromDom)},cN=function(e){return da(e)},vN=Object.freeze({__proto__:null,view:lN,owner:cN}),dN=function(e){var t=x.fromDom(document),n=Ls(t),r=fN(e,vN),a=Is(e),i=nv(r,function(o,u){var s=Is(u);return{left:o.left+s.left,top:o.top+s.top}},{left:0,top:0});return pa(i.left+a.left+n.left,i.top+a.top+n.top)},cl=function(e){return Xe(e)==="textarea"},pN=function(e,t){var n=e.fire("ScrollIntoView",t);return n.isDefaultPrevented()},mN=function(e,t){e.fire("AfterScrollIntoView",t)},hN=function(e,t){var n=jt(e);if(n.length===0||cl(e))return{element:e,offset:t};if(t<n.length&&!cl(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return cl(r)?{element:e,offset:t}:Xe(r)==="img"?{element:r,offset:1}:tn(r)?{element:r,offset:il(r).length}:{element:r,offset:jt(r).length}},qm=function(e,t){var n=h1(e),r=sN(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},gN=function(e,t){var n=hN(e,t),r=x.fromHtml('<span data-mce-bogus="all">'+at+"</span>");return cn(n.element,r),qm(r,function(){return dt(r)})},yN=function(e){return qm(x.fromDom(e),we)},Wm=function(e,t,n,r){CN(e,function(a,i){return bN(e,t,n,r)},n)},jm=function(e,t,n,r,a){var i={elm:r.element.dom,alignToTop:a};if(!pN(e,i)){var o=Ls(t).top;n(t,o,r,a),mN(e,i)}},bN=function(e,t,n,r){var a=x.fromDom(e.getBody()),i=x.fromDom(e.getDoc());N1(a);var o=gN(x.fromDom(n.startContainer),n.startOffset);jm(e,i,t,o,r),o.cleanup()},Km=function(e,t,n,r){var a=x.fromDom(e.getDoc());jm(e,a,n,yN(t),r)},CN=function(e,t,n){var r=n.startContainer,a=n.startOffset,i=n.endContainer,o=n.endOffset;t(x.fromDom(r),x.fromDom(i));var u=e.dom.createRng();u.setStart(r,a),u.setEnd(i,o),e.selection.setRng(n)},vl=function(e,t,n,r){var a=e.pos;if(n)Zv(a.left,a.top,r);else{var i=a.top-t+e.height;Zv(a.left,i,r)}},Gm=function(e,t,n,r,a){var i=n+t,o=r.pos.top,u=r.bottom,s=u-o>=n;if(o<t)vl(r,n,a!==!1,e);else if(o>i){var f=s?a!==!1:a===!0;vl(r,n,f,e)}else u>i&&!s&&vl(r,n,a===!0,e)},Xm=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;Gm(e,t,a,n,r)},Ym=function(e,t,n,r){var a=e.dom.defaultView.innerHeight;Gm(e,t,a,n,r);var i=dN(n.element),o=td(window);i.top<o.y?Jv(n.element,r!==!1):i.top>o.bottom&&Jv(n.element,r===!0)},wN=function(e,t,n){return Wm(e,Xm,t,n)},EN=function(e,t,n){return Km(e,t,Xm,n)},SN=function(e,t,n){return Wm(e,Ym,t,n)},xN=function(e,t,n){return Km(e,t,Ym,n)},kN=function(e,t,n){var r=e.inline?EN:xN;r(e,t,n)},lu=function(e,t,n){var r=e.inline?wN:SN;r(e,t,n)},NN=function(){return x.fromDom(document)},_N=function(e){return e.dom.focus()},Qm=function(e){var t=Ar(e).dom;return e.dom===t.activeElement},dl=function(e){return e===void 0&&(e=NN()),b.from(e.dom.activeElement).map(x.fromDom)},TN=function(e){return dl(Ar(e)).filter(function(t){return e.dom.contains(t.dom)})},AN=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},RN={create:AN},pl=tr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),BN=function(e,t,n,r){return e.fold(t,n,r)},PN=function(e){return e.fold(un,un,un)},DN=pl.before,ON=pl.on,IN=pl.after,LN={before:DN,on:ON,after:IN,cata:BN,getStart:PN},cu=tr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),$N=function(e){return cu.exact(e.start,e.soffset,e.finish,e.foffset)},FN=function(e){return e.match({domRange:function(t){return x.fromDom(t.startContainer)},relative:function(t,n){return LN.getStart(t)},exact:function(t,n,r,a){return t}})},MN=cu.domRange,UN=cu.relative,zN=cu.exact,HN=function(e){var t=FN(e);return Vv(t)},VN=RN.create,Zm={domRange:MN,relative:UN,exact:zN,exactFromRange:$N,getWin:HN,range:VN},qN=fn().browser,Jm=function(e,t){var n=tn(t)?il(t).length:jt(t).length+1;return e>n?n:e<0?0:e},WN=function(e){return Zm.range(e.start,Jm(e.soffset,e.start),e.finish,Jm(e.foffset,e.finish))},eh=function(e,t){return!Co(t.dom)&&(Jn(e,t)||Fe(e,t))},ml=function(e){return function(t){return eh(e,t.start)&&eh(e,t.finish)}},th=function(e){return e.inline===!0||qN.isIE()},nh=function(e){return Zm.range(x.fromDom(e.startContainer),e.startOffset,x.fromDom(e.endContainer),e.endOffset)},jN=function(e){var t=e.getSelection(),n=!t||t.rangeCount===0?b.none():b.from(t.getRangeAt(0));return n.map(nh)},KN=function(e){var t=Vv(e);return jN(t.dom).filter(ml(e))},GN=function(e,t){return b.from(t).filter(ml(e)).map(WN)},XN=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),b.some(t)}catch{return b.none()}},vu=function(e){var t=th(e)?KN(x.fromDom(e.getBody())):b.none();e.bookmark=t.isSome()?t:e.bookmark},YN=function(e,t){var n=x.fromDom(e.getBody()),r=th(e)?b.from(t):b.none(),a=r.map(nh).filter(ml(n));e.bookmark=a.isSome()?a:e.bookmark},hl=function(e){var t=e.bookmark?e.bookmark:b.none();return t.bind(function(n){return GN(x.fromDom(e.getBody()),n)}).bind(XN)},QN=function(e){hl(e).each(function(t){return e.selection.setRng(t)})},ZN=function(e){var t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1},rh={isEditorUIElement:ZN},JN=function(e){return e.type==="nodechange"&&e.selectionChange},e_=function(e,t){var n=function(){t.throttle()};Ie.DOM.bind(document,"mouseup",n),e.on("remove",function(){Ie.DOM.unbind(document,"mouseup",n)})},t_=function(e){e.on("focusout",function(){vu(e)})},n_=function(e,t){e.on("mouseup touchend",function(n){t.throttle()})},r_=function(e,t){var n=fn().browser;n.isIE()?t_(e):n_(e,t),e.on("keyup NodeChange",function(r){JN(r)||vu(e)})},a_=function(e){var t=kf(function(){vu(e)},0);e.on("init",function(){e.inline&&e_(e,t),r_(e,t)}),e.on("remove",function(){t.cancel()})},Hi,gl=Ie.DOM,i_=function(e){return rh.isEditorUIElement(e)},o_=function(e){var t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},du=function(e,t){var n=vx(e),r=gl.getParent(t,function(a){return i_(a)||(n?e.dom.is(a,n):!1)});return r!==null},u_=function(e){try{var t=Ar(x.fromDom(e.getElement()));return dl(t).fold(function(){return document.body},function(n){return n.dom})}catch{return document.body}},s_=function(e,t){var n=t.editor;a_(n),n.on("focusin",function(){var r=e.focusedEditor;r!==n&&(r&&r.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",function(){pt.setEditorTimeout(n,function(){var r=e.focusedEditor;!du(n,u_(n))&&r===n&&(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Hi||(Hi=function(r){var a=e.activeEditor;a&&c1(r).each(function(i){i.ownerDocument===document&&i!==document.body&&!du(a,i)&&e.focusedEditor===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},gl.bind(document,"focusin",Hi))},f_=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(gl.unbind(document,"focusin",Hi),Hi=null)},l_=function(e){e.on("AddEditor",Y(s_,e)),e.on("RemoveEditor",Y(f_,e))},c_=function(e,t){return e.dom.getParent(t,function(n){return e.dom.getContentEditable(n)==="true"})},v_=function(e){return e.collapsed?b.from(Ia(e.startContainer,e.startOffset)).map(x.fromDom):b.none()},d_=function(e,t){return v_(t).bind(function(n){return nw(n)?b.some(n):Jn(e,n)===!1?b.some(e):b.none()})},ah=function(e,t){d_(x.fromDom(e.getBody()),t).bind(function(n){return At(n.dom)}).fold(function(){e.selection.normalize()},function(n){return e.selection.setRng(n.toRange())})},yl=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},p_=function(e){return Qm(e)||TN(e).isSome()},m_=function(e){return e.iframeElement&&Qm(x.fromDom(e.iframeElement))},h_=function(e){var t=e.getBody();return t&&p_(x.fromDom(t))},g_=function(e){var t=Ar(x.fromDom(e.getElement()));return dl(t).filter(function(n){return!o_(n.dom)&&du(e,n.dom)}).isSome()},Vr=function(e){return e.inline?h_(e):m_(e)},y_=function(e){return Vr(e)||g_(e)},b_=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Vr(e)===!1&&hl(e).each(function(i){e.selection.setRng(i),r=i});var a=c_(e,t.getNode());if(e.$.contains(n,a)){yl(a),ah(e,r),bl(e);return}e.inline||(pe.opera||yl(n),e.getWin().focus()),(pe.gecko||e.inline)&&(yl(n),ah(e,r)),bl(e)},bl=function(e){return e.editorManager.setActive(e)},C_=function(e,t){e.removed||(t?bl(e):b_(e))},ih=function(e,t,n,r,a){var i=n?t.startContainer:t.endContainer,o=n?t.startOffset:t.endOffset;return b.from(i).map(x.fromDom).map(function(u){return!r||!t.collapsed?go(u,a(u,o)).getOr(u):u}).bind(function(u){return Sn(u)?b.some(u):ln(u).filter(Sn)}).map(function(u){return u.dom}).getOr(e)},oh=function(e,t,n){return ih(e,t,!0,n,function(r,a){return Math.min(o1(r),a)})},uh=function(e,t,n){return ih(e,t,!1,n,function(r,a){return a>0?a-1:a})},sh=function(e,t){for(var n=e;e&&ne(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},w_=function(e,t){var n,r,a;if(!t)return e;r=t.startContainer,a=t.endContainer;var i=t.startOffset,o=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===a&&o-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),r.nodeType===3&&a.nodeType===3&&(r.length===i?r=sh(r.nextSibling,!0):r=r.parentNode,o===0?a=sh(a.previousSibling,!1):a=a.parentNode,r&&r===a))?r:n&&n.nodeType===3?n.parentNode:n},E_=function(e,t,n,r){var a,i=[],o=e.getRoot();if(n=e.getParent(n||oh(o,t,t.collapsed),e.isBlock),r=e.getParent(r||uh(o,t,t.collapsed),e.isBlock),n&&n!==o&&i.push(n),n&&r&&n!==r){a=n;for(var u=new Ze(n,o);(a=u.next())&&a!==r;)e.isBlock(a)&&i.push(a)}return r&&n!==r&&r!==o&&i.push(r),i},S_=function(e,t,n){return b.from(t).map(function(r){var a=e.nodeIndex(r),i=e.createRng();return i.setStart(r.parentNode,a),i.setEnd(r.parentNode,a+1),n&&(nl(e,i,r,!0),nl(e,i,r,!1)),i})},Cl=function(e,t){return Ue(t,function(n){var r=e.fire("GetSelectionRange",{range:n});return r.range!==n?r.range:n})},x_={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},pu=function(e,t,n){var r=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[a];if(i)return i;for(var o=e.parent;o&&o!==t;o=o.parent)if(i=o[a],i)return i}},k_=function(e){if(!Br(e.value))return!1;var t=e.parent;return!(t&&(t.name!=="span"||t.attr("style"))&&/^[ ]+$/.test(e.value))},fh=function(e){var t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},an=function(){function e(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,x_[t]||1);return n&&je(n,function(a,i){r.attr(i,a)}),r},e.prototype.replace=function(t){var n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n},e.prototype.attr=function(t,n){var r=this,a;if(typeof t!="string")return t!=null&&je(t,function(o,u){r.attr(u,o)}),r;if(a=r.attributes){if(n!==void 0){if(n===null){if(t in a.map){delete a.map[t];for(var i=a.length;i--;)if(a[i].name===t)return a.splice(i,1),r}return r}if(t in a.map){for(var i=a.length;i--;)if(a[i].name===t){a[i].value=n;break}}else a.push({name:t,value:n});return a.map[t]=n,r}return a.map[t]}},e.prototype.clone=function(){var t=this,n=new e(t.name,t.type),r;if(r=t.attributes){var a=[];a.map={};for(var i=0,o=r.length;i<o;i++){var u=r[i];u.name!=="id"&&(a[a.length]={name:u.name,value:u.value},a.map[u.name]=u.value)}n.attributes=a}return n.value=t.value,n.shortEnded=t.shortEnded,n},e.prototype.wrap=function(t){var n=this;return n.parent.insert(t,n),t.append(n),n},e.prototype.unwrap=function(){for(var t=this,n=t.firstChild;n;){var r=n.next;t.insert(n,t,!0),n=r}t.remove()},e.prototype.remove=function(){var t=this,n=t.parent,r=t.next,a=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):a.next=r,n.lastChild===t?(n.lastChild=a,a&&(a.next=null)):r.prev=a,t.parent=t.next=t.prev=null),t},e.prototype.append=function(t){var n=this;t.parent&&t.remove();var r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},e.prototype.insert=function(t,n,r){t.parent&&t.remove();var a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev.next=t,t.prev=n.prev,t.next=n,n.prev=t):(n===a.lastChild?a.lastChild=t:n.next.prev=t,t.next=n.next,t.prev=n,n.next=t),t.parent=a,t},e.prototype.getAll=function(t){for(var n=this,r=[],a=n.firstChild;a;a=pu(a,n))a.name===t&&r.push(a);return r},e.prototype.empty=function(){var t=this;if(t.firstChild){for(var n=[],r=t.firstChild;r;r=pu(r,t))n.push(r);for(var a=n.length;a--;){var r=n[a];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return t.firstChild=t.lastChild=null,t},e.prototype.isEmpty=function(t,n,r){n===void 0&&(n={});var a=this,i=a.firstChild;if(fh(a))return!1;if(i)do{if(i.type===1){if(i.attr("data-mce-bogus"))continue;if(t[i.name]||fh(i))return!1}if(i.type===8||i.type===3&&!k_(i)||i.type===3&&i.parent&&n[i.parent.name]&&Br(i.value)||r&&r(i))return!1}while(i=pu(i,a));return!0},e.prototype.walk=function(t){return pu(this,null,t)},e}(),N_=function(e){for(var t=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,n=[],r={},a=sp("img"),i,o=0,u=0;i=t.exec(e);){var s=i[0],f=a+"_"+u++;r[f]=s,o<i.index&&n.push(e.substr(o,i.index-o)),n.push(f),o=i.index+s.length}var c=new RegExp(a+"_[0-9]+","g");return o===0?{prefix:a,uris:r,html:e,re:c}:(o<e.length&&n.push(e.substr(o)),{prefix:a,uris:r,html:n.join(""),re:c})},wl=function(e,t){return e.replace(t.re,function(n){return qt(t.uris,n).getOr(n)})},__=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?b.some({type:t[1],data:decodeURIComponent(t[2])}):b.none()},T_=["img","video"],A_=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},R_=function(e,t){var n=fo(e)?nt(T_,t):e;return!n},B_=function(e,t,n){return e.allow_html_data_urls?!1:/^data:image\//i.test(t)?R_(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t)},El=function(e,t,n){var r=1,a,i,o=e.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(u.lastIndex=a=n;i=u.exec(t);){if(a=u.lastIndex,i[1]==="/")r--;else if(!i[1]){if(i[2]in o)continue;r++}if(r===0)break}return a},P_=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},D_=function(e,t,n){n===void 0&&(n=0);var r=e.toLowerCase();if(r.indexOf("[if ",n)!==-1&&P_(r,n)){var a=r.indexOf("[endif]",n);return r.indexOf(">",a)}else if(t){var i=r.indexOf(">",n);return i!==-1?i:r.length}else{var o=/--!?>/g;o.lastIndex=n;var u=o.exec(e);return u?u.index+u[0].length:r.length}},O_=function(e,t){var n=e.exec(t);if(n){var r=n[1],a=n[2];return typeof r=="string"&&r.toLowerCase()==="data-mce-bogus"?a:null}else return null},mu=function(e,t){t===void 0&&(t=ir()),e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var n=e.comment?e.comment:we,r=e.cdata?e.cdata:we,a=e.text?e.text:we,i=e.start?e.start:we,o=e.end?e.end:we,u=e.pi?e.pi:we,s=e.doctype?e.doctype:we,f=function(l,v){v===void 0&&(v="html");for(var p=l.html,m,h=0,d,y,g=[],C,w,S,B,F,M,Q,J,I,se,H,Z,z,q,X,L,G,ke=0,Be=Dr.decode,Te=P.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),qe=/((java|vb)script|mhtml):/i,Ve=v==="html"?0:1,Bt=function(De){var Ae,tt;for(Ae=g.length;Ae--&&g[Ae].name!==De;);if(Ae>=0){for(tt=g.length-1;tt>=Ae;tt--)De=g[tt],De.valid&&o(De.name);g.length=Ae}},St=function(De,Ae){return a(wl(De,l),Ae)},O=function(De){De!==""&&(De.charAt(0)===">"&&(De=" "+De),!e.allow_conditional_comments&&De.substr(0,3).toLowerCase()==="[if"&&(De=" "+De),n(wl(De,l)))},N=function(De){return wl(De,l)},D=function(De,Ae){var tt=De||"",Cn=!ca(tt,"--"),wn=D_(p,Cn,Ae);return De=p.substr(Ae,wn-Ae),O(Cn?tt+De:De),wn+1},_=function(De,Ae,tt,Cn,wn){var Jt,Er,ni=/[\s\u0000-\u001F]+/g;if(Ae=Ae.toLowerCase(),tt=N(Ae in Le?Ae:Be(tt||Cn||wn||"")),Qe&&!F&&A_(Ae)===!1){if(Jt=H[Ae],!Jt&&Z){for(Er=Z.length;Er--&&(Jt=Z[Er],!Jt.pattern.test(Ae)););Er===-1&&(Jt=null)}if(!Jt||Jt.validValues&&!(tt in Jt.validValues))return}if(Te[Ae]&&!e.allow_script_urls){var Sr=tt.replace(ni,"");try{Sr=decodeURIComponent(Sr)}catch{Sr=unescape(Sr)}if(qe.test(Sr)||B_(e,Sr,De))return}F&&(Ae in Te||Ae.indexOf("on")===0)||(C.map[Ae]=tt,C.push({name:Ae,value:tt}))},W=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),K=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,fe=t.getShortEndedElements(),he=e.self_closing_elements||t.getSelfClosingElements(),Le=t.getBoolAttrs(),Qe=e.validate,xt=e.remove_internals,Gn=e.fix_self_closing,gt=t.getSpecialElements(),kt=p+">";m=W.exec(kt);){var ze=m[0];if(h<m.index&&St(Be(p.substr(h,m.index-h))),d=m[7])d=d.toLowerCase(),d.charAt(0)===":"&&(d=d.substr(1)),Bt(d);else if(d=m[8]){if(m.index+ze.length>p.length){St(Be(p.substr(m.index))),h=m.index+ze.length;continue}d=d.toLowerCase(),d.charAt(0)===":"&&(d=d.substr(1)),M=d in fe,Gn&&he[d]&&g.length>0&&g[g.length-1].name===d&&Bt(d);var Fn=O_(K,m[9]);if(Fn!==null){if(Fn==="all"){h=El(t,p,W.lastIndex),W.lastIndex=h;continue}J=!1}if(!Qe||(Q=t.getElementRule(d))){if(J=!0,Qe&&(H=Q.attributes,Z=Q.attributePatterns),(se=m[9])?(F=se.indexOf("data-mce-type")!==-1,F&&xt&&(J=!1),C=[],C.map={},se.replace(K,function(De,Ae,tt,Cn,wn){return _(d,Ae,tt,Cn,wn),""})):(C=[],C.map={}),Qe&&!F){if(z=Q.attributesRequired,q=Q.attributesDefault,X=Q.attributesForced,L=Q.removeEmptyAttrs,L&&!C.length&&(J=!1),X)for(w=X.length;w--;)I=X[w],B=I.name,G=I.value,G==="{$uid}"&&(G="mce_"+ke++),C.map[B]=G,C.push({name:B,value:G});if(q)for(w=q.length;w--;)I=q[w],B=I.name,B in C.map||(G=I.value,G==="{$uid}"&&(G="mce_"+ke++),C.map[B]=G,C.push({name:B,value:G}));if(z){for(w=z.length;w--&&!(z[w]in C.map););w===-1&&(J=!1)}if(I=C.map["data-mce-bogus"]){if(I==="all"){h=El(t,p,W.lastIndex),W.lastIndex=h;continue}J=!1}}J&&i(d,C,M)}else J=!1;if(y=gt[d]){y.lastIndex=h=m.index+ze.length,(m=y.exec(p))?(J&&(S=p.substr(h,m.index-h)),h=m.index+m[0].length):(S=p.substr(h),h=p.length),J&&(S.length>0&&St(S,!0),o(d)),W.lastIndex=h;continue}M||(!se||se.indexOf("/")!==se.length-1?g.push({name:d,valid:J}):J&&o(d))}else if(d=m[1])O(d);else if(d=m[2]){var Pt=Ve===1||e.preserve_cdata||g.length>0&&t.isValidChild(g[g.length-1].name,"#cdata");if(Pt)r(d);else{h=D("",m.index+2),W.lastIndex=h;continue}}else if(d=m[3])s(d);else if((d=m[4])||ze==="<!"){h=D(d,m.index+ze.length),W.lastIndex=h;continue}else if(d=m[5])if(Ve===1)u(d,m[6]);else{h=D("?",m.index+2),W.lastIndex=h;continue}h=m.index+ze.length}for(h<p.length&&St(Be(p.substr(h))),w=g.length-1;w>=0;w--)d=g[w],d.valid&&o(d.name)},c=function(l,v){v===void 0&&(v="html"),f(N_(l),v)};return{parse:c}};mu.findEndTag=El;var I_=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},lh=function(e,t){var n=t,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a,i,o,u,s=e.schema;n=I_(e.getTempAttrs(),n);for(var f=s.getShortEndedElements();u=r.exec(n);)i=r.lastIndex,o=u[0].length,f[u[1]]?a=i:a=mu.findEndTag(s,n,i),n=n.substring(0,i-o)+n.substring(a),r.lastIndex=i-o;return rr(n)},L_=lh,$_=function(e,t){var n=ht(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+n+`>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(r,"")},F_=function(e,t,n,r){var a;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),t.format==="raw"?a=P.trim(L_(e.serializer,r.innerHTML)):t.format==="text"?a=e.dom.isEmpty(r)?"":rr(r.innerText||r.textContent):t.format==="tree"?a=e.serializer.serialize(r,t):a=$_(e,e.serializer.serialize(r,t)),!nt(["text","tree"],t.format)&&!_o(x.fromDom(r))?t.content=P.trim(a):t.content=a,t.no_events||e.fire("GetContent",t),t.content},M_=function(e,t,n){return b.from(e.getBody()).fold(ie(t.format==="tree"?new an("body",11):""),function(r){return F_(e,t,n,r)})},U_=P.each,ch=function(e){var t=function(n,r){if(n.nodeName!==r.nodeName)return!1;var a=function(o){var u={};return U_(e.getAttribs(o),function(s){var f=s.nodeName.toLowerCase();f.indexOf("_")!==0&&f!=="style"&&f.indexOf("data-")!==0&&(u[f]=e.getAttrib(o,f))}),u},i=function(o,u){var s,f;for(f in o)if(o.hasOwnProperty(f)){if(s=u[f],typeof s=="undefined"||o[f]!==s)return!1;delete u[f]}for(f in u)if(u.hasOwnProperty(f))return!1;return!0};return!i(a(n),a(r))||!i(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))?!1:!Ut(n)&&!Ut(r)};return{compare:t}},vh=P.makeMap,dh=function(e){var t=[];e=e||{};var n=e.indent,r=vh(e.indent_before||""),a=vh(e.indent_after||""),i=Dr.getEncodeFunc(e.entity_encoding||"raw",e.entities),o=e.element_format==="html";return{start:function(u,s,f){var c,l,v,p;if(n&&r[u]&&t.length>0&&(p=t[t.length-1],p.length>0&&p!==`
`&&t.push(`
`)),t.push("<",u),s)for(c=0,l=s.length;c<l;c++)v=s[c],t.push(" ",v.name,'="',i(v.value,!0),'"');!f||o?t[t.length]=">":t[t.length]=" />",f&&n&&a[u]&&t.length>0&&(p=t[t.length-1],p.length>0&&p!==`
`&&t.push(`
`))},end:function(u){var s;t.push("</",u,">"),n&&a[u]&&t.length>0&&(s=t[t.length-1],s.length>0&&s!==`
`&&t.push(`
`))},text:function(u,s){u.length>0&&(t[t.length]=s?u:i(u))},cdata:function(u){t.push("<![CDATA[",u,"]]>")},comment:function(u){t.push("<!--",u,"-->")},pi:function(u,s){s?t.push("<?",u," ",i(s),"?>"):t.push("<?",u,"?>"),n&&t.push(`
`)},doctype:function(u){t.push("<!DOCTYPE",u,">",n?`
`:"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},Wa=function(e,t){t===void 0&&(t=ir());var n=dh(e);e=e||{},e.validate="validate"in e?e.validate:!0;var r=function(a){var i=e.validate,o={3:function(s){n.text(s.value,s.raw)},8:function(s){n.comment(s.value)},7:function(s){n.pi(s.name,s.value)},10:function(s){n.doctype(s.value)},4:function(s){n.cdata(s.value)},11:function(s){if(s=s.firstChild)do u(s);while(s=s.next)}};n.reset();var u=function(s){var f=o[s.type],c,l,v,p,m,h,d,y,g;if(f)f(s);else{if(c=s.name,l=s.shortEnded,v=s.attributes,i&&v&&v.length>1&&(h=[],h.map={},g=t.getElementRule(s.name),g)){for(d=0,y=g.attributesOrder.length;d<y;d++)p=g.attributesOrder[d],p in v.map&&(m=v.map[p],h.map[p]=m,h.push({name:p,value:m}));for(d=0,y=v.length;d<y;d++)p=v[d].name,p in h.map||(m=v.map[p],h.map[p]=m,h.push({name:p,value:m}));v=h}if(n.start(s.name,v,l),!l){if(s=s.firstChild)do u(s);while(s=s.next);n.end(c)}}};return a.type===1&&!e.inner?u(a):o[11](a),n.getContent()};return{serialize:r}},ph=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];te(e,function(t){ph.add(t)})})();var mh=["font","text-decoration","text-emphasis"],Sl=function(e,t){return _r(e.parseStyle(e.getAttrib(t,"style")))},z_=function(e){return ph.has(e)},H_=function(e,t){return si(Sl(e,t),function(n){return!z_(n)})},V_=function(e){return _e(e,function(t){return Lt(mh,function(n){return ca(t,n)})})},q_=function(e,t,n){var r=Sl(e,t),a=Sl(e,n),i=function(o){var u=e.getStyle(t,o),s=e.getStyle(n,o);return dv(u)&&dv(s)&&u!==s};return Lt(r,function(o){var u=function(f){return Lt(f,function(c){return c===o})};if(!u(a)&&u(mh)){var s=V_(a);return Lt(s,i)}else return i(o)})},hh=function(e,t,n){return b.from(n.container()).filter(ne).exists(function(r){var a=e?0:-1;return t(r.data.charAt(n.offset()+a))})},xl=Y(hh,!0,Ua),kl=Y(hh,!1,Ua),W_=function(e){var t=e.container();return ne(t)&&(t.data.length===0||Gs(t.data)&&Mi.isBookmarkNode(t.parentNode))},mr=function(e,t){return function(n){return b.from(Ff(e?0:-1,n)).filter(t).isSome()}},gh=function(e){return w1(e)&&zn(x.fromDom(e),"display")==="block"},yh=function(e){return Me(e)&&!b1(e)},j_=mr(!0,gh),K_=mr(!1,gh),ja=mr(!0,rn),Ka=mr(!1,rn),bh=mr(!0,ha),Ch=mr(!1,ha),hr=mr(!0,yh),gr=mr(!1,yh),G_=function(e){for(var t=[],n=e.dom;n;)t.push(x.fromDom(n)),n=n.lastChild;return t},X_=function(e){var t=Dt(e,"br"),n=_e(G_(e).slice(-1),ba);t.length===n.length&&te(n,dt)},Ga=function(e){Os(e),vt(e,x.fromHtml('<br data-mce-bogus="1">'))},Y_=function(e){Ps(e).each(function(t){Tr(t).each(function(n){kn(e)&&ba(t)&&kn(n)&&dt(t)})})},Q_=function(e){return e.slice(0,-1)},Z_=function(e,t,n){return Jn(t,e)?Q_(a1(e,function(r){return n(r)||Fe(r,t)})):[]},wh=function(e,t){return Z_(e,t,Pe)},Wn=function(e,t){return[e].concat(wh(e,t))},Nl=function(e,t,n){return pm(e,t,n,W_)},Eh=function(e,t){return Nt(Wn(x.fromDom(t.container()),e),kn)},Sh=function(e,t,n){return Nl(e,t.dom,n).forall(function(r){return Eh(t,n).fold(function(){return An(r,n,t.dom)===!1},function(a){return An(r,n,t.dom)===!1&&Jn(a,x.fromDom(r.container()))})})},xh=function(e,t,n){return Eh(t,n).fold(function(){return Nl(e,t.dom,n).forall(function(r){return An(r,n,t.dom)===!1})},function(r){return Nl(e,r.dom,n).isNone()})},_l=Y(xh,!1),kh=Y(xh,!0),J_=Y(Sh,!1),eT=Y(Sh,!0),tT=function(e){return Jo(e).exists(ba)},hu=function(e,t,n){var r=_e(Wn(x.fromDom(n.container()),t),kn),a=Vt(r).getOr(t);return Yt(e,a.dom,n).filter(tT)},Tl=function(e,t){return Jo(t).exists(ba)||hu(!0,e,t).isSome()},Al=function(e,t){return jx(t).exists(ba)||hu(!1,e,t).isSome()},nT=Y(hu,!1),rT=Y(hu,!0),Nh=function(e){return A.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},_h=function(e,t){var n=_e(Wn(x.fromDom(t.container()),e),kn);return Vt(n).getOr(e)},Th=function(e,t){return Nh(t)?kl(t):kl(t)||Bn(_h(e,t).dom,t).exists(kl)},Ah=function(e,t){return Nh(t)?xl(t):xl(t)||gn(_h(e,t).dom,t).exists(xl)},aT=function(e){return nt(["pre","pre-wrap"],e)},Rl=function(e){return Jo(e).bind(function(t){return So(t,Sn)}).exists(function(t){return aT(zn(t,"white-space"))})},iT=function(e,t){return Bn(e.dom,t).isNone()},oT=function(e,t){return gn(e.dom,t).isNone()},uT=function(e,t){return iT(e,t)||oT(e,t)||_l(e,t)||kh(e,t)||Al(e,t)||Tl(e,t)},sT=function(e,t){return Rl(t)?!1:uT(e,t)||Th(e,t)||Ah(e,t)},gu=function(e,t){return Rl(t)?!1:_l(e,t)||J_(e,t)||Al(e,t)||Th(e,t)},fT=function(e){var t=e.container(),n=e.offset();return ne(t)&&n<t.data.length?A(t,n+1):e},yu=function(e,t){return Rl(t)?!1:kh(e,t)||eT(e,t)||Tl(e,t)||Ah(e,t)},Rh=function(e,t){return gu(e,t)||yu(e,fT(t))},Bh=function(e,t){return $i(e.charAt(t))},lT=function(e){var t=e.container();return ne(t)&&_t(t.data,$t)},cT=function(e){var t=e.split("");return Ue(t,function(n,r){return $i(n)&&r>0&&r<t.length-1&&qf(t[r-1])&&qf(t[r+1])?" ":n}).join("")},vT=function(e,t){var n=t.data,r=A(t,0);return Bh(n,0)&&!Rh(e,r)?(t.data=" "+n.slice(1),!0):!1},dT=function(e){var t=e.data,n=cT(t);return n!==t?(e.data=n,!0):!1},pT=function(e,t){var n=t.data,r=A(t,n.length-1);return Bh(n,n.length-1)&&!Rh(e,r)?(t.data=n.slice(0,-1)+" ",!0):!1},mT=function(e,t){return b.some(t).filter(lT).bind(function(n){var r=n.container(),a=vT(e,r)||dT(r)||pT(e,r);return a?b.some(n):b.none()})},Ph=function(e){var t=x.fromDom(e.getBody());e.selection.isCollapsed()&&mT(t,A.fromRangeStart(e.selection.getRng())).each(function(n){e.selection.setRng(n.toRange())})},hT=function(e,t,n){var r=sn(e,function(a,i){return Ua(i)||$i(i)?a.previousCharIsSpace||a.str===""&&t||a.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:a.str+$t}:{previousCharIsSpace:!0,str:a.str+" "}:{previousCharIsSpace:!1,str:a.str+i}},{previousCharIsSpace:!1,str:""});return r.str},Dh=function(e,t,n){if(n!==0){var r=x.fromDom(e),a=bi(r,kn).getOr(r),i=e.data.slice(t,t+n),o=t+n>=e.data.length&&yu(a,A(e,e.data.length)),u=t===0&&gu(a,A(e,0));e.replaceData(t,n,hT(i,u,o))}},bu=function(e,t){var n=e.data.slice(t),r=n.length-wC(n).length;return Dh(e,t,r)},Bl=function(e,t){var n=e.data.slice(0,t),r=n.length-vv(n).length;return Dh(e,t-r,r)},Pl=function(e,t,n,r){r===void 0&&(r=!0);var a=vv(e.data).length,i=r?e:t,o=r?t:e;return r?i.appendData(o.data):i.insertData(0,o.data),dt(x.fromDom(o)),n&&bu(i,a),i},gT=function(e,t){var n=e.container(),r=e.offset();return A.isTextPosition(e)===!1&&n===t.parentNode&&r>A.before(t).offset()},yT=function(e,t){return gT(t,e)?A(t.container(),t.offset()-1):t},bT=function(e){return ne(e)?A(e,0):A.before(e)},CT=function(e){return ne(e)?A(e,e.data.length):A.after(e)},Oh=function(e){return Nn(e.previousSibling)?b.some(CT(e.previousSibling)):e.previousSibling?Pn(e.previousSibling):b.none()},Ih=function(e){return Nn(e.nextSibling)?b.some(bT(e.nextSibling)):e.nextSibling?At(e.nextSibling):b.none()},wT=function(e,t){var n=A.before(t.previousSibling?t.previousSibling:t.parentNode);return Bn(e,n).fold(function(){return gn(e,A.after(t))},b.some)},ET=function(e,t){return gn(e,A.after(t)).fold(function(){return Bn(e,A.before(t))},b.some)},ST=function(e,t){return Oh(t).orThunk(function(){return Ih(t)}).orThunk(function(){return wT(e,t)})},xT=function(e,t){return Ih(t).orThunk(function(){return Oh(t)}).orThunk(function(){return ET(e,t)})},kT=function(e,t,n){return e?xT(t,n):ST(t,n)},NT=function(e,t,n){return kT(e,t,n).map(Y(yT,n))},Lh=function(e,t,n){n.fold(function(){e.focus()},function(r){e.selection.setRng(r.toRange(),t)})},_T=function(e){return function(t){return t.dom===e}},TT=function(e,t){return t&&ct(e.schema.getBlockElements(),Xe(t))},AT=function(e){if(Ft(e)){var t=x.fromHtml('<br data-mce-bogus="1">');return Os(e),vt(e,t),b.some(A.before(t.dom))}else return b.none()},RT=function(e,t,n){var r=Tr(e).filter(tn),a=di(e).filter(tn);return dt(e),oS(r,a,t,function(i,o,u){var s=i.dom,f=o.dom,c=s.data.length;return Pl(s,f,n),u.container()===f?A(s,c):u}).orThunk(function(){return n&&(r.each(function(i){return Bl(i.dom,i.dom.length)}),a.each(function(i){return bu(i.dom,0)})),t})},BT=function(e,t){return ct(e.schema.getTextInlineElements(),Xe(t))},qr=function(e,t,n,r){r===void 0&&(r=!0);var a=NT(t,e.getBody(),n.dom),i=bi(n,Y(TT,e),_T(e.getBody())),o=RT(n,a,BT(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(AT).fold(function(){r&&Lh(e,t,o)},function(u){r&&Lh(e,t,b.some(u))})},Vi=function(e,t){return{start:e,end:t}},PT=function(e,t,n){return{rng:e,table:t,cells:n}},Dl=tr.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),DT=function(e){return function(t){return Fe(e,t)}},Cu=function(e,t){return Hs(x.fromDom(e),"td,th",t)},qi=function(e,t){return xo(e,"table",t)},$h=function(e){return!Fe(e.start,e.end)},Ol=function(e,t){return qi(e.start,t).bind(function(n){return qi(e.end,t).bind(function(r){return uS(Fe(n,r),n)})})},OT=function(e,t){return!$h(e)&&Ol(e,t).exists(function(n){var r=n.dom.rows;return r.length===1&&r[0].cells.length===1})},wu=function(e){return Dt(e,"td,th")},IT=function(e,t){var n=Cu(e.startContainer,t),r=Cu(e.endContainer,t);return Ot(n,r,Vi)},LT=function(e,t){return qi(e.start,t).bind(function(n){return Yn(wu(n)).map(function(r){return Vi(e.start,r)})})},$T=function(e,t){var n=Cu(t.startContainer,e),r=Cu(t.endContainer,e);return t.collapsed?b.none():Ot(n,r,Vi).fold(function(){return n.fold(function(){return r.bind(function(a){return qi(a,e).bind(function(i){return Vt(wu(i)).map(function(o){return Vi(o,a)})})})},function(a){return qi(a,e).bind(function(i){return Yn(wu(i)).map(function(o){return Vi(a,o)})})})},function(a){return Fh(e,a)?b.none():LT(a,e)})},Fh=function(e,t){return Ol(t,e).isSome()},FT=function(e,t){return Ol(e,t).map(function(n){return PT(e,n,wu(n))})},MT=function(e,t,n){return e.filter(function(r){return $h(r)&&Fh(n,r)}).orThunk(function(){return $T(n,t)}).bind(function(r){return FT(r,n)})},Mh=function(e,t){return co(e,function(n){return Fe(n,t)})},UT=function(e){return Ot(Mh(e.cells,e.rng.start),Mh(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},zT=function(e,t,n){return e.filter(function(r){return OT(r,n)&&tl(r.start,t)}).map(function(r){return r.start})},HT=function(e){return UT(e).map(function(t){var n=e.cells;return t.length===n.length?Dl.removeTable(e.table):Dl.emptyCells(t)})},VT=function(e,t){var n=DT(e),r=IT(t,n);return zT(r,t,n).map(function(a){return Dl.deleteCellSelection(t,a)}).orThunk(function(){return MT(r,t,n).bind(HT)})},Uh=function(e){var t=e1(e)?Tr(e):Ps(e);return t.bind(Uh).orThunk(function(){return b.some(e)})},zh=function(e,t){return te(t,Ga),e.selection.setCursorLocation(t[0].dom,0),!0},Hh=function(e,t,n){t.deleteContents();var r=Uh(n).getOr(n),a=x.fromDom(e.dom.getParent(r.dom,e.dom.isBlock));if(Ft(a)&&(Ga(a),e.selection.setCursorLocation(a.dom,0)),!Fe(n,a)){var i=ln(a).is(n)?[]:i1(a);te(i.concat(jt(n)),function(o){!Fe(o,a)&&!Jn(o,a)&&dt(o)})}return!0},qT=function(e,t){return qr(e,!1,t),!0},WT=function(e,t,n){return VT(t,n).map(function(r){return r.fold(Y(qT,e),Y(zh,e),Y(Hh,e))})},jT=function(e,t){return Eu(e,t)},KT=function(e,t,n,r){return Il(t,r).fold(function(){return WT(e,t,n)},function(a){return jT(e,a)}).getOr(!1)},GT=function(e,t){var n=x.fromDom(e.getBody()),r=e.selection.getRng(),a=qa(e);return a.length!==0?zh(e,a):KT(e,n,r,t)},Vh=function(e,t){return Nt(Wn(t,e),No)},Il=function(e,t){return Nt(Wn(t,e),function(n){return Xe(n)==="caption"})},XT=function(e,t,n,r,a){return nu(n,e.getBody(),a).bind(function(i){return Vh(t,x.fromDom(i.getNode())).map(function(o){return Fe(o,r)===!1})})},Eu=function(e,t){return Ga(t),e.selection.setCursorLocation(t.dom,0),b.some(!0)},YT=function(e,t,n,r){return At(e.dom).bind(function(a){return Pn(e.dom).map(function(i){return t?n.isEqual(a)&&r.isEqual(i):n.isEqual(i)&&r.isEqual(a)})}).getOr(!0)},QT=function(e,t){return Eu(e,t)},ZT=function(e,t,n){return Il(e,x.fromDom(n.getNode())).map(function(r){return Fe(r,t)===!1})},JT=function(e,t,n,r,a){return nu(n,e.getBody(),a).bind(function(i){return YT(r,n,a,i)?QT(e,r):ZT(t,r,i)}).or(b.some(!0))},eA=function(e,t,n,r){var a=A.fromRangeStart(e.selection.getRng());return Vh(n,r).bind(function(i){return Ft(i)?Eu(e,i):XT(e,n,t,i,a)}).getOr(!1)},tA=function(e,t,n,r){var a=A.fromRangeStart(e.selection.getRng());return Ft(r)?Eu(e,r):JT(e,n,t,r,a)},qh=function(e,t){return e?bh(t):Ch(t)},nA=function(e,t){var n=A.fromRangeStart(e.selection.getRng());return qh(t,n)||Yt(t,e.getBody(),n).exists(function(r){return qh(t,r)})},rA=function(e,t,n){var r=x.fromDom(e.getBody());return Il(r,n).fold(function(){return eA(e,t,r,n)||nA(e,t)},function(a){return tA(e,t,r,a).getOr(!1)})},Su=function(e,t){var n=x.fromDom(e.selection.getStart(!0)),r=qa(e);return e.selection.isCollapsed()&&r.length===0?rA(e,t,n):GT(e,n)},aA=function(e,t,n,r){var a=document.createRange();return a.setStart(e,t),a.setEnd(n,r),a},iA=function(e){var t=A.fromRangeStart(e),n=A.fromRangeEnd(e),r=e.commonAncestorContainer;return Yt(!1,r,n).map(function(a){return!An(t,n,r)&&An(t,a,r)?aA(t.container(),t.offset(),a.container(),a.offset()):e}).getOr(e)},Ll=function(e){return e.collapsed?e:iA(e)},oA=function(e){return e.firstChild&&e.firstChild===e.lastChild},uA=function(e){return e.name==="br"||e.value===$t},sA=function(e,t){var n=e.getBlockElements();return n[t.name]&&oA(t)&&uA(t.firstChild)},fA=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||sA(e,t))},lA=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&n.name==="meta"&&(n=n.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),fA(e,r)&&(r=r.prev),!n||n!==r?!1:n.name==="ul"||n.name==="ol"},cA=function(e){var t=e.firstChild,n=e.lastChild;return t&&t.nodeName==="META"&&t.parentNode.removeChild(t),n&&n.id==="mce_marker"&&n.parentNode.removeChild(n),e},vA=function(e,t,n){var r=t.serialize(n),a=e.createFragment(r);return cA(a)},dA=function(e){return P.grep(e.childNodes,function(t){return t.nodeName==="LI"})},pA=function(e){return e.data===$t||Ke(e)},mA=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&pA(e.firstChild)},hA=function(e){return!e.firstChild||mA(e)},gA=function(e){return e.length>0&&hA(e[e.length-1])?e.slice(0,-1):e},$l=function(e,t){var n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},yA=function(e,t){return!!$l(e,t)},bA=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},CA=function(e,t){var n=A.before(e),r=hn(t),a=r.next(n);return a?a.toRange():null},Wh=function(e,t){var n=A.after(e),r=hn(t),a=r.prev(n);return a?a.toRange():null},wA=function(e,t,n,r){var a=bA(e,r),i=e.parentNode;return i.insertBefore(a[0],e),P.each(t,function(o){i.insertBefore(o,e)}),i.insertBefore(a[1],e),i.removeChild(e),Wh(t[t.length-1],n)},EA=function(e,t,n){var r=e.parentNode;return P.each(t,function(a){r.insertBefore(a,e)}),CA(e,n)},SA=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Wh(t[0],n)},xA=function(e,t,n,r){var a=vA(t,e,r),i=$l(t,n.startContainer),o=gA(dA(a.firstChild)),u=1,s=2,f=t.getRoot(),c=function(l){var v=A.fromRangeStart(n),p=hn(t.getRoot()),m=l===u?p.prev(v):p.next(v);return m?$l(t,m.getNode())!==i:!0};return c(u)?EA(i,o,f):c(s)?SA(i,o,f,t):wA(i,o,f,n)},kA=function(e,t,n){var r=x.fromDom(e.getRoot());return gu(r,A.fromRangeStart(t))?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),yu(r,A.fromRangeEnd(t))?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},Fl=ad,NA=function(e,t,n){if(n!==null){var r=e.getParent(t.endContainer,Fl);return n===r&&tl(x.fromDom(n),t)}else return!1},_A=function(e,t,n){if(n.getAttribute("data-mce-bogus")==="all")n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,a=n.lastChild;!r||r===a&&r.nodeName==="BR"?e.dom.setHTML(n,t):e.selection.setContent(t)}},TA=function(e,t){b.from(e.getParent(t,"td,th")).map(x.fromDom).each(Y_)},AA=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var a=e.getBody(),i=ch(r);P.each(r.select("*[data-mce-fragment]"),function(o){var u=It(n[o.nodeName.toLowerCase()]);if(u&&H_(r,o))for(var s=o.parentNode;It(s)&&s!==a;s=s.parentNode){var f=q_(r,o,s);if(f)break;if(i.compare(s,o)){r.remove(o,!0);break}}})}},RA=function(e){for(var t=e;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},BA=function(e){P.each(e.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},PA=function(e){return!!e.getAttribute("data-mce-fragment")},DA=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},OA=function(e,t){var n,r=e.dom,a=e.selection,i,o=function(v){for(var p=e.getBody();v&&v!==p;v=v.parentNode)if(r.getContentEditable(v)==="false")return v;return null};if(!!t){a.scrollIntoView(t);var u=o(t);if(u){r.remove(t),a.select(u);return}var s=r.createRng(),f=t.previousSibling;f&&f.nodeType===3?(s.setStart(f,f.nodeValue.length),pe.ie||(i=t.nextSibling,i&&i.nodeType===3&&(f.appendData(i.data),i.parentNode.removeChild(i)))):(s.setStartBefore(t),s.setEndBefore(t));var c=function(v){var p=A.fromRangeStart(v),m=hn(e.getBody());if(p=m.next(p),p)return p.toRange()},l=r.getParent(t,r.isBlock);r.remove(t),l&&r.isEmpty(l)&&(e.$(l).empty(),s.setStart(l,0),s.setEnd(l,0),!Fl(l)&&!PA(l)&&(n=c(s))?(s=n,r.remove(l)):r.add(l,r.create("br",{"data-mce-bogus":"1"}))),a.setRng(s)}},IA=function(e){var t=e.dom,n=Ll(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,Fl);NA(t,n,r)?Hh(e,n,x.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},LA=function(e,t,n){var r,a,i,o,u,s,f=e.selection,c=e.dom;/^ | $/.test(t)&&(t=kA(c,f.getRng(),t));var l=e.parser,v=n.merge,p=Wa({validate:sx(e)},e.schema),m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(i={content:t,format:"html",selection:!0,paste:n.paste},i=e.fire("BeforeSetContent",i),i.isDefaultPrevented()){e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});return}t=i.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,m),u=f.getRng();var h=u.startContainer||(u.parentElement?u.parentElement():null),d=e.getBody();h===d&&f.isCollapsed()&&c.isBlock(d.firstChild)&&DA(e,d.firstChild)&&c.isEmpty(d.firstChild)&&(u=c.createRng(),u.setStart(d.firstChild,0),u.setEnd(d.firstChild,0),f.setRng(u)),f.isCollapsed()||IA(e),r=f.getNode();var y={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},g=l.parse(t,y);if(n.paste===!0&&lA(e.schema,g)&&yA(c,r)){u=xA(p,c,f.getRng(),g),f.setRng(u),e.fire("SetContent",i);return}if(RA(g),s=g.lastChild,s.attr("id")==="mce_marker"){for(o=s,s=s.prev;s;s=s.walk(!0))if(s.type===3||!c.isBlock(s.name)){e.schema.isValidChild(s.parent.name,"span")&&s.parent.insert(o,s,s.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(r),!y.invalid)t=p.serialize(g),_A(e,t,r);else{for(e.selection.setContent(m),r=f.getNode(),a=e.getBody(),r.nodeType===9?r=s=a:s=r;s!==a;)r=s,s=s.parentNode;t=r===a?a.innerHTML:c.getOuterHTML(r),t=p.serialize(l.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return p.serialize(g)}))),r===a?c.setHTML(a,t):c.setOuterHTML(r,t)}AA(e,v),OA(e,c.get("mce_marker")),BA(e.getBody()),TA(c,f.getStart()),e.fire("SetContent",i),e.addVisual()},Ml=function(e,t){t(e),e.firstChild&&Ml(e.firstChild,t),e.next&&Ml(e.next,t)},$A=function(e,t,n){var r={},a={},i=[];n.firstChild&&Ml(n.firstChild,function(s){te(e,function(f){f.name===s.name&&(r[f.name]?r[f.name].nodes.push(s):r[f.name]={filter:f,nodes:[s]})}),te(t,function(f){typeof s.attr(f.name)=="string"&&(a[f.name]?a[f.name].nodes.push(s):a[f.name]={filter:f,nodes:[s]})})});for(var o in r)r.hasOwnProperty(o)&&i.push(r[o]);for(var u in a)a.hasOwnProperty(u)&&i.push(a[u]);return i},FA=function(e,t,n){var r=$A(e,t,n);te(r,function(a){te(a.filter.callbacks,function(i){i(a.nodes,a.filter.name,{})})})},MA="html",Ul=function(e){return e instanceof an},UA=function(e){Vr(e)&&At(e.getBody()).each(function(t){var n=t.getNode(),r=ha(n)?At(n).getOr(t):t;e.selection.setRng(r.toRange())})},zl=function(e,t){e.dom.setHTML(e.getBody(),t),UA(e)},zA=function(e,t,n,r){var a,i;return n.length===0||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',t.nodeName==="TABLE"?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),a=ht(e),a&&e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())?(n=i,n=e.dom.createHTML(a,Ri(e),n)):n||(n='<br data-mce-bogus="1">'),zl(e,n),e.fire("SetContent",r)):(r.format!=="raw"&&(n=Wa({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=_o(x.fromDom(t))?n:P.trim(n),zl(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},HA=function(e,t,n,r){FA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var a=Wa({validate:e.validate},e.schema).serialize(n);return r.content=_o(x.fromDom(t))?a:P.trim(a),zl(e,r.content),r.no_events||e.fire("SetContent",r),n},VA=function(e,t,n){return n.format=n.format?n.format:MA,n.set=!0,n.content=Ul(t)?"":t,n.no_events||e.fire("BeforeSetContent",n),Ul(t)||(t=n.content),b.from(e.getBody()).fold(ie(t),function(r){return Ul(t)?HA(e,r,t,n):zA(e,r,t,n)})},qA=function(e,t){return M1(e,t).isSome()},jh=function(e){return ft(e)?e:Pe},WA=function(e,t,n){for(var r=e.dom,a=jh(n);r.parentNode;){r=r.parentNode;var i=x.fromDom(r),o=t(i);if(o.isSome())return o;if(a(i))break}return b.none()},Hl=function(e,t,n){var r=t(e),a=jh(n);return r.orThunk(function(){return a(e)?b.none():WA(e,t,a)})},Vl=Xf,Kh=function(e,t,n){var r=e.formatter.get(n);if(r){for(var a=0;a<r.length;a++)if(r[a].inherit===!1&&e.dom.is(t,r[a].selector))return!0}return!1},ql=function(e,t,n,r){var a=e.dom.getRoot();return t===a?!1:(t=e.dom.getParent(t,function(i){return Kh(e,i,n)?!0:i.parentNode===a||!!On(e,i,n,r,!0)}),On(e,t,n,r))},Gh=function(e,t,n){if(Vl(t,n.inline)||Vl(t,n.block))return!0;if(n.selector)return t.nodeType===1&&e.is(t,n.selector)},Xh=function(e,t,n,r,a,i){var o,u,s=n[r],f;if(n.onmatch)return n.onmatch(t,n,r);if(s){if(typeof s.length=="undefined"){for(o in s)if(s.hasOwnProperty(o)&&(r==="attributes"?u=e.getAttrib(t,o):u=ru(e,t,o),a&&!u&&!n.exact||(!a||n.exact)&&!Vl(u,Yf(e,qn(s[o],i),o))))return}else for(f=0;f<s.length;f++)if(r==="attributes"?e.getAttrib(t,s[f]):ru(e,t,s[f]))return n}return n},On=function(e,t,n,r,a){var i=e.formatter.get(n),o,u,s,f,c=e.dom;if(i&&t){for(u=0;u<i.length;u++)if(o=i[u],Gh(e.dom,t,o)&&Xh(c,t,o,"attributes",a,r)&&Xh(c,t,o,"styles",a,r)){if(f=o.classes){for(s=0;s<f.length;s++)if(!e.dom.hasClass(t,qn(f[s],r)))return}return o}}},Wl=function(e,t,n,r){if(r)return ql(e,r,t,n);if(r=e.selection.getNode(),ql(e,r,t,n))return!0;var a=e.selection.getStart();return!!(a!==r&&ql(e,a,t,n))},jA=function(e,t,n){var r=[],a={},i=e.selection.getStart();return e.dom.getParent(i,function(o){for(var u=0;u<t.length;u++){var s=t[u];!a[s]&&On(e,o,s,n)&&(a[s]=!0,r.push(s))}},e.dom.getRoot()),r},KA=function(e,t){var n=function(a){return Fe(a,x.fromDom(e.getBody()))},r=function(a,i){return On(e,a.dom,i)?b.some(i):b.none()};return b.from(e.selection.getStart(!0)).bind(function(a){return Hl(x.fromDom(a),function(i){return rC(t,function(o){return r(i,o)})},n)}).getOrNull()},GA=function(e,t){var n=e.formatter.get(t),r,a,i,o,u,s=e.dom;if(n)for(r=e.selection.getStart(),a=au(s,r),o=n.length-1;o>=0;o--){if(u=n[o].selector,!u||n[o].defaultBlock)return!0;for(i=a.length-1;i>=0;i--)if(s.is(a[i],u))return!0}return!1},XA=function(e,t,n){return sn(n,function(r,a){var i=yk(e,a);return e.formatter.matchNode(t,a,{},i)?r.concat([a]):r},[])},Xa=at,Yh="_mce_caret",YA=function(e,t){return e.importNode(t,!0)},QA=function(e){for(var t=[];e;){if(e.nodeType===3&&e.nodeValue!==Xa||e.childNodes.length>1)return[];e.nodeType===1&&t.push(e),e=e.firstChild}return t},Qh=function(e){return QA(e).length>0},Zh=function(e){if(e){var t=new Ze(e,e);for(e=t.current();e;e=t.next())if(ne(e))return e}return null},jl=function(e){var t=x.fromTag("span");return er(t,{id:Yh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&vt(t,x.fromText(Xa)),t},ZA=function(e){var t=Zh(e);return t&&t.nodeValue.charAt(0)===Xa&&t.deleteData(0,1),t},Kl=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(Qh(t))qr(e,!1,x.fromDom(t),n);else{var i=a.getRng(),o=r.getParent(t,r.isBlock),u=i.startContainer,s=i.startOffset,f=i.endContainer,c=i.endOffset,l=ZA(t);r.remove(t,!0),u===l&&s>0&&i.setStart(l,s-1),f===l&&c>0&&i.setEnd(l,c-1),o&&r.isEmpty(o)&&Ga(x.fromDom(o)),a.setRng(i)}},Gl=function(e,t,n){n===void 0&&(n=!0);var r=e.dom,a=e.selection;if(t)Kl(e,t,n);else if(t=Hr(e.getBody(),a.getStart()),!t)for(;t=r.get(Yh);)Kl(e,t,!1)},JA=function(e,t,n){var r=e.dom,a=r.getParent(n,Y(Kf,e));a&&r.isEmpty(a)?n.parentNode.replaceChild(t,n):(X_(x.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},Jh=function(e,t){return e.appendChild(t),t},eg=function(e,t){var n=nv(e,function(r,a){return Jh(r,a.cloneNode(!1))},t);return Jh(n,n.ownerDocument.createTextNode(Xa))},eR=function(e,t,n,r,a,i){var o=e.formatter,u=e.dom,s=_e(_r(o.get()),function(v){return v!==r&&!_t(v,"removeformat")}),f=XA(e,n,s),c=_e(f,function(v){return!bk(e,v,r)});if(c.length>0){var l=n.cloneNode(!1);return u.add(t,l),o.remove(r,a,l,i),u.remove(l),b.some(l)}else return b.none()},tR=function(e,t,n){var r,a,i=e.selection,o=i.getRng(),u=o.startOffset,s=o.startContainer,f=s.nodeValue;r=Hr(e.getBody(),i.getStart()),r&&(a=Zh(r));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(f&&u>0&&u<f.length&&c.test(f.charAt(u))&&c.test(f.charAt(u-1))){var l=i.getBookmark();o.collapse(!0);var v=Va(e,o,e.formatter.get(t));v=fu(v),e.formatter.apply(t,n,v),i.moveToBookmark(l)}else(!r||a.nodeValue!==Xa)&&(r=YA(e.getDoc(),jl(!0).dom),a=r.firstChild,o.insertNode(r),u=1),e.formatter.apply(t,n,r),i.setCursorLocation(a,u)},nR=function(e,t,n,r){var a=e.dom,i=e.selection,o,u,s,f=[],c=i.getRng(),l=c.startContainer,v=c.startOffset;for(u=l,l.nodeType===3&&(v!==l.nodeValue.length&&(o=!0),u=u.parentNode);u;){if(On(e,u,t,n,r)){s=u;break}u.nextSibling&&(o=!0),f.push(u),u=u.parentNode}if(!!s)if(o){var p=i.getBookmark();c.collapse(!0);var m=Va(e,c,e.formatter.get(t),!0);m=fu(m),e.formatter.remove(t,n,m,r),i.moveToBookmark(p)}else{var h=Hr(e.getBody(),s),d=jl(!1).dom;JA(e,d,h!==null?h:s);var y=eR(e,d,s,t,n,r),g=eg(f.concat(y.toArray()),d);Kl(e,h,!1),i.setCursorLocation(g,1),a.isEmpty(s)&&a.remove(s)}},rR=function(e,t){var n=e.selection,r=e.getBody();Gl(e,null,!1),(t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===Xa&&Gl(e,Hr(r,n.getStart())),(t===37||t===39)&&Gl(e,Hr(r,n.getStart()))},aR=function(e){e.on("mouseup keydown",function(t){rR(e,t.keyCode)})},iR=function(e,t){var n=jl(!1),r=eg(t,n.dom);return cn(x.fromDom(e),n),dt(x.fromDom(e)),A(r,0)},oR=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(Xe(t))&&!Dn(t.dom)&&!ma(t.dom)},uR=function(e){return Dn(e.dom)&&Qh(e.dom)},xu={},tg=la,ng=ci,sR=function(e,t){var n=xu[e];n||(xu[e]=[]),xu[e].push(t)},fR=function(e,t){ng(xu[e],function(n){n(t)})};sR("pre",function(e){var t=e.selection.getRng(),n,r=function(o){return i(o.previousSibling)&&uv(n,o.previousSibling)!==-1},a=function(o,u){de(u).remove(),de(o).append("<br><br>").append(u.childNodes)},i=nn(["pre"]);t.collapsed||(n=e.selection.getSelectedBlocks(),ng(tg(tg(n,i),r),function(o){a(o.previousSibling,o)}))});var Xl=P.each,Yl=function(e){return me(e)&&!Ut(e)&&!Dn(e)&&!ma(e)},rg=function(e,t){var n;for(n=e;n;n=n[t]){if(ne(n)&&n.nodeValue.length!==0)return e;if(me(n)&&!Ut(n))return n}return e},ag=function(e,t,n){var r,a,i=ch(e);if(t&&n&&(t=rg(t,"previousSibling"),n=rg(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)a=r,r=r.nextSibling,t.appendChild(a);return e.remove(n),P.each(P.grep(n.childNodes),function(o){t.appendChild(o)}),t}return n},ig=function(e,t,n,r){if(r&&t.merge_siblings!==!1){var a=ag(e,jf(r),r);ag(e,a,jf(a,!0))}},lR=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";Xl(e.select(r,n),function(a){Yl(a)&&Xl(t.styles,function(i,o){e.setStyle(a,o,"")})})}},Ql=function(e,t,n){Xl(e.childNodes,function(r){Yl(r)&&(t(r)&&n(r),r.hasChildNodes()&&Ql(r,t,n))})},cR=function(e,t){t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},og=function(e,t){return function(n){return!!(n&&ru(e,n,t))}},ug=function(e,t,n){return function(r){e.setStyle(r,t,n),r.getAttribute("style")===""&&r.removeAttribute("style"),cR(e,r)}},Wi=tr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),vR=/^(src|href|style)$/,Zl=P.each,Ya=Xf,dR=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},sg=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},fg=function(e,t,n){var r,a;if(r=t[n?"startContainer":"endContainer"],a=t[n?"startOffset":"endOffset"],me(r)){var i=r.childNodes.length-1;!n&&a&&a--,r=r.childNodes[a>i?i:a]}return ne(r)&&n&&a>=r.nodeValue.length&&(r=new Ze(r,e.getBody()).next()||r),ne(r)&&!n&&a===0&&(r=new Ze(r,e.getBody()).prev()||r),r},lg=function(e,t){var n=t?"firstChild":"lastChild";if(dR(e)&&e[n]){var r=e[n];return e.nodeName==="TR"&&r[n]||r}return e},Jl=function(e,t,n,r){var a=e.create(n,r);return t.parentNode.insertBefore(a,t),a.appendChild(t),a},cg=function(e,t,n,r,a){var i=x.fromDom(t),o=x.fromDom(e.create(r,a)),u=n?Wv(i):qv(i);return yo(o,u),n?(cn(i,o),Xv(o,i)):(pi(i,o),vt(o,i)),o.dom},pR=function(e,t,n){if(Ya(t,n.inline)||Ya(t,n.block))return!0;if(n.selector)return me(t)&&e.is(t,n.selector)},mR=function(e,t){return t.links&&e.nodeName==="A"},ku=function(e,t,n,r){return t=jf(t,n,r),!t||t.nodeName==="BR"||e.isBlock(t)},hR=function(e,t,n){var r=t.parentNode,a,i=e.dom,o=ht(e);n.block&&(o?r===i.getRoot()&&(!n.list_block||!Ya(t,n.list_block))&&te(Qn(t.childNodes),function(u){za(e,o,u.nodeName.toLowerCase())?a?a.appendChild(u):(a=Jl(i,u,o),i.setAttribs(a,e.settings.forced_root_block_attrs)):a=0}):i.isBlock(t)&&!i.isBlock(r)&&(!ku(i,t,!1)&&!ku(i,t.firstChild,!0,!0)&&t.insertBefore(i.create("br"),t.firstChild),!ku(i,t,!0)&&!ku(i,t.lastChild,!1,!0)&&t.appendChild(i.create("br")))),!(n.selector&&n.inline&&!Ya(n.inline,t))&&i.remove(t,!0)},vg=function(e,t,n,r,a){var i,o=e.dom;if(!pR(o,r,t)&&!mR(r,t))return Wi.keep();var u=r;if(t.inline&&t.remove==="all"&&st(t.preserve_attributes)){var s=_e(o.getAttribs(u),function(v){return nt(t.preserve_attributes,v.name.toLowerCase())});if(o.removeAllAttribs(u),te(s,function(v){return o.setAttrib(u,v.name,v.value)}),s.length>0)return Wi.rename("span")}if(t.remove!=="all"){Zl(t.styles,function(v,p){v=Yf(o,qn(v,n),p+""),fa(p)&&(p=v,a=null),(t.remove_similar||!a||Ya(ru(o,a,p),v))&&o.setStyle(u,p,""),i=!0}),i&&o.getAttrib(u,"style")===""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),Zl(t.attributes,function(v,p){var m;if(v=qn(v,n),fa(p)&&(p=v,a=null),t.remove_similar||!a||Ya(o.getAttrib(a,p),v)){if(p==="class"&&(v=o.getAttrib(u,p),v&&(m="",te(v.split(/\s+/),function(h){/mce\-\w+/.test(h)&&(m+=(m?" ":"")+h)}),m))){o.setAttrib(u,p,m);return}if(vR.test(p)&&u.removeAttribute("data-mce-"+p),p==="style"&&nn(["li"])(u)&&o.getStyle(u,"list-style-type")==="none"){u.removeAttribute(p),o.setStyle(u,"list-style-type","none");return}p==="class"&&u.removeAttribute("className"),u.removeAttribute(p)}}),Zl(t.classes,function(v){v=qn(v,n),(!a||o.hasClass(a,v))&&o.removeClass(u,v)});for(var f=o.getAttribs(u),c=0;c<f.length;c++){var l=f[c].nodeName;if(l.indexOf("_")!==0&&l.indexOf("data-")!==0)return Wi.keep()}}return t.remove!=="none"?(hR(e,u,t),Wi.removed()):Wi.keep()},Wr=function(e,t,n,r,a){return vg(e,t,n,r,a).fold(Pe,function(i){return e.dom.rename(r,i),!0},lt)},gR=function(e,t,n,r,a){var i;return te(au(e.dom,t.parentNode).reverse(),function(o){if(!i&&o.id!=="_start"&&o.id!=="_end"){var u=On(e,o,n,r,a);u&&u.split!==!1&&(i=o)}}),i},yR=function(e,t,n,r){return vg(e,t,n,r,r).fold(ie(r),function(a){var i=e.dom.createFragment();return i.appendChild(r),e.dom.rename(r,a)},ie(null))},bR=function(e,t,n,r,a,i,o,u){var s,f,c,l=e.dom;if(n){for(var v=n.parentNode,p=r.parentNode;p&&p!==v;p=p.parentNode){s=l.clone(p,!1);for(var m=0;m<t.length&&(s=yR(e,t[m],u,s),s!==null);m++);s&&(f&&s.appendChild(f),c||(c=s),f=s)}i&&(!o.mixed||!l.isBlock(n))&&(r=l.split(n,r)),f&&(a.parentNode.insertBefore(f,a),c.appendChild(a),o.inline&&ig(l,o,u,f))}return r},dg=function(e,t,n,r,a){var i=e.formatter.get(t),o=i[0],u=!0,s=e.dom,f=e.selection,c=function(y){var g=gR(e,y,t,n,a);return bR(e,i,g,y,y,!0,o,n)},l=function(y){return Ut(y)&&me(y)&&(y.id==="_start"||y.id==="_end")},v=function(y){var g,C,w=y.parentNode;ne(y)&&Sm(s,w)&&Wr(e,o,n,w,w),me(y)&&s.getContentEditable(y)&&(g=u,u=s.getContentEditable(y)==="true",C=!0);var S=Qn(y.childNodes);if(u&&!C)for(var B=0;B<i.length&&!Wr(e,i[B],n,y,y);B++);if(o.deep&&S.length){for(var B=0;B<S.length;B++)v(S[B]);C&&(u=g)}},p=function(y){var g=s.get(y?"_start":"_end"),C=g[y?"firstChild":"lastChild"];return l(C)&&(C=C[y?"firstChild":"lastChild"]),ne(C)&&C.data.length===0&&(C=y?g.previousSibling||g.nextSibling:g.nextSibling||g.previousSibling),s.remove(g,!0),C},m=function(y){var g,C,w=Va(e,y,i,y.collapsed);if(o.split){if(w=fu(w),g=fg(e,w,!0),C=fg(e,w),g!==C){if(g=lg(g,!0),C=lg(C,!1),sg(s,g,C)){var S=b.from(g.firstChild).getOr(g);c(cg(s,S,!0,"span",{id:"_start","data-mce-type":"bookmark"})),p(!0);return}if(sg(s,C,g)){var S=b.from(C.lastChild).getOr(C);c(cg(s,S,!1,"span",{id:"_end","data-mce-type":"bookmark"})),p(!1);return}g=Jl(s,g,"span",{id:"_start","data-mce-type":"bookmark"}),C=Jl(s,C,"span",{id:"_end","data-mce-type":"bookmark"});var B=s.createRng();B.setStartAfter(g),B.setEndBefore(C),Fi(s,B,function(F){te(F,function(M){!Ut(M)&&!Ut(M.parentNode)&&c(M)})}),c(g),c(C),g=p(!0),C=p()}else g=C=c(g);w.startContainer=g.parentNode?g.parentNode:g,w.startOffset=s.nodeIndex(g),w.endContainer=C.parentNode?C.parentNode:C,w.endOffset=s.nodeIndex(C)+1}Fi(s,w,function(F){te(F,function(M){v(M);var Q=["underline","line-through","overline"];te(Q,function(J){me(M)&&e.dom.getStyle(M,"text-decoration")===J&&M.parentNode&&wm(s,M.parentNode)===J&&Wr(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:J}},null,M)})})})};if(r){if(Wf(r)){var h=s.createRng();h.setStartBefore(r),h.setEndAfter(r),m(h)}else m(r);return}if(s.getContentEditable(f.getNode())==="false"){r=f.getNode();for(var d=0;d<i.length&&!(i[d].ceFalseOverride&&Wr(e,i[d],n,r,r));d++);return}!f.isCollapsed()||!o.inline||qa(e).length?(al(f,!0,function(){rl(e,m)}),o.inline&&Wl(e,t,n,f.getStart())&&Cm(s,f,f.getRng()),e.nodeChanged()):nR(e,t,n,a)},pg=P.each,CR=function(e,t,n,r){var a=function(i){if(i.nodeType===1&&i.parentNode&&i.parentNode.nodeType===1){var o=wm(e,i.parentNode);e.getStyle(i,"color")&&o?e.setStyle(i,"text-decoration",o):e.getStyle(i,"text-decoration")===o&&e.setStyle(i,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(P.walk(r,a,"childNodes"),a(r))},wR=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Ql(r,og(e,"fontSize"),ug(e,"backgroundColor",qn(t.styles.backgroundColor,n)))},ER=function(e,t,n,r){(t.inline==="sub"||t.inline==="sup")&&(Ql(r,og(e,"fontSize"),ug(e,"fontSize","")),e.remove(e.select(t.inline==="sup"?"sub":"sup",r),!0))},SR=function(e,t,n,r){pg(t,function(a){pg(e.dom.select(a.inline,r),function(i){!Yl(i)||Wr(e,a,n,i,a.exact?i:null)}),lR(e.dom,a,r)})},xR=function(e,t,n,r,a){On(e,a.parentNode,n,r)&&Wr(e,t,r,a)||t.merge_with_parents&&e.dom.getParent(a.parentNode,function(i){if(On(e,i,n,r))return Wr(e,t,r,a),!0})},yn=P.each,mg=function(e,t){return li(e,t)},kR=function(e){return e&&e.nodeType===1&&!Ut(e)&&!Dn(e)&&!ma(e)},NR=function(e,t,n,r){if(cx(e)&&Zf(t)){var a=Ce(Ce({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=qA(x.fromDom(n),function(o){return Dn(o.dom)});return li(a,r)&&Ft(x.fromDom(n.parentNode),!1)&&!i}else return!1},ec=function(e,t,n,r){var a=e.formatter.get(t),i=a[0],o=!r&&e.selection.isCollapsed(),u=e.dom,s=e.selection,f=function(g,C){if(C=C||i,g){if(C.onformat&&C.onformat(g,C,n,r),yn(C.styles,function(S,B){u.setStyle(g,B,qn(S,n))}),C.styles){var w=u.getAttrib(g,"style");w&&u.setAttrib(g,"data-mce-style",w)}yn(C.attributes,function(S,B){u.setAttrib(g,B,qn(S,n))}),yn(C.classes,function(S){S=qn(S,n),u.hasClass(g,S)||u.addClass(g,S)})}},c=function(g,C){var w=!1;return Qf(i)?(yn(g,function(S){if(!("collapsed"in S&&S.collapsed!==o)&&u.is(C,S.selector)&&!Dn(C))return f(C,S),w=!0,!1}),w):!1},l=function(g,C,w,S){var B=[],F=!0,M=i.inline||i.block,Q=g.create(M);f(Q),Fi(g,C,function(J){var I,se=function(H){var Z=!1,z=F,q=H.nodeName.toLowerCase(),X=H.parentNode.nodeName.toLowerCase();if(me(H)&&g.getContentEditable(H)&&(z=F,F=g.getContentEditable(H)==="true",Z=!0),Ke(H)&&!NR(e,i,H,X)){I=null,Em(i)&&g.remove(H);return}if(i.wrapper&&On(e,H,t,n)){I=null;return}if(F&&!Z&&Em(i)&&!i.wrapper&&Kf(e,q)&&za(e,X,M)){var L=g.rename(H,M);f(L),B.push(L),I=null;return}if(Qf(i)){var G=c(a,H);if(ne(H)&&Sm(g,H.parentNode)&&c(a,H.parentNode),!mg(i,"inline")||G){I=null;return}}F&&!Z&&za(e,M,q)&&za(e,X,M)&&!(!S&&H.nodeType===3&&H.nodeValue.length===1&&H.nodeValue.charCodeAt(0)===65279)&&!Dn(H)&&(!mg(i,"inline")||!g.isBlock(H))?(I||(I=g.clone(Q,!1),H.parentNode.insertBefore(I,H),B.push(I)),I.appendChild(H)):(I=null,yn(P.grep(H.childNodes),se),Z&&(F=z),I=null)};yn(J,se)}),i.links===!0&&yn(B,function(J){var I=function(se){se.nodeName==="A"&&f(se,i),yn(P.grep(se.childNodes),I)};I(J)}),yn(B,function(J){var I=function(z){var q=0;return yn(z.childNodes,function(X){!gk(X)&&!Ut(X)&&q++}),q},se=function(z){var q=!1;return yn(z.childNodes,function(X){if(kR(X))return q=X,!1}),q},H=function(z){var q,X=se(z);return X&&!Ut(X)&&Gh(g,X,i)&&(q=g.clone(X,!1),f(q),g.replace(q,z,!0),g.remove(X,!0)),q||z},Z=I(J);if((B.length>1||!g.isBlock(J))&&Z===0){g.remove(J,!0);return}(Zf(i)||i.wrapper)&&(!i.exact&&Z===1&&(J=H(J)),SR(e,a,n,J),xR(e,i,t,n,J),wR(g,i,n,J),CR(g,i,n,J),ER(g,i,n,J),ig(g,i,n,J))})};if(u.getContentEditable(s.getNode())==="false"){r=s.getNode();for(var v=0,p=a.length;v<p;v++){var m=a[v];if(m.ceFalseOverride&&Qf(m)&&u.is(r,m.selector)){f(r,m);return}}return}if(i){if(r)if(Wf(r)){if(!c(a,r)){var h=u.createRng();h.setStartBefore(r),h.setEndAfter(r),l(u,Va(e,h,a),null,!0)}}else l(u,r,null,!0);else if(!o||!Zf(i)||qa(e).length){var d=s.getNode(),y=a[0];!e.settings.forced_root_block&&y.defaultBlock&&!u.getParent(d,u.isBlock)&&ec(e,y.defaultBlock),s.setRng(Ll(s.getRng())),al(s,!0,function(g){rl(e,function(C,w){var S=w?C:Va(e,C,a);l(u,S)})}),Cm(u,s,s.getRng()),e.nodeChanged()}else tR(e,t,n);fR(t,e)}},_R=function(e,t){var n=Ye({});e.set({}),t.on("NodeChange",function(r){TR(t,r.element,n,e.get())})},TR=function(e,t,n,r){var a=_r(n.get()),i={},o={},u=_e(au(e.dom,t),function(f){return f.nodeType===1&&!f.getAttribute("data-mce-bogus")});je(r,function(f,c){P.each(u,function(l){if(e.formatter.matchNode(l,c,{},f.similar))return a.indexOf(c)===-1&&(te(f.callbacks,function(v){v(!0,{node:l,format:c,parents:u})}),i[c]=f.callbacks),o[c]=f.callbacks,!1;if(Kh(e,l,c))return!1})});var s=AR(n.get(),o,t,u);n.set(Ce(Ce({},i),s))},AR=function(e,t,n,r){return ov(e,function(a,i){return ct(t,i)?!0:(te(a,function(o){o(!1,{node:n,format:i,parents:r})}),!1)}).t},RR=function(e,t,n,r){var a=e.get();te(t.split(","),function(i){a[i]||(a[i]={similar:r,callbacks:[]}),a[i].callbacks.push(n)}),e.set(a)},BR=function(e,t,n){var r=e.get();te(t.split(","),function(a){r[a].callbacks=_e(r[a].callbacks,function(i){return i!==n}),r[a].callbacks.length===0&&delete r[a]}),e.set(r)},PR=function(e,t,n,r,a){return t.get()===null&&_R(t,e),RR(t,n,r,a),{unbind:function(){return BR(t,n,r)}}},DR=function(e,t,n,r){var a=e.formatter.get(t);Wl(e,t,n,r)&&(!("toggle"in a[0])||a[0].toggle)?dg(e,t,n,r):ec(e,t,n,r)},tc=function(e,t){var n=t||document,r=n.createDocumentFragment();return te(e,function(a){r.appendChild(a.dom)}),x.fromDom(r)},nc=function(e,t,n){return{element:e,width:t,rows:n}},hg=function(e,t){return{element:e,cells:t}},OR=function(e,t){return{x:e,y:t}},gg=function(e,t){var n=parseInt(gi(e,t),10);return isNaN(n)?1:n},IR=function(e,t,n,r,a){for(var i=gg(a,"rowspan"),o=gg(a,"colspan"),u=e.rows,s=n;s<n+i;s++){u[s]||(u[s]=hg(cp(r),[]));for(var f=t;f<t+o;f++){var c=u[s].cells;c[f]=s===n&&f===t?a:Ba(a)}}},LR=function(e,t,n){var r=e.rows,a=r[n]?r[n].cells:[];return!!a[t]},$R=function(e,t,n){for(;LR(e,t,n);)t++;return t},yg=function(e){return sn(e,function(t,n){return n.cells.length>t?n.cells.length:t},0)},bg=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var a=n[r].cells,i=0;i<a.length;i++)if(Fe(a[i],t))return b.some(OR(i,r));return b.none()},Cg=function(e,t,n,r,a){for(var i=[],o=e.rows,u=n;u<=a;u++){var s=o[u].cells,f=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(hg(o[u].element,f))}return i},FR=function(e,t,n){var r=t.x,a=t.y,i=n.x,o=n.y,u=a<o?Cg(e,r,a,i,o):Cg(e,r,o,i,a);return nc(e.element,yg(u),u)},MR=function(e,t){var n=Ba(e.element),r=x.fromTag("tbody");return yo(r,t),vt(n,r),n},UR=function(e){return Ue(e.rows,function(t){var n=Ue(t.cells,function(a){var i=cp(a);return Rr(i,"colspan"),Rr(i,"rowspan"),i}),r=Ba(t.element);return yo(r,n),r})},zR=function(e){var t=nc(Ba(e),0,[]);return te(Dt(e,"tr"),function(n,r){te(Dt(n,"td,th"),function(a,i){IR(t,$R(t,i,r),r,n,a)})}),nc(t.element,yg(t.rows),t.rows)},HR=function(e){return MR(e,UR(e))},VR=function(e,t,n){return bg(e,t).bind(function(r){return bg(e,n).map(function(a){return FR(e,r,a)})})},qR=function(e){return Nt(e,function(t){return Xe(t)==="ul"||Xe(t)==="ol"})},WR=function(e,t){return Nt(e,function(n){return Xe(n)==="li"&&tl(n,t)}).fold(ie([]),function(n){return qR(e).map(function(r){var a=x.fromTag(Xe(r)),i=fi(sd(r),function(o,u){return ca(u,"list-style")});return k1(a,i),[x.fromTag("li"),a]}).getOr([])})},jR=function(e,t){var n=sn(t,function(r,a){return vt(a,r),a},e);return t.length>0?tc([n]):n},KR=function(e){return Ci(e)?ln(e).filter(js).fold(ie([]),function(t){return[e,t]}):js(e)?[e]:[]},GR=function(e,t){var n=x.fromDom(t.commonAncestorContainer),r=Wn(n,e),a=_e(r,function(u){return Ws(u)||ew(u)}),i=WR(r,t),o=a.concat(i.length?i:KR(n));return Ue(o,Ba)},wg=function(){return tc([])},XR=function(e,t){return jR(x.fromDom(t.cloneContents()),GR(e,t))},YR=function(e,t){return xo(t,"table",Y(Fe,e))},QR=function(e,t){return YR(e,t[0]).bind(function(n){var r=t[0],a=t[t.length-1],i=zR(n);return VR(i,r,a).map(function(o){return tc([HR(o)])})}).getOrThunk(wg)},ZR=function(e,t){return t.length>0&&t[0].collapsed?wg():XR(e,t[0])},JR=function(e,t){var n=Om(t,e);return n.length>0?QR(e,n):ZR(e,t)},eB=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Nu=function(e,t){return t>=0&&t<e.length&&Ua(e.charAt(t))},Eg=function(e,t){var n=rr(e.innerText);return t?eB(n):n},tB=function(e){return e.map(function(t){return t.nodeName}).getOr("div").toLowerCase()},nB=function(e){return b.from(e.selection.getRng()).map(function(t){var n=b.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),a=tB(n),i=pe.browser.isIE()&&a!=="pre",o=e.dom.add(r,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),u=Eg(o,i),s=rr(o.textContent);if(e.dom.remove(o),Nu(s,0)||Nu(s,s.length-1)){var f=n.getOr(r),c=Eg(f,i),l=c.indexOf(u);if(l===-1)return u;var v=Nu(c,l-1),p=Nu(c,l+u.length);return(v?" ":"")+u+(p?" ":"")}else return u}).getOr("")},rB=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),i=Cl(e,Jf(a)),o=t.contextual?JR(x.fromDom(e.getBody()),i).dom:n.cloneContents();return o&&r.appendChild(o),e.selection.serializer.serialize(r,t)},aB=function(e,t,n){if(n===void 0&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if(n.format==="text")return nB(e);n.getInner=!0;var r=rB(e,n);return n.format==="tree"?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},rc=0,Sg=1,xg=2,iB=function(e,t){var n=e.length+t.length+2,r=new Array(n),a=new Array(n),i=function(c,l,v){return{start:c,end:l,diag:v}},o=function(c,l,v,p,m){var h=s(c,l,v,p);if(h===null||h.start===l&&h.diag===l-p||h.end===c&&h.diag===c-v)for(var d=c,y=v;d<l||y<p;)d<l&&y<p&&e[d]===t[y]?(m.push([rc,e[d]]),++d,++y):l-c>p-v?(m.push([xg,e[d]]),++d):(m.push([Sg,t[y]]),++y);else{o(c,h.start,v,h.start-h.diag,m);for(var g=h.start;g<h.end;++g)m.push([rc,e[g]]);o(h.end,l,h.end-h.diag,p,m)}},u=function(c,l,v,p){for(var m=c;m-l<p&&m<v&&e[m]===t[m-l];)++m;return i(c,m,l)},s=function(c,l,v,p){var m=l-c,h=p-v;if(m===0||h===0)return null;var d=m-h,y=h+m,g=(y%2==0?y:y+1)/2;r[1+g]=c,a[1+g]=l+1;var C,w,S,B,F;for(C=0;C<=g;++C){for(w=-C;w<=C;w+=2){for(S=w+g,w===-C||w!==C&&r[S-1]<r[S+1]?r[S]=r[S+1]:r[S]=r[S-1]+1,B=r[S],F=B-c+v-w;B<l&&F<p&&e[B]===t[F];)r[S]=++B,++F;if(d%2!=0&&d-C<=w&&w<=d+C&&a[S-d]<=r[S])return u(a[S-d],w+c-v,l,p)}for(w=d-C;w<=d+C;w+=2){for(S=w+g-d,w===d-C||w!==d+C&&a[S+1]<=a[S-1]?a[S]=a[S+1]-1:a[S]=a[S-1],B=a[S]-1,F=B-c+v-w;B>=c&&F>=v&&e[B]===t[F];)a[S]=B--,F--;if(d%2==0&&-C<=w&&w<=C&&a[S]<=r[S+d])return u(a[S],w+c-v,l,p)}}},f=[];return o(0,e.length,0,t.length,f),f},kg=function(e){return me(e)?e.outerHTML:ne(e)?Dr.encodeRaw(e.data,!1):C1(e)?"<!--"+e.data+"-->":""},oB=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},uB=function(e,t,n){var r=oB(t);if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.insertBefore(r,a)}else e.appendChild(r)},sB=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},fB=function(e,t){var n=0;te(e,function(r){r[0]===rc?n++:r[0]===Sg?(uB(t,r[1],n),n++):r[0]===xg&&sB(t,n)})},lB=function(e){return _e(Ue(Qn(e.childNodes),kg),function(t){return t.length>0})},cB=function(e,t){var n=Ue(Qn(t.childNodes),kg);return fB(iB(n,e),t),t},Ng=Ye(b.none()),vB=function(){return Ng.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return Ng.set(b.some(e)),e})},dB=function(e){return e.indexOf("</iframe>")!==-1},pB=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},mB=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},ac=function(e){var t=lB(e.getBody()),n=ui(t,function(a){var i=lh(e.serializer,a);return i.length>0?[i]:[]}),r=n.join("");return dB(r)?pB(n):mB(r)},ic=function(e,t,n){t.type==="fragmented"?cB(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},oc=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},_g=function(e){var t=x.fromTag("body",vB());return fp(t,oc(e)),te(Dt(t,"*[data-mce-bogus]"),Yv),aS(t)},hB=function(e,t){return oc(e)===oc(t)},gB=function(e,t){return _g(e)===_g(t)},_u=function(e,t){return!e||!t?!1:hB(e,t)?!0:gB(e,t)},uc=function(e){return e.get()===0},Tu=function(e,t,n){uc(n)&&(e.typing=t)},Tg=function(e,t){e.typing&&(Tu(e,!1,t),e.add())},yB=function(e){e.typing&&(e.typing=!1,e.add())},bB=function(e,t,n){uc(t)&&n.set(b.some($p(e.selection)))},CB=function(e,t,n,r,a,i,o){var u=ac(e);if(i=i||{},i=P.extend(i,u),uc(r)===!1||e.removed)return null;var s=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:o}).isDefaultPrevented()||s&&_u(s,i))return null;t.data[n.get()]&&a.get().each(function(v){t.data[n.get()].beforeBookmark=v});var f=wx(e);if(f&&t.data.length>f){for(var c=0;c<t.data.length-1;c++)t.data[c]=t.data[c+1];t.data.length--,n.set(t.data.length)}i.bookmark=$p(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var l={level:i,lastLevel:s,originalEvent:o};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",l),e.fire("change",l)):e.fire("AddUndo",l),i},wB=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},EB=function(e,t,n,r,a){if(t.transact(r)){var i=t.data[n.get()].bookmark,o=t.data[n.get()-1];ic(e,o,!0),t.transact(a)&&(t.data[n.get()-1].beforeBookmark=i)}},SB=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],ic(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},xB=function(e,t,n,r){var a;return t.typing&&(t.add(),t.typing=!1,Tu(t,!1,n)),r.get()>0&&(r.set(r.get()-1),a=t.data[r.get()],ic(e,a,!0),e.setDirty(!0),e.fire("Undo",{level:a})),a},kB=function(e){e.clear(),e.add()},NB=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!_u(ac(e),t.data[0])},_B=function(e,t){return t.get()<e.data.length-1&&!e.typing},TB=function(e,t,n){return Tg(e,t),e.beforeChange(),e.ignore(n),e.add()},AB=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},RB=function(e,t){var n=e.dom,r=It(t)?t:e.getBody();oi(e.hasVisual)&&(e.hasVisual=_x(e)),te(n.select("table,a",r),function(a){switch(a.nodeName){case"TABLE":var i=Tx(e),o=n.getAttrib(a,"border");(!o||o==="0")&&e.hasVisual?n.addClass(a,i):n.removeClass(a,i);break;case"A":if(!n.getAttrib(a,"href")){var u=n.getAttrib(a,"name")||a.id,s=Ax(e);u&&e.hasVisual?n.addClass(a,s):n.removeClass(a,s)}break}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},Ag=function(e){return{undoManager:{beforeChange:function(t,n){return bB(e,t,n)},addUndoLevel:function(t,n,r,a,i,o){return CB(e,t,n,r,a,i,o)},undo:function(t,n,r){return xB(e,t,n,r)},redo:function(t,n){return SB(e,t,n)},clear:function(t,n){return wB(e,t,n)},reset:function(t){return kB(t)},hasUndo:function(t,n){return NB(e,t,n)},hasRedo:function(t,n){return _B(t,n)},transact:function(t,n,r){return TB(t,n,r)},ignore:function(t,n){return AB(t,n)},extra:function(t,n,r,a){return EB(e,t,n,r,a)}},formatter:{match:function(t,n,r){return Wl(e,t,n,r)},matchAll:function(t,n){return jA(e,t,n)},matchNode:function(t,n,r,a){return On(e,t,n,r,a)},canApply:function(t){return GA(e,t)},closest:function(t){return KA(e,t)},apply:function(t,n,r){return ec(e,t,n,r)},remove:function(t,n,r,a){return dg(e,t,n,r,a)},toggle:function(t,n,r){return DR(e,t,n,r)},formatChanged:function(t,n,r,a){return PR(e,t,n,r,a)}},editor:{getContent:function(t,n){return M_(e,t,n)},setContent:function(t,n){return VA(e,t,n)},insertContent:function(t,n){return LA(e,t,n)},addVisual:function(t){return RB(e,t)}},selection:{getContent:function(t,n){return aB(e,t,n)}},raw:{getModel:function(){return b.none()}}}},BB=function(e){var t=function(f){return bt(f)?f:{}},n=Jc("Unimplemented feature for rtc"),r=e.undoManager,a=e.formatter,i=e.editor,o=e.selection,u=e.raw,s=we;return{undoManager:{beforeChange:s,addUndoLevel:n,undo:function(){return r.undo()},redo:function(){return r.redo()},clear:function(){return r.clear()},reset:function(){return r.reset()},hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(f,c,l){return r.transact(l)},ignore:function(f,c){return r.ignore(c)},extra:function(f,c,l,v){return r.extra(l,v)}},formatter:{match:function(f,c,l){return a.match(f,t(c))},matchAll:n,matchNode:n,canApply:function(f){return a.canApply(f)},closest:function(f){return a.closest(f)},apply:function(f,c,l){return a.apply(f,t(c))},remove:function(f,c,l,v){return a.remove(f,t(c))},toggle:function(f,c,l){return a.toggle(f,t(c))},formatChanged:function(f,c,l,v){return a.formatChanged(c,l,v)}},editor:{getContent:function(f,c){return i.getContent(f)},setContent:function(f,c){return i.setContent(f,c)},insertContent:function(f,c){return i.insertContent(f)},addVisual:s},selection:{getContent:function(f,c){return o.getContent(c)}},raw:{getModel:function(){return b.some(u.getRawModel())}}}},PB=function(){var e=ie(null),t=ie("");return{undoManager:{beforeChange:we,addUndoLevel:e,undo:e,redo:e,clear:we,reset:we,hasUndo:Pe,hasRedo:Pe,transact:e,ignore:we,extra:we},formatter:{match:Pe,matchAll:ie([]),matchNode:Pe,canApply:Pe,closest:t,apply:we,remove:we,toggle:we,formatChanged:ie({unbind:we})},editor:{getContent:t,setContent:t,insertContent:we,addVisual:we},selection:{getContent:t},raw:{getModel:ie(b.none())}}},jr=function(e){return ct(e.plugins,"rtc")},DB=function(e){return qt(e.plugins,"rtc").bind(function(t){return b.from(t.setup)})},OB=function(e){var t=e;return DB(e).fold(function(){return t.rtcInstance=Ag(e),b.none()},function(n){return b.some(n().then(function(r){return t.rtcInstance=BB(r),r.rtc.isRemote},function(r){return t.rtcInstance=PB(),rt.reject(r)}))})},sc=function(e){return e.rtcInstance?e.rtcInstance:Ag(e)},Ge=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},IB=function(e,t,n){Ge(e).undoManager.beforeChange(t,n)},LB=function(e,t,n,r,a,i,o){return Ge(e).undoManager.addUndoLevel(t,n,r,a,i,o)},$B=function(e,t,n,r){return Ge(e).undoManager.undo(t,n,r)},FB=function(e,t,n){return Ge(e).undoManager.redo(t,n)},MB=function(e,t,n){Ge(e).undoManager.clear(t,n)},UB=function(e,t){Ge(e).undoManager.reset(t)},zB=function(e,t,n){return Ge(e).undoManager.hasUndo(t,n)},HB=function(e,t,n){return Ge(e).undoManager.hasRedo(t,n)},VB=function(e,t,n,r){return Ge(e).undoManager.transact(t,n,r)},qB=function(e,t,n){Ge(e).undoManager.ignore(t,n)},WB=function(e,t,n,r,a){Ge(e).undoManager.extra(t,n,r,a)},jB=function(e,t,n,r){return Ge(e).formatter.match(t,n,r)},KB=function(e,t,n){return Ge(e).formatter.matchAll(t,n)},GB=function(e,t,n,r,a){return Ge(e).formatter.matchNode(t,n,r,a)},XB=function(e,t){return Ge(e).formatter.canApply(t)},YB=function(e,t){return Ge(e).formatter.closest(t)},QB=function(e,t,n,r){Ge(e).formatter.apply(t,n,r)},ZB=function(e,t,n,r,a){Ge(e).formatter.remove(t,n,r,a)},JB=function(e,t,n,r){Ge(e).formatter.toggle(t,n,r)},eP=function(e,t,n,r,a){return a===void 0&&(a=!1),Ge(e).formatter.formatChanged(t,n,r,a)},tP=function(e,t,n){return sc(e).editor.getContent(t,n)},nP=function(e,t,n){return sc(e).editor.setContent(t,n)},rP=function(e,t,n){return sc(e).editor.insertContent(t,n)},aP=function(e,t,n){return Ge(e).selection.getContent(t,n)},iP=function(e,t){return Ge(e).editor.addVisual(t)},oP=function(e,t){t===void 0&&(t={});var n=t.format?t.format:"html";return aP(e,n,t)},Rg=function(e){return e.dom.length===0?(dt(e),b.none()):b.some(e)},uP=function(e,t){return e.filter(function(n){return Mi.isBookmarkNode(n.dom)}).bind(t?di:Tr)},sP=function(e,t,n,r){var a=e.dom,i=t.dom,o=r?a.length:i.length;r?(Pl(a,i,!1,!r),n.setStart(i,o)):(Pl(i,a,!1,!r),n.setEnd(i,o))},fP=function(e,t){ln(e).each(function(n){var r=e.dom;t&&gu(n,A(r,0))?bu(r,0):!t&&yu(n,A(r,r.length))&&Bl(r,r.length)})},Bg=function(e,t,n,r){e.bind(function(a){var i=r?Bl:bu;return i(a.dom,r?a.dom.length:0),t.filter(tn).map(function(o){return sP(a,o,n,r)})}).orThunk(function(){var a=uP(t,r).or(t).filter(tn);return a.map(function(i){return fP(i,r)})})},lP=function(e,t){var n=b.from(t.firstChild).map(x.fromDom),r=b.from(t.lastChild).map(x.fromDom);e.deleteContents(),e.insertNode(t);var a=n.bind(Tr).filter(tn).bind(Rg),i=r.bind(di).filter(tn).bind(Rg);Bg(a,n,e,!0),Bg(i,r,e,!1),e.collapse(!1)},cP=function(e,t){return Ce(Ce({format:"html"},e),{set:!0,selection:!0,content:t})},vP=function(e,t){if(t.format!=="raw"){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,Ce(Ce({isRootContent:!0,forced_root_block:!1},a),t));return Wa({validate:e.validate},e.schema).serialize(i)}else return t.content},dP=function(e,t,n){n===void 0&&(n={});var r=cP(n,t);if(!r.no_events&&(r=e.fire("BeforeSetContent",r),r.isDefaultPrevented())){e.fire("SetContent",r);return}n.content=vP(e,r);var a=e.selection.getRng();lP(a,a.createContextualFragment(n.content)),e.selection.setRng(a),lu(e,a),r.no_events||e.fire("SetContent",r)},Pg=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=_e(e[t],function(a){return a!==n});r.length===0?delete e[t]:e[t]=r}};function pP(e,t){var n,r;return{selectorChangedWithUnbind:function(a,i){return n||(n={},r={},t.on("NodeChange",function(o){var u=o.element,s=e.getParents(u,null,e.getRoot()),f={};P.each(n,function(c,l){P.each(s,function(v){if(e.is(v,l))return r[l]||(P.each(c,function(p){p(!0,{node:v,selector:l,parents:s})}),r[l]=c),f[l]=c,!1})}),P.each(r,function(c,l){f[l]||(delete r[l],P.each(c,function(v){v(!1,{node:u,selector:l,parents:s})}))})})),n[a]||(n[a]=[]),n[a].push(i),{unbind:function(){Pg(n,a,i),Pg(r,a,i)}}}}}var Dg=function(e){return!!e.select},Og=function(e){return!!(e&&e.ownerDocument)&&Jn(x.fromDom(e.ownerDocument),x.fromDom(e))},mP=function(e){return e?Dg(e)?!0:Og(e.startContainer)&&Og(e.endContainer):!1},Ig=function(e,t,n,r){var a,i,o=pP(e,r).selectorChangedWithUnbind,u=function(L,G){var ke=e.createRng();It(L)&&It(G)?(ke.setStart(L,G),ke.setEnd(L,G),C(ke),d(!1)):(nl(e,ke,r.getBody(),!0),C(ke))},s=function(L){return oP(r,L)},f=function(L,G){return dP(r,L,G)},c=function(L){return oh(r.getBody(),g(),L)},l=function(L){return uh(r.getBody(),g(),L)},v=function(L,G){return q.getBookmark(L,G)},p=function(L){return q.moveToBookmark(L)},m=function(L,G){return S_(e,L,G).each(C),L},h=function(){var L=g(),G=y();return!L||L.item?!1:L.compareEndPoints?L.compareEndPoints("StartToEnd",L)===0:!G||L.collapsed},d=function(L){var G=g();G.collapse(!!L),C(G)},y=function(){return t.getSelection?t.getSelection():t.document.selection},g=function(){var L,G,ke,Be=function(Ve,Bt,St){try{return Bt.compareBoundaryPoints(Ve,St)}catch{return-1}},Te=t.document;if(r.bookmark!==void 0&&Vr(r)===!1){var qe=hl(r);if(qe.isSome())return qe.map(function(Ve){return Cl(r,[Ve])[0]}).getOr(Te.createRange())}try{(L=y())&&!Co(L.anchorNode)&&(L.rangeCount>0?G=L.getRangeAt(0):G=L.createRange?L.createRange():Te.createRange(),G=Cl(r,[G])[0])}catch{}return G||(G=Te.createRange?Te.createRange():Te.body.createTextRange()),G.setStart&&G.startContainer.nodeType===9&&G.collapsed&&(ke=e.getRoot(),G.setStart(ke,0),G.setEnd(ke,0)),a&&i&&(Be(G.START_TO_START,G,a)===0&&Be(G.END_TO_END,G,a)===0?G=i:(a=null,i=null)),G},C=function(L,G){var ke;if(!!mP(L)){var Be=Dg(L)?L:null;if(Be){i=null;try{Be.select()}catch{}return}var Te=y(),qe=r.fire("SetSelectionRange",{range:L,forward:G});if(L=qe.range,Te){i=L;try{Te.removeAllRanges(),Te.addRange(L)}catch{}G===!1&&Te.extend&&(Te.collapse(L.endContainer,L.endOffset),Te.extend(L.startContainer,L.startOffset)),a=Te.rangeCount>0?Te.getRangeAt(0):null}!L.collapsed&&L.startContainer===L.endContainer&&Te.setBaseAndExtent&&!pe.ie&&L.endOffset-L.startOffset<2&&L.startContainer.hasChildNodes()&&(ke=L.startContainer.childNodes[L.startOffset],ke&&ke.tagName==="IMG"&&(Te.setBaseAndExtent(L.startContainer,L.startOffset,L.endContainer,L.endOffset),(Te.anchorNode!==L.startContainer||Te.focusNode!==L.endContainer)&&Te.setBaseAndExtent(ke,0,ke,1))),r.fire("AfterSetSelectionRange",{range:L,forward:G})}},w=function(L){return f(e.getOuterHTML(L)),L},S=function(){return w_(r.getBody(),g())},B=function(L,G){return E_(e,g(),L,G)},F=function(){var L=y(),G=L==null?void 0:L.anchorNode,ke=L==null?void 0:L.focusNode;if(!L||!G||!ke||Co(G)||Co(ke))return!0;var Be=e.createRng();Be.setStart(G,L.anchorOffset),Be.collapse(!0);var Te=e.createRng();return Te.setStart(ke,L.focusOffset),Te.collapse(!0),Be.compareBoundaryPoints(Be.START_TO_START,Te)<=0},M=function(){var L=g(),G=y();if(!Nk(G)&&ou(r)){var ke=uu(e,L);return ke.each(function(Be){C(Be,F())}),ke.getOr(L)}return L},Q=function(L,G){return o(L,G),z},J=function(){for(var L,G=e.getRoot();G&&G.nodeName!=="BODY";){if(G.scrollHeight>G.clientHeight){L=G;break}G=G.parentNode}return L},I=function(L,G){return kN(r,L,G)},se=function(L,G){return C(ul(L,G,r.getDoc()))},H=function(){var L=g();return L.collapsed?A.fromRangeStart(L).getClientRects()[0]:L.getBoundingClientRect()},Z=function(){t=a=i=null,X.destroy()},z={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:d,setCursorLocation:u,getContent:s,setContent:f,getBookmark:v,moveToBookmark:p,select:m,isCollapsed:h,isForward:F,setNode:w,getNode:S,getSel:y,setRng:C,getRng:g,getStart:c,getEnd:l,getSelectedBlocks:B,normalize:M,selectorChanged:Q,selectorChangedWithUnbind:o,getScrollContainer:J,scrollIntoView:I,placeCaretAt:se,getBoundingClientRect:H,destroy:Z},q=Mi(z),X=Mm(z,r);return z.bookmarkManager=q,z.controlSelection=X,z},hP=function(e,t){te(t,function(n){e.attr(n,null)})},gP=function(e,t,n){e.addNodeFilter("font",function(r){te(r,function(a){var i=t.parse(a.attr("style")),o=a.attr("color"),u=a.attr("face"),s=a.attr("size");o&&(i.color=o),u&&(i["font-family"]=u),s&&(i["font-size"]=n[parseInt(a.attr("size"),10)-1]),a.name="span",a.attr("style",t.serialize(i)),hP(a,["color","face","size"])})})},yP=function(e,t){e.addNodeFilter("strike",function(n){te(n,function(r){var a=t.parse(r.attr("style"));a["text-decoration"]="line-through",r.name="span",r.attr("style",t.serialize(a))})})},bP=function(e,t){var n=af();t.convert_fonts_to_spans&&gP(e,n,P.explode(t.font_size_legacy_values)),yP(e,n)},CP=function(e,t){t.inline_styles&&bP(e,t)},wP=function(e){return new rt(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){a.status===200?t(a.response):r()},a.onerror=r,a.send()}catch{r()}})},fc=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},Lg=function(e,t){var n;try{n=atob(t)}catch{return b.none()}for(var r=new Uint8Array(n.length),a=0;a<r.length;a++)r[a]=n.charCodeAt(a);return b.some(new Blob([r],{type:e}))},EP=function(e){return new rt(function(t){var n=fc(e),r=n.type,a=n.data;Lg(r,a).fold(function(){return t(new Blob([]))},t)})},$g=function(e){return e.indexOf("blob:")===0?wP(e):e.indexOf("data:")===0?EP(e):null},SP=function(e){return new rt(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},xP=0,lc=function(e){return(e||"blobid")+xP++},kP=function(e,t,n,r){var a,i;if(t.src.indexOf("blob:")===0){i=e.getByUri(t.src),i?n({image:t,blobInfo:i}):$g(t.src).then(function(f){SP(f).then(function(c){a=fc(c).data,i=e.create(lc(),f,a),e.add(i),n({image:t,blobInfo:i})})},function(f){r(f)});return}var o=fc(t.src),u=o.data,s=o.type;a=u,i=e.getByData(a,s),i?n({image:t,blobInfo:i}):$g(t.src).then(function(f){i=e.create(lc(),f,a),e.add(i),n({image:t,blobInfo:i})},function(f){r(f)})},NP=function(e){return e?Qn(e.getElementsByTagName("img")):[]},_P=function(e,t){var n={},r=function(a,i){i||(i=lt);var o=_e(NP(a),function(s){var f=s.src;return!pe.fileApi||s.hasAttribute("data-mce-bogus")||s.hasAttribute("data-mce-placeholder")||!f||f===pe.transparentSrc?!1:f.indexOf("blob:")===0?!e.isUploaded(f)&&i(s):f.indexOf("data:")===0?i(s):!1}),u=Ue(o,function(s){if(n[s.src]!==void 0)return new rt(function(c){n[s.src].then(function(l){if(typeof l=="string")return l;c({image:s,blobInfo:l.blobInfo})})});var f=new rt(function(c,l){kP(t,s,c,l)}).then(function(c){return delete n[c.image.src],c}).catch(function(c){return delete n[s.src],c});return n[s.src]=f,f});return rt.all(u)};return{findAll:r}},Fg=function(e,t,n,r){var a=e.padd_empty_with_br||t.insert;a&&n[r.name]?r.empty().append(new an("br",1)).shortEnded=!0:r.empty().append(new an("#text",3)).value=$t},TP=function(e){return Mg(e,"#text")&&e.firstChild.value===$t},Mg=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},AP=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},ji=function(e,t,n,r){return r.isEmpty(t,n,function(a){return AP(e,a)})},RP=function(e,t){return e&&(t[e.name]||e.name==="br")},BP=function(e){return e.attr("data-mce-bogus")},PP=function(e){return e.attr("src")===pe.transparentSrc||e.attr("data-mce-placeholder")},DP=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),je(e.attributes.map,function(r,a){n.setAttribute(a,r)}),t.images_dataimg_filter(n)}else return!0},OP=function(e,t){var n=t.blob_cache,r=function(a){var i=a.attr("src");PP(a)||BP(a)||__(i).filter(function(){return DP(a,t)}).bind(function(o){var u=o.type,s=o.data;return b.from(n.getByData(s,u)).orThunk(function(){return Lg(u,s).map(function(f){var c=n.create(lc(),f,s);return n.add(c),c})})}).each(function(o){a.attr("src",o.blobUri())})};n&&e.addAttributeFilter("src",function(a){return te(a,r)})},IP=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(r,a,i){var o,u=r.length,s,f=P.extend({},n.getBlockElements()),c=n.getNonEmptyElements(),l,v,p,m,h=n.getWhiteSpaceElements(),d,y;for(f.body=1,o=0;o<u;o++)if(s=r[o],l=s.parent,f[s.parent.name]&&s===l.lastChild){for(p=s.prev;p;){if(m=p.name,m!=="span"||p.attr("data-mce-type")!=="bookmark"){m==="br"&&(s=null);break}p=p.prev}s&&(s.remove(),ji(n,c,h,l)&&(d=n.getElementRule(l.name),d&&(d.removeEmpty?l.remove():d.paddEmpty&&Fg(t,i,f,l))))}else{for(v=s;l&&l.firstChild===v&&l.lastChild===v&&(v=l,!f[l.name]);)l=l.parent;v===l&&t.padd_empty_with_br!==!0&&(y=new an("#text",3),y.value=$t,s.replace(y))}}),e.addAttributeFilter("href",function(r){var a=r.length,i=function(s){var f=s.split(" ").filter(function(c){return c.length>0});return f.concat(["noopener"]).sort().join(" ")},o=function(s){var f=s?P.trim(s):"";return/\b(noopener)\b/g.test(f)?f:i(f)};if(!t.allow_unsafe_link_target)for(;a--;){var u=r[a];u.name==="a"&&u.attr("target")==="_blank"&&u.attr("rel",o(u.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(r){for(var a=r.length,i,o,u,s;a--;)if(s=r[a],s.name==="a"&&s.firstChild&&!s.attr("href")){u=s.parent,i=s.lastChild;do o=i.prev,u.insert(i,s),i=o;while(i)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(r){for(var a=r.length,i,o;a--;)if(i=r[a],o=i.parent,o.name==="ul"||o.name==="ol")if(i.prev&&i.prev.name==="li")i.prev.append(i);else{var u=new an("li",1);u.attr("style","list-style-type: none"),i.wrap(u)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(r){for(var a=r.length,i,o,u,s,f,c=n.getValidClasses(),l,v;a--;){for(i=r[a],o=i.attr("class").split(" "),f="",u=0;u<o.length;u++)s=o[u],v=!1,l=c["*"],l&&l[s]&&(v=!0),l=c[i.name],!v&&l&&l[s]&&(v=!0),v&&(f&&(f+=" "),f+=s);f.length||(f=null),i.attr("class",f)}}),OP(e,t)},Ug=P.makeMap,zg=P.each,Hg=P.explode,LP=P.extend,cc=function(e,t){t===void 0&&(t=ir());var n={},r=[],a={},i={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var o=function(m){var h,d,y,g,C,w,S,B,F,M,Q,J=Ug("tr,td,th,tbody,thead,tfoot,table"),I=t.getNonEmptyElements(),se=t.getWhiteSpaceElements(),H=t.getTextBlockElements(),Z=t.getSpecialElements();for(h=0;h<m.length;h++)if(d=m[h],!(!d.parent||d.fixed)){if(H[d.name]&&d.parent.name==="li"){for(M=d.next;M&&H[M.name];){M.name="li",M.fixed=!0,d.parent.insert(M,d.parent);M=M.next}d.unwrap(d);continue}for(g=[d],y=d.parent;y&&!t.isValidChild(y.name,d.name)&&!J[y.name];y=y.parent)g.push(y);if(y&&g.length>1){for(g.reverse(),C=w=u(g[0].clone()),F=0;F<g.length-1;F++){for(t.isValidChild(w.name,g[F].name)?(S=u(g[F].clone()),w.append(S)):S=w,B=g[F].firstChild;B&&B!==g[F+1];)Q=B.next,S.append(B),B=Q;w=S}ji(t,I,se,C)?y.insert(d,g[0],!0):(y.insert(C,g[0],!0),y.insert(d,C)),y=g[0],(ji(t,I,se,y)||Mg(y,"br"))&&y.empty().remove()}else if(d.parent){if(d.name==="li"){if(M=d.prev,M&&(M.name==="ul"||M.name==="ol")){M.append(d);continue}if(M=d.next,M&&(M.name==="ul"||M.name==="ol")){M.insert(d,M.firstChild,!0);continue}d.wrap(u(new an("ul",1)));continue}t.isValidChild(d.parent.name,"div")&&t.isValidChild("div",d.name)?d.wrap(u(new an("div",1))):Z[d.name]?d.empty().remove():d.unwrap()}}},u=function(m){var h,d,y;for(d=m.name,(d in n)&&(y=a[d],y?y.push(m):a[d]=[m]),h=r.length;h--;)d=r[h].name,d in m.attributes.map&&(y=i[d],y?y.push(m):i[d]=[m]);return m},s=function(m,h){zg(Hg(m),function(d){var y=n[d];y||(n[d]=y=[]),y.push(h)})},f=function(){var m=[];for(var h in n)n.hasOwnProperty(h)&&m.push({name:h,callbacks:n[h]});return m},c=function(m,h){zg(Hg(m),function(d){var y;for(y=0;y<r.length;y++)if(r[y].name===d){r[y].callbacks.push(h);return}r.push({name:d,callbacks:[h]})})},l=function(){return[].concat(r)},v=function(m,h){var d,y,g,C,w,S,B,F=[],M,Q,J=function(N){return N===!1?"":N===!0?"p":N};h=h||{},a={},i={};var I=LP(Ug("script,style,head,html,body,title,meta,param"),t.getBlockElements()),se=t.getNonEmptyElements(),H=t.children,Z=e.validate,z="forced_root_block"in h?h.forced_root_block:e.forced_root_block,q=J(z),X=t.getWhiteSpaceElements(),L=/^[ \t\r\n]+/,G=/[ \t\r\n]+$/,ke=/[ \t\r\n]+/g,Be=/^[ \t\r\n]+$/;M=X.hasOwnProperty(h.context)||X.hasOwnProperty(e.root_name);var Te=function(){var N=O.firstChild,D,_,W=function(K){K&&(N=K.firstChild,N&&N.type===3&&(N.value=N.value.replace(L,"")),N=K.lastChild,N&&N.type===3&&(N.value=N.value.replace(G,"")))};if(!!t.isValidChild(O.name,q.toLowerCase())){for(;N;)D=N.next,N.type===3||N.type===1&&N.name!=="p"&&!I[N.name]&&!N.attr("data-mce-type")?(_||(_=qe(q,1),_.attr(e.forced_root_block_attrs),O.insert(_,N)),_.append(N)):(W(_),_=null),N=D;W(_)}},qe=function(N,D){var _=new an(N,D),W;return N in n&&(W=a[N],W?W.push(_):a[N]=[_]),_},Ve=function(N){var D,_,W,K,fe=t.getBlockElements();for(D=N.prev;D&&D.type===3;){if(W=D.value.replace(G,""),W.length>0){D.value=W;return}if(_=D.next,_){if(_.type===3&&_.value.length){D=D.prev;continue}if(!fe[_.name]&&_.name!=="script"&&_.name!=="style"){D=D.prev;continue}}K=D.prev,D.remove(),D=K}},Bt=function(N){var D,_={};for(D in N)D!=="li"&&D!=="p"&&(_[D]=N[D]);return _},St=mu({validate:Z,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Bt(t.getSelfClosingElements()),cdata:function(N){Q.append(qe("#cdata",4)).value=N},text:function(N,D){var _;M||(N=N.replace(ke," "),RP(Q.lastChild,I)&&(N=N.replace(L,""))),N.length!==0&&(_=qe("#text",3),_.raw=!!D,Q.append(_).value=N)},comment:function(N){Q.append(qe("#comment",8)).value=N},pi:function(N,D){Q.append(qe(N,7)).value=D,Ve(Q)},doctype:function(N){var D=Q.append(qe("#doctype",10));D.value=N,Ve(Q)},start:function(N,D,_){var W,K,fe,he,Le=Z?t.getElementRule(N):{};if(Le){for(W=qe(Le.outputName||N,1),W.attributes=D,W.shortEnded=_,Q.append(W),he=H[Q.name],he&&H[W.name]&&!he[W.name]&&F.push(W),K=r.length;K--;)fe=r[K].name,fe in D.map&&(S=i[fe],S?S.push(W):i[fe]=[W]);I[N]&&Ve(W),_||(Q=W),!M&&X[N]&&(M=!0)}},end:function(N){var D,_,W,K,fe=Z?t.getElementRule(N):{};if(fe){if(I[N]&&!M){if(D=Q.firstChild,D&&D.type===3)if(_=D.value.replace(L,""),_.length>0)D.value=_,D=D.next;else for(W=D.next,D.remove(),D=W;D&&D.type===3;)_=D.value,W=D.next,(_.length===0||Be.test(_))&&(D.remove(),D=W),D=W;if(D=Q.lastChild,D&&D.type===3)if(_=D.value.replace(G,""),_.length>0)D.value=_,D=D.prev;else for(W=D.prev,D.remove(),D=W;D&&D.type===3;)_=D.value,W=D.prev,(_.length===0||Be.test(_))&&(D.remove(),D=W),D=W}if(M&&X[N]&&(M=!1),fe.removeEmpty&&ji(t,se,X,Q)){K=Q.parent,I[Q.name]?Q.empty().remove():Q.unwrap(),Q=K;return}fe.paddEmpty&&(TP(Q)||ji(t,se,X,Q))&&Fg(e,h,I,Q),Q=Q.parent}}},t),O=Q=new an(h.context||e.root_name,11);if(St.parse(m,h.format),Z&&F.length&&(h.context?h.invalid=!0:o(F)),q&&(O.name==="body"||h.isRootContent)&&Te(),!h.invalid){for(B in a)if(!!a.hasOwnProperty(B)){for(S=n[B],d=a[B],C=d.length;C--;)d[C].parent||d.splice(C,1);for(y=0,g=S.length;y<g;y++)S[y](d,B,h)}for(y=0,g=r.length;y<g;y++)if(S=r[y],S.name in i){for(d=i[S.name],C=d.length;C--;)d[C].parent||d.splice(C,1);for(C=0,w=S.callbacks.length;C<w;C++)S.callbacks[C](d,S.name,h)}}return O},p={schema:t,addAttributeFilter:c,getAttributeFilters:l,addNodeFilter:s,getNodeFilters:f,filterNode:u,parse:v};return IP(p,e),CP(p,e),p},$P=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(r,a){for(var i=r.length,o;i--;)o=r[i],o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(a,null)}),e.addAttributeFilter("src,href,style",function(r,a){for(var i=r.length,o,u,s="data-mce-"+a,f=t.url_converter,c=t.url_converter_scope;i--;)o=r[i],u=o.attr(s),u!==void 0?(o.attr(a,u.length>0?u:null),o.attr(s,null)):(u=o.attr(a),a==="style"?u=n.serializeStyle(n.parseStyle(u),o.name):f&&(u=f.call(c,u,a,o.name)),o.attr(a,u.length>0?u:null))}),e.addAttributeFilter("class",function(r){for(var a=r.length,i,o;a--;)i=r[a],o=i.attr("class"),o&&(o=i.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),i.attr("class",o.length>0?o:null))}),e.addAttributeFilter("data-mce-type",function(r,a,i){for(var o=r.length,u;o--;)if(u=r[o],u.attr("data-mce-type")==="bookmark"&&!i.cleanup){var s=b.from(u.firstChild).exists(function(f){return!Gs(f.value)});s?u.unwrap():u.remove()}}),e.addNodeFilter("noscript",function(r){for(var a=r.length,i;a--;)i=r[a].firstChild,i&&(i.value=Dr.decode(i.value))}),e.addNodeFilter("script,style",function(r,a){for(var i=r.length,o,u,s,f=function(c){return c.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)o=r[i],u=o.firstChild?o.firstChild.value:"",a==="script"?(s=o.attr("type"),s&&o.attr("type",s==="mce-no/type"?null:s.replace(/^mce\-/,"")),t.element_format==="xhtml"&&u.length>0&&(o.firstChild.value=`// <![CDATA[
`+f(u)+`
// ]]>`)):t.element_format==="xhtml"&&u.length>0&&(o.firstChild.value=`<!--
`+f(u)+`
-->`)}),e.addNodeFilter("#comment",function(r){for(var a=r.length,i;a--;)i=r[a],t.preserve_cdata&&i.value.indexOf("[CDATA[")===0?(i.name="#cdata",i.type=4,i.value=n.decode(i.value.replace(/^\[CDATA\[|\]\]$/g,""))):i.value.indexOf("mce:protected ")===0&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(i.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(r,a){for(var i=r.length,o;i--;)o=r[i],o.type===7?o.remove():o.type===1&&a==="input"&&!o.attr("type")&&o.attr("type","text")}),e.addAttributeFilter("data-mce-type",function(r){te(r,function(a){a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)})},FP=function(e){var t=function(a){return a&&a.name==="br"},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},MP=function(e,t,n){var r,a,i=e.dom;t=t.cloneNode(!0);var o=document.implementation;return o.createHTMLDocument&&(r=o.createHTMLDocument(""),P.each(t.nodeName==="BODY"?t.childNodes:[t],function(u){r.body.appendChild(r.importNode(u,!0))}),t.nodeName!=="BODY"?t=r.body.firstChild:t=r.body,a=i.doc,i.doc=r),Fk(e,Ce(Ce({},n),{node:t})),a&&(i.doc=a),t},UP=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},zP=function(e,t,n){return UP(e,n)?MP(e,t,n):t},HP=function(e,t,n){P.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(r,a){for(var i=r.length;i--;)r[i].attr(a,null)}),t.push(n))},VP=function(e,t,n){if(!t.no_events&&e){var r=Mk(e,Ce(Ce({},t),{content:n}));return r.content}else return n},qP=function(e,t,n){var r=rr(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||_o(x.fromDom(t))?r:P.trim(r)},WP=function(e,t,n){var r=n.selection?Ce({forced_root_block:!1},n):n,a=e.parse(t,r);return FP(a),a},jP=function(e,t,n){var r=Wa(e,t);return r.serialize(n)},KP=function(e,t,n,r,a){var i=jP(t,n,r);return VP(e,a,i)},GP=function(e,t){var n=["data-mce-selected"],r=t&&t.dom?t.dom:Ie.DOM,a=t&&t.schema?t.schema:ir(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var i=cc(e,a);$P(i,e,r);var o=function(u,s){s===void 0&&(s={});var f=Ce({format:"html"},s),c=zP(t,u,f),l=qP(r,c,f),v=WP(i,l,f);return f.format==="tree"?v:KP(t,e,a,v,f)};return{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:o,addRules:function(u){a.addValidElements(u)},setRules:function(u){a.setValidElements(u)},addTempAttr:Y(HP,i,n),getTempAttrs:ie(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},Vg=function(e,t){var n=GP(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},XP="html",YP=function(e,t){t===void 0&&(t={});var n=t.format?t.format:XP;return tP(e,t,n)},vc=function(e,t,n){return n===void 0&&(n={}),nP(e,t,n)},Au=Ie.DOM,QP=function(e){Au.setStyle(e.id,"display",e.orgDisplay)},Ru=function(e){return b.from(e).each(function(t){return t.destroy()})},ZP=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},JP=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),Au.unbind(t,"submit reset",e.formEventDelegate))},eD=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&a&&Au.remove(a.nextSibling),Uk(e),e.editorManager.remove(e),!e.inline&&r&&QP(e),zk(e),Au.remove(e.getContainer()),Ru(t),Ru(n),e.destroy()}},tD=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Ru(n),Ru(r)),JP(e),ZP(e),e.destroyed=!0}},nD=Object.prototype.hasOwnProperty,rD=function(e,t){var n=bt(e)&&bt(t);return n?qg(e,t):t},aD=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length===0)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var i=t[a];for(var o in i)nD.call(i,o)&&(r[o]=e(r[o],i[o]))}return r}},qg=aD(rD),iD=function(e,t){return{sections:ie(e),settings:ie(t)}},dc=fn().deviceType,oD=dc.isTouch(),Wg=dc.isPhone(),uD=dc.isTablet(),sD=["lists","autolink","autosave"],jg={table_grid:!1,object_resizing:!1,resize:!1},Ki=function(e){var t=st(e)?e.join(" "):e,n=Ue(xe(t)?t.split(" "):[],Ts);return _e(n,function(r){return r.length>0})},fD=function(e){return _e(e,Y(nt,sD))},lD=function(e,t){var n=ov(t,function(r,a){return nt(e,a)});return iD(n.t,n.f)},cD=function(e,t,n){n===void 0&&(n={});var r=e.sections(),a=r.hasOwnProperty(t)?r[t]:{};return P.extend({},n,a)},Bu=function(e,t){return e.sections().hasOwnProperty(t)},vD=function(e,t,n){var r=e.sections();return Bu(e,t)&&r[t].theme===n},dD=function(e,t){return Bu(e,t)?e.sections()[t]:{}},Kg=function(e,t){return qt(e,"toolbar_mode").orThunk(function(){return qt(e,"toolbar_drawer").map(function(n){return n===!1?"wrap":n})}).getOr(t)},pD=function(e,t,n,r,a){var i={id:t,theme:"silver",toolbar_mode:Kg(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a};return Ce(Ce({},i),r?jg:{})},mD=function(e,t){var n={resize:!1,toolbar_mode:Kg(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return Ce(Ce(Ce({},jg),n),t?r:{})},hD=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?P.extend({},e.external_plugins,n):n},gD=function(e,t){return[].concat(Ki(e)).concat(Ki(t))},yD=function(e,t,n,r){return e&&vD(t,"mobile","mobile")?fD(r):e&&Bu(t,"mobile")?r:n},bD=function(e,t,n,r){var a=Ki(n.forced_plugins),i=Ki(r.plugins),o=dD(t,"mobile"),u=o.plugins?Ki(o.plugins):i,s=yD(e,t,i,u),f=gD(a,s);if(pe.browser.isIE()&&nt(f,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return P.extend(r,{plugins:f.join(" ")})},CD=function(e,t){return e&&Bu(t,"mobile")},wD=function(e,t,n,r,a){var i=e?{mobile:mD(a.mobile||{},t)}:{},o=lD(["mobile"],qg(i,a)),u=P.extend(n,r,o.settings(),CD(e,o)?cD(o,"mobile"):{},{validate:!0,external_plugins:hD(r,o.settings())});return bD(e,o,r,u)},ED=function(e,t,n,r,a){var i=pD(a,t,n,oD,e);return wD(Wg||uD,Wg,i,r,a)},Kr=function(e,t,n){return b.from(t.settings[n]).filter(e)},SD=function(e){var t={};return typeof e=="string"?te(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(n){var r=n.split("=");r.length>1?t[P.trim(r[0])]=P.trim(r[1]):t[P.trim(r[0])]=P.trim(r[0])}):t=e,t},xD=function(e){return function(t){return st(t)&&si(t,e)}},kD=function(e,t,n,r){var a=t in e.settings?e.settings[t]:n;return r==="hash"?SD(a):r==="string"?Kr(xe,e,t).getOr(n):r==="number"?Kr(fa,e,t).getOr(n):r==="boolean"?Kr(Zc,e,t).getOr(n):r==="object"?Kr(bt,e,t).getOr(n):r==="array"?Kr(st,e,t).getOr(n):r==="string[]"?Kr(xD(xe),e,t).getOr(n):r==="function"?Kr(ft,e,t).getOr(n):a},ND=function(){var e={},t=function(a,i){e[a]=i},n=function(a){return e[a]?e[a]:{icons:{}}},r=function(a){return ct(e,a)};return{add:t,get:n,has:r}},Pu=ND(),Gg=function(e,t){var n=t.dom;return n[e]},Xg=function(e,t){return parseInt(zn(t,e),10)},_D=Y(Gg,"clientWidth"),TD=Y(Gg,"clientHeight"),AD=Y(Xg,"margin-top"),RD=Y(Xg,"margin-left"),BD=function(e){return e.dom.getBoundingClientRect()},PD=function(e,t,n){var r=_D(e),a=TD(e);return t>=0&&n>=0&&t<=r&&n<=a},DD=function(e,t,n,r){var a=BD(t),i=e?a.left+t.dom.clientLeft+RD(t):0,o=e?a.top+t.dom.clientTop+AD(t):0,u=n-i,s=r-o;return{x:u,y:s}},Yg=function(e,t,n){var r=x.fromDom(e.getBody()),a=e.inline?r:r1(r),i=DD(e.inline,a,t,n);return PD(a,i.x,i.y)},OD=function(e){return b.from(e).map(x.fromDom)},ID=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return OD(t).map(mi).getOr(!1)},LD=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},Qg=function(e){var t=[],n=function(){var v=e.theme;return v&&v.getNotificationManagerImpl?v.getNotificationManagerImpl():LD()},r=function(){return b.from(t[0])},a=function(v,p){return v.type===p.type&&v.text===p.text&&!v.progressBar&&!v.timeout&&!p.progressBar&&!p.timeout},i=function(){t.length>0&&n().reposition(t)},o=function(v){t.push(v)},u=function(v){co(t,function(p){return p===v}).each(function(p){t.splice(p,1)})},s=function(v,p){if(p===void 0&&(p=!0),!(e.removed||!ID(e)))return p&&e.fire("BeforeOpenNotification",{notification:v}),Nt(t,function(m){return a(n().getArgs(m),v)}).getOrThunk(function(){e.editorManager.setActive(e);var m=n().open(v,function(){u(m),i(),r().fold(function(){return e.focus()},function(h){return _N(x.fromDom(h.getEl()))})});return o(m),i(),e.fire("OpenNotification",{notification:Ce({},m)}),m})},f=function(){r().each(function(v){n().close(v),u(v),i()})},c=function(){return t},l=function(v){v.on("SkinLoaded",function(){var p=ux(v);p&&s({text:p,type:"warning",timeout:0},!1)}),v.on("ResizeEditor ResizeWindow NodeChange",function(){pt.requestAnimationFrame(i)}),v.on("remove",function(){te(t.slice(),function(p){n().close(p)})})};return l(e),{open:s,close:f,getNotifications:c}},bn=Mt.PluginManager,yr=Mt.ThemeManager;function $D(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var Zg=function(e){var t=[],n=function(){var h=e.theme;return h&&h.getWindowManagerImpl?h.getWindowManagerImpl():$D()},r=function(h,d){return function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];return d?d.apply(h,y):void 0}},a=function(h){e.fire("OpenWindow",{dialog:h})},i=function(h){e.fire("CloseWindow",{dialog:h})},o=function(h){t.push(h),a(h)},u=function(h){i(h),t=_e(t,function(d){return d!==h}),t.length===0&&e.focus()},s=function(){return b.from(t[t.length-1])},f=function(h){e.editorManager.setActive(e),vu(e);var d=h();return o(d),d},c=function(h,d){return f(function(){return n().open(h,d,u)})},l=function(h){return f(function(){return n().openUrl(h,u)})},v=function(h,d,y){var g=n();g.alert(h,r(y||g,d))},p=function(h,d,y){var g=n();g.confirm(h,r(y||g,d))},m=function(){s().each(function(h){n().close(h),u(h)})};return e.on("remove",function(){te(t,function(h){n().close(h)})}),{open:c,openUrl:l,alert:v,confirm:p,close:m}},Jg=function(e,t){e.notificationManager.open({type:"error",text:t})},Du=function(e,t){e._skinLoaded?Jg(e,t):e.on("SkinLoaded",function(){Jg(e,t)})},FD=function(e,t){Du(e,pn.translate(["Failed to upload image: {0}",t]))},pc=function(e,t,n){Fm(e,t,{message:n}),console.error(n)},mc=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},hc=function(e,t,n){pc(e,"PluginLoadError",mc("plugin",t,n))},MD=function(e,t,n){pc(e,"IconsLoadError",mc("icons",t,n))},UD=function(e,t,n){pc(e,"LanguageLoadError",mc("language",t,n))},zD=function(e,t,n){var r=pn.translate(["Failed to initialize plugin: {0}",t]);Fm(e,"PluginLoadError",{message:r}),Ou(r,n),Du(e,r)},Ou=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,ks([e],t)):r.log.apply(r,ks([e],t)))},HD=function(e){return/^[a-z0-9\-]+$/i.test(e)},VD=function(e){return ey(e,nx(e))},qD=function(e){return ey(e,Wp(e))},ey=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,a="content"+r+".css",i=e.inline===!0;return Ue(t,function(o){return HD(o)&&!i?n+"/"+o+"/"+a:e.documentBaseURI.toAbsolute(o)})},WD=function(e){e.contentCSS=e.contentCSS.concat(VD(e),qD(e))},ty=function(){var e=1,t=2,n={},r=function(v,p){return{status:v,resultUri:p}},a=function(v){return v in n},i=function(v){var p=n[v];return p?p.resultUri:null},o=function(v){return a(v)?n[v].status===e:!1},u=function(v){return a(v)?n[v].status===t:!1},s=function(v){n[v]=r(e,null)},f=function(v,p){n[v]=r(t,p)},c=function(v){delete n[v]},l=function(){n={}};return{hasBlobUri:a,getResultUri:i,isPending:o,isUploaded:u,markPending:s,markUploaded:f,removeFailed:c,destroy:l}},jD=0,KD=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},t=new Date().getTime();return"s"+t.toString(36)+e()+e()+e()},ny=function(e){return e+jD+++KD()},GD=function(){var e=[],t=function(l){var v={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return v[l.toLowerCase()]||"dat"},n=function(l,v,p,m,h){if(xe(l)){var d=l;return r({id:d,name:m,filename:h,blob:v,base64:p})}else{if(bt(l))return r(l);throw new Error("Unknown input type")}},r=function(l){if(!l.blob||!l.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var v=l.id||ny("blobid"),p=l.name||v,m=l.blob;return{id:ie(v),name:ie(p),filename:ie(l.filename||p+"."+t(m.type)),blob:ie(m),base64:ie(l.base64),blobUri:ie(l.blobUri||URL.createObjectURL(m)),uri:ie(l.uri)}},a=function(l){o(l.id())||e.push(l)},i=function(l){return Nt(e,l).getOrUndefined()},o=function(l){return i(function(v){return v.id()===l})},u=function(l){return i(function(v){return v.blobUri()===l})},s=function(l,v){return i(function(p){return p.base64()===l&&p.blob().type===v})},f=function(l){e=_e(e,function(v){return v.blobUri()===l?(URL.revokeObjectURL(v.blobUri()),!1):!0})},c=function(){te(e,function(l){URL.revokeObjectURL(l.blobUri())}),e=[]};return{create:n,add:a,get:o,getByUri:u,getByData:s,findFirst:i,removeByUri:f,destroy:c}},XD=function(e,t){var n={},r=function(m,h){return m?m.replace(/\/$/,"")+"/"+h.replace(/^\//,""):h},a=function(m,h,d,y){var g=new XMLHttpRequest;g.open("POST",t.url),g.withCredentials=t.credentials,g.upload.onprogress=function(w){y(w.loaded/w.total*100)},g.onerror=function(){d("Image upload failed due to a XHR Transport error. Code: "+g.status)},g.onload=function(){if(g.status<200||g.status>=300){d("HTTP Error: "+g.status);return}var w=JSON.parse(g.responseText);if(!w||typeof w.location!="string"){d("Invalid JSON: "+g.responseText);return}h(r(t.basePath,w.location))};var C=new FormData;C.append("file",m.blob(),m.filename()),g.send(C)},i=function(){return new rt(function(m){m([])})},o=function(m,h){return{url:h,blobInfo:m,status:!0}},u=function(m,h,d){return{url:"",blobInfo:m,status:!1,error:{message:h,options:d}}},s=function(m,h){P.each(n[m],function(d){d(h)}),delete n[m]},f=function(m,h,d){return e.markPending(m.blobUri()),new rt(function(y){var g,C;try{var w=function(){g&&(g.close(),C=we)},S=function(F){w(),e.markUploaded(m.blobUri(),F),s(m.blobUri(),o(m,F)),y(o(m,F))},B=function(F,M){var Q=M||{};w(),e.removeFailed(m.blobUri()),s(m.blobUri(),u(m,F,Q)),y(u(m,F,Q))};C=function(F){F<0||F>100||b.from(g).orThunk(function(){return b.from(d).map(j0)}).each(function(M){g=M,M.progressBar.value(F)})},h(m,S,B,C)}catch(F){y(u(m,F.message,{}))}})},c=function(m){return m===a},l=function(m){var h=m.blobUri();return new rt(function(d){n[h]=n[h]||[],n[h].push(d)})},v=function(m,h){return m=P.grep(m,function(d){return!e.isUploaded(d.blobUri())}),rt.all(P.map(m,function(d){return e.isPending(d.blobUri())?l(d):f(d,t.handler,h)}))},p=function(m,h){return!t.url&&c(t.handler)?i():v(m,h)};return ft(t.handler)===!1&&(t.handler=a),{upload:p}},ry=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},ay=function(e,t){return XD(t,{url:XS(e),basePath:YS(e),credentials:QS(e),handler:ZS(e)})},YD=function(e){var t=ty(),n=ay(e,t);return{upload:function(r,a){return a===void 0&&(a=!0),n.upload(r,a?ry(e):void 0)}}},QD=function(e){var t=Ye(null);e.on("change AddUndo",function(r){t.set(Ce({},r.level))});var n=function(){var r=e.undoManager.data;Yn(r).filter(function(a){return!_u(t.get(),a)}).each(function(a){e.setDirty(!0),e.fire("change",{level:a,lastLevel:ws(r,r.length-2).getOrNull()})})};return{fireIfChanged:n}},ZD=function(e){var t=GD(),n,r,a=ty(),i=[],o=QD(e),u=function(w){return function(S){return e.selection?w(S):[]}},s=function(w){return w+(w.indexOf("?")===-1?"?":"&")+new Date().getTime()},f=function(w,S,B){var F=0;do F=w.indexOf(S,F),F!==-1&&(w=w.substring(0,F)+B+w.substr(F+S.length),F+=B.length-S.length+1);while(F!==-1);return w},c=function(w,S,B){var F='src="'+B+'"'+(B===pe.transparentSrc?' data-mce-placeholder="1"':"");return w=f(w,'src="'+S+'"',F),w=f(w,'data-mce-src="'+S+'"','data-mce-src="'+B+'"'),w},l=function(w,S){te(e.undoManager.data,function(B){B.type==="fragmented"?B.fragments=Ue(B.fragments,function(F){return c(F,w,S)}):B.content=c(B.content,w,S)})},v=function(w,S){var B=e.convertURL(S,"src");l(w.src,S),e.$(w).attr({src:jS(e)?s(S):S,"data-mce-src":B})},p=function(w){return n||(n=ay(e,a)),y().then(u(function(S){var B=Ue(S,function(F){return F.blobInfo});return n.upload(B,ry(e)).then(u(function(F){var M=[],Q=Ue(F,function(J,I){var se=S[I].blobInfo,H=S[I].image;return J.status&&KS(e)?(t.removeByUri(H.src),v(H,J.url)):J.error&&(J.error.options.remove&&(l(H.getAttribute("src"),pe.transparentSrc),M.push(H)),FD(e,J.error.message)),{element:H,status:J.status,uploadUri:J.url,blobInfo:se}});return Q.length>0&&o.fireIfChanged(),M.length>0&&(jr(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){te(M,function(J){e.dom.remove(J),t.removeByUri(J.src)})})),w&&w(Q),Q}))}))},m=function(w){if(Up(e))return p(w)},h=function(w){if(si(i,function(B){return B(w)})===!1)return!1;if(w.getAttribute("src").indexOf("data:")===0){var S=WS(e);return S(w)}return!0},d=function(w){i.push(w)},y=function(){return r||(r=_P(a,t)),r.findAll(e.getBody(),h).then(u(function(w){return w=_e(w,function(S){return typeof S=="string"?(Du(e,S),!1):!0}),te(w,function(S){l(S.image.src,S.blobInfo.blobUri()),S.image.src=S.blobInfo.blobUri(),S.image.removeAttribute("data-mce-src")}),w}))},g=function(){t.destroy(),a.destroy(),r=n=null},C=function(w){return w.replace(/src="(blob:[^"]+)"/g,function(S,B){var F=a.getResultUri(B);if(F)return'src="'+F+'"';var M=t.getByUri(B);if(M||(M=sn(e.editorManager.get(),function(J,I){return J||I.editorUpload&&I.editorUpload.blobCache.getByUri(B)},null)),M){var Q=M.blob();return'src="data:'+Q.type+";base64,"+M.base64()+'"'}return S})};return e.on("SetContent",function(){Up(e)?m():y()}),e.on("RawSaveContent",function(w){w.content=C(w.content)}),e.on("GetContent",function(w){w.source_view||w.format==="raw"||w.format==="tree"||(w.content=C(w.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(w){te(w,function(S){var B=S.attr("src");if(!t.getByUri(B)){var F=a.getResultUri(B);F&&S.attr("src",F)}})})}),{blobCache:t,addFilter:d,uploadImages:p,uploadImagesAuto:m,scanForImages:y,destroy:g}},JD=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(n,r,a){return me(n)&&n.hasAttribute("href")},onformat:function(n,r,a){P.each(a,function(i,o){e.setAttrib(n,o,i)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return P.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(n){t[n]={block:n,remove:"all"}}),t},e2=function(e){var t={},n=function(o){return o?t[o]:t},r=function(o){return ct(t,o)},a=function(o,u){o&&(typeof o!="string"?P.each(o,function(s,f){a(f,s)}):(st(u)||(u=[u]),P.each(u,function(s){typeof s.deep=="undefined"&&(s.deep=!s.selector),typeof s.split=="undefined"&&(s.split=!s.selector||s.inline),typeof s.remove=="undefined"&&s.selector&&!s.inline&&(s.remove="none"),s.selector&&s.inline&&(s.mixed=!0,s.block_expand=!0),typeof s.classes=="string"&&(s.classes=s.classes.split(/\s+/))}),t[o]=u))},i=function(o){return o&&t[o]&&delete t[o],t};return a(JD(e.dom)),a(fx(e)),{get:n,has:r,register:a,unregister:i}},Iu=P.each,wt=Ie.DOM,iy=function(e,t){var n,r,a,i=t&&t.schema||ir({}),o=function(c,l){l.classes.length&&wt.addClass(c,l.classes.join(" ")),wt.setAttribs(c,l.attrs)},u=function(c){r=typeof c=="string"?{name:c,classes:[],attrs:{}}:c;var l=wt.create(r.name);return o(l,r),l},s=function(c,l){var v=typeof c!="string"?c.nodeName.toLowerCase():c,p=i.getElementRule(v),m=p&&p.parentsRequired;return m&&m.length?l&&P.inArray(m,l)!==-1?l:m[0]:!1},f=function(c,l,v){var p,m,h=l.length>0&&l[0],d=h&&h.name,y=s(c,d);if(y)d===y?(m=l[0],l=l.slice(1)):m=y;else if(h)m=l[0],l=l.slice(1);else if(!v)return c;return m&&(p=u(m),p.appendChild(c)),v&&(p||(p=wt.create("div"),p.appendChild(c)),P.each(v,function(g){var C=u(g);p.insertBefore(C,c)})),f(p,l,m&&m.siblings)};return e&&e.length?(r=e[0],n=u(r),a=wt.create("div"),a.appendChild(f(n,e.slice(1),r.siblings)),a):""},t2=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=P.trim(e),e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(r,a,i,o,u){switch(a){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":P.inArray("checked disabled enabled read-only required".split(" "),i)!==-1&&(n.attrs[i]=i);break}if(o==="["){var s=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=t||"div",n},n2=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),P.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var n=P.map(t.split(/(?:~\+|~|\+)/),t2),r=n.pop();return n.length&&(r.siblings=n),r}).reverse())},r2=function(e,t){var n,r,a="",i,o=lx(e);if(o==="")return"";var u=function(l){return l.replace(/%(\w+)/g,"")};if(typeof t=="string"){if(t=e.formatter.get(t),!t)return;t=t[0]}if("preview"in t){var s=qt(t,"preview");if(s.is(!1))return"";o=s.getOr(o)}n=t.block||t.inline||"span";var f=n2(t.selector);f.length?(f[0].name||(f[0].name=n),n=t.selector,r=iy(f,e)):r=iy([n],e);var c=wt.select(n,r)[0]||r.firstChild;return Iu(t.styles,function(l,v){var p=u(l);p&&wt.setStyle(c,v,p)}),Iu(t.attributes,function(l,v){var p=u(l);p&&wt.setAttrib(c,v,p)}),Iu(t.classes,function(l){var v=u(l);wt.hasClass(c,v)||wt.addClass(c,v)}),e.fire("PreviewFormats"),wt.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),i=wt.getStyle(e.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,Iu(o.split(" "),function(l){var v=wt.getStyle(c,l,!0);if(!(l==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(v)&&(v=wt.getStyle(e.getBody(),l,!0),wt.toHex(v).toLowerCase()==="#ffffff"))&&!(l==="color"&&wt.toHex(v).toLowerCase()==="#000000")){if(l==="font-size"&&/em|%$/.test(v)){if(i===0)return;var p=parseFloat(v)/(/%$/.test(v)?100:1);v=p*i+"px"}l==="border"&&v&&(a+="padding:0 2px;"),a+=l+":"+v+";"}}),e.fire("AfterPreviewFormats"),wt.remove(r),a},a2=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},oy=function(e){var t=e2(e),n=Ye(null);return a2(e),aR(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(r,a,i){QB(e,r,a,i)},remove:function(r,a,i,o){ZB(e,r,a,i,o)},toggle:function(r,a,i){JB(e,r,a,i)},match:function(r,a,i){return jB(e,r,a,i)},closest:function(r){return YB(e,r)},matchAll:function(r,a){return KB(e,r,a)},matchNode:function(r,a,i,o){return GB(e,r,a,i,o)},canApply:function(r){return XB(e,r)},formatChanged:function(r,a,i){return eP(e,n,r,a,i)},getCssText:Y(r2,e)}},i2=function(e,t,n){var r=Ye(!1),a=function(s){Tu(t,!1,n),t.add({},s)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(s){var f=s.command.toLowerCase();f!=="undo"&&f!=="redo"&&f!=="mcerepaint"&&(Tg(t,n),t.beforeChange())}),e.on("ExecCommand",function(s){var f=s.command.toLowerCase();f!=="undo"&&f!=="redo"&&f!=="mcerepaint"&&a(s)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",function(s){var f=s.keyCode;s.isDefaultPrevented()||((f>=33&&f<=36||f>=37&&f<=40||f===45||s.ctrlKey)&&(a(),e.nodeChanged()),(f===46||f===8)&&e.nodeChanged(),r.get()&&t.typing&&_u(ac(e),t.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(s){var f=s.keyCode;if(!s.isDefaultPrevented()){if(f>=33&&f<=36||f>=37&&f<=40||f===45){t.typing&&a(s);return}var c=s.ctrlKey&&!s.altKey||s.metaKey;(f<16||f>20)&&f!==224&&f!==91&&!t.typing&&!c&&(t.beforeChange(),Tu(t,!0,n),t.add({},s),r.set(!0))}}),e.on("mousedown",function(s){t.typing&&a(s)});var i=function(s){return s.inputType==="insertReplacementText"},o=function(s){return s.inputType==="insertText"&&s.data===null},u=function(s){return s.inputType==="insertFromPaste"||s.inputType==="insertFromDrop"};e.on("input",function(s){s.inputType&&(i(s)||o(s)||u(s))&&a(s)}),e.on("AddUndo Undo Redo ClearUndos",function(s){s.isDefaultPrevented()||e.nodeChanged()})},o2=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},uy=function(e){var t=Ye(b.none()),n=Ye(0),r=Ye(0),a={data:[],typing:!1,beforeChange:function(){IB(e,n,t)},add:function(i,o){return LB(e,a,r,n,t,i,o)},undo:function(){return $B(e,a,n,r)},redo:function(){return FB(e,r,a.data)},clear:function(){MB(e,a,r)},reset:function(){UB(e,a)},hasUndo:function(){return zB(e,a,r)},hasRedo:function(){return HB(e,a,r)},transact:function(i){return VB(e,a,n,i)},ignore:function(i){qB(e,n,i)},extra:function(i,o){WB(e,a,r,i,o)}};return jr(e)||i2(e,a,n),o2(e),a},u2=[9,27,ue.HOME,ue.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ue.DOWN,ue.UP,ue.LEFT,ue.RIGHT].concat(pe.browser.isFirefox()?[224]:[]),sy="data-mce-placeholder",fy=function(e){return e.type==="keydown"||e.type==="keyup"},ly=function(e){var t=e.keyCode;return t===ue.BACKSPACE||t===ue.DELETE},s2=function(e){if(fy(e)){var t=e.keyCode;return!ly(e)&&(ue.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||nt(u2,t))}else return!1},f2=function(e){return fy(e)&&!(ly(e)||e.type==="keyup"&&e.keyCode===229)},l2=function(e,t,n){if(Ft(x.fromDom(t),!1)){var r=n==="",a=t.firstElementChild;return a?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:r?!e.isBlock(a):n===a.nodeName.toLowerCase():!0}else return!1},c2=function(e){var t=e.dom,n=ht(e),r=ox(e),a=function(i,o){if(!s2(i)){var u=e.getBody(),s=f2(i)?!1:l2(t,u,n),f=t.getAttrib(u,sy)!=="";(f!==s||o)&&(t.setAttrib(u,sy,s?r:null),t.setAttrib(u,"aria-placeholder",s?r:null),Gk(e,s),e.on(s?"keydown":"keyup",a),e.off(s?"keyup":"keydown",a))}};r&&e.on("init",function(i){a(i,!0),e.on("change SetContent ExecCommand",a),e.on("paste",function(o){return pt.setEditorTimeout(e,function(){return a(o)})})})},v2=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,d2=function(e){return v2.test(e)},Gr=function(e,t){return va(x.fromDom(t),ax(e))},p2=function(e){return Ie.DOM.getStyle(e,"direction",!0)==="rtl"||d2(e.textContent)},m2=function(e,t,n){return _e(Ie.DOM.getParents(n.container(),"*",t),e)},br=function(e,t,n){var r=m2(e,t,n);return b.from(r[r.length-1])},h2=function(e,t,n){var r=pr(t,e),a=pr(n,e);return r&&r===a},g2=function(e){return Xs(e)||Ys(e)},Qt=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Ea(n)?ne(n.nextSibling)?A(n.nextSibling,0):A.after(n):Xs(t)?A(n,r+1):t:Ea(n)?ne(n.previousSibling)?A(n.previousSibling,n.previousSibling.data.length):A.before(n):Ys(t)?A(n,r-1):t},cy=Y(Qt,!0),vy=Y(Qt,!1),y2=function(e){return function(t){return Fe(e,x.fromDom(t.dom.parentNode))}},Lu=function(e,t){return Jn(e,t)?So(t,function(n){return Ed(n)||Ci(n)},y2(e)):b.none()},b2=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},dy=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),b2(e))},C2=function(e,t,n){return Ot(At(n),Pn(n),function(r,a){var i=Qt(!0,r),o=Qt(!1,a),u=Qt(!1,t);return e?gn(n,u).exists(function(s){return s.isEqual(o)&&t.isEqual(i)}):Bn(n,u).exists(function(s){return s.isEqual(i)&&t.isEqual(o)})}).getOr(!0)},w2=function(e,t){return{block:e,position:t}},E2=function(e,t){return{from:e,to:t}},gc=function(e,t){var n=x.fromDom(e),r=x.fromDom(t.container());return Lu(n,r).map(function(a){return w2(a,t)})},S2=function(e){return Fe(e.from.block,e.to.block)===!1},x2=function(e){return ln(e.from.block).bind(function(t){return ln(e.to.block).filter(function(n){return Fe(t,n)})}).isSome()},k2=function(e){return Me(e.from.block.dom)===!1&&Me(e.to.block.dom)===!1},N2=function(e,t,n){return Ke(n.position.getNode())&&Ft(n.block)===!1?Ma(!1,n.block.dom).bind(function(r){return r.isEqual(n.position)?Yt(t,e,r).bind(function(a){return gc(e,a)}):b.some(n)}).getOr(n):n},_2=function(e,t,n){var r=gc(e,A.fromRangeStart(n)),a=r.bind(function(i){return Yt(t,e,i.position).bind(function(o){return gc(e,o).map(function(u){return N2(e,t,u)})})});return Ot(r,a,E2).filter(function(i){return S2(i)&&x2(i)&&k2(i)})},T2=function(e,t,n){return n.collapsed?_2(e,t,n):b.none()},A2=function(e){var t=jt(e);return co(t,kn).fold(function(){return t},function(n){return t.slice(0,n)})},py=function(e){var t=A2(e);return te(t,dt),t},my=function(e,t){var n=Wn(t,e);return Nt(n.reverse(),function(r){return Ft(r)}).each(dt)},R2=function(e){return _e(qv(e),function(t){return!Ft(t)}).length===0},B2=function(e,t,n,r){if(Ft(n))return Ga(n),At(n.dom);R2(r)&&Ft(t)&&cn(r,x.fromTag("br"));var a=Bn(n.dom,A.before(r.dom));return te(py(t),function(i){cn(r,i)}),my(e,t),a},P2=function(e,t,n){if(Ft(n))return dt(n),Ft(t)&&Ga(t),At(t.dom);var r=Pn(n.dom);return te(py(t),function(a){vt(n,a)}),my(e,t),r},D2=function(e,t){var n=Wn(t,e);return b.from(n[n.length-1])},O2=function(e,t){return Jn(t,e)?D2(t,e):b.none()},hy=function(e,t){Ma(e,t.dom).map(function(n){return n.getNode()}).map(x.fromDom).filter(ba).each(dt)},gy=function(e,t,n){return hy(!0,t),hy(!1,n),O2(t,n).fold(Y(P2,e,t,n),Y(B2,e,t,n))},yy=function(e,t,n,r){return t?gy(e,r,n):gy(e,n,r)},$u=function(e,t){var n=x.fromDom(e.getBody()),r=T2(n.dom,t,e.selection.getRng()).bind(function(a){return yy(n,t,a.from.block,a.to.block)});return r.each(function(a){e.selection.setRng(a.toRange())}),r.isSome()},I2=function(e,t){var n=t.getRng();return Ot(Lu(e,x.fromDom(n.startContainer)),Lu(e,x.fromDom(n.endContainer)),function(r,a){return Fe(r,a)===!1?(n.deleteContents(),yy(e,!0,r,a).each(function(i){t.setRng(i.toRange())}),!0):!1}).getOr(!1)},by=function(e,t){var n=x.fromDom(t),r=Y(Fe,e);return bi(n,No,r).isSome()},L2=function(e,t){return by(e,t.startContainer)||by(e,t.endContainer)},$2=function(e,t){var n=Bn(e.dom,A.fromRangeStart(t)).isNone(),r=gn(e.dom,A.fromRangeEnd(t)).isNone();return!L2(e,t)&&n&&r},F2=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},M2=function(e){var t=x.fromDom(e.getBody()),n=e.selection.getRng();return $2(t,n)?F2(e):I2(t,e.selection)},Fu=function(e,t){return e.selection.isCollapsed()?!1:M2(e)},U2=xn,z2=Me,jn=function(e,t,n,r,a){return b.from(t._selectionOverrides.showCaret(e,n,r,a))},H2=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},Qa=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?b.none():b.some(H2(t))},Cy=function(e,t,n){var r=Mf(1,e.getBody(),t),a=A.fromRangeStart(r),i=a.getNode();if(Di(i))return jn(1,e,i,!a.isAtEnd(),!1);var o=a.getNode(!0);if(Di(o))return jn(1,e,o,!1,!1);var u=e.dom.getParent(a.getNode(),function(s){return z2(s)||U2(s)});return Di(u)?jn(1,e,u,!1,n):b.none()},yc=function(e,t,n){return t.collapsed?Cy(e,t,n).getOr(t):t},V2=function(e){return hr(e)||ja(e)},q2=function(e){return gr(e)||Ka(e)},W2=function(e,t){ne(t)&&t.data.length===0&&e.remove(t)},wy=function(e,t,n,r,a,i){return jn(r,e,i.getNode(!a),a,!0).each(function(o){if(t.collapsed){var u=t.cloneRange();a?u.setEnd(o.startContainer,o.startOffset):u.setStart(o.endContainer,o.endOffset),u.deleteContents()}else t.deleteContents();e.selection.setRng(o)}),W2(e.dom,n),!0},j2=function(e,t){var n=e.selection.getRng();if(!ne(n.commonAncestorContainer))return!1;var r=t?et.Forwards:et.Backwards,a=hn(e.getBody()),i=Y(Uf,t?a.next:a.prev),o=t?V2:q2,u=Li(r,e.getBody(),n),s=Qt(t,i(u));if(!s||!eu(u,s))return!1;if(o(s))return wy(e,n,u.getNode(),r,t,s);var f=i(s);return f&&o(f)&&eu(s,f)?wy(e,n,u.getNode(),r,t,f):!1},Mu=function(e,t){return j2(e,t)},K2=function(e){return No(x.fromDom(e))||Ci(x.fromDom(e))},zt=tr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),G2=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return me(n)&&n.getAttribute("data-mce-caret")===r},X2=function(e,t,n,r){var a=function(i){return Ws(x.fromDom(i))&&!An(n,r,e)};return om(!t,n).fold(function(){return om(t,r).fold(Pe,a)},a)},Ey=function(e,t,n,r){var a=r.getNode(t===!1);return Lu(x.fromDom(e),x.fromDom(n.getNode())).map(function(i){return Ft(i)?zt.remove(i.dom):zt.moveToElement(a)}).orThunk(function(){return b.some(zt.moveToElement(a))})},Sy=function(e,t,n){return Yt(t,e,n).bind(function(r){return K2(r.getNode())||X2(e,t,n,r)?b.none():t&&Me(r.getNode())||t===!1&&Me(r.getNode(!0))?Ey(e,t,n,r):t&&gr(n)||t===!1&&hr(n)?b.some(zt.moveToPosition(r)):b.none()})},Y2=function(e,t){return e&&Me(t.nextSibling)?b.some(zt.moveToElement(t.nextSibling)):e===!1&&Me(t.previousSibling)?b.some(zt.moveToElement(t.previousSibling)):b.none()},Q2=function(e,t,n){return n.fold(function(r){return b.some(zt.remove(r))},function(r){return b.some(zt.moveToElement(r))},function(r){return An(t,r,e)?b.none():b.some(zt.moveToPosition(r))})},Z2=function(e,t,n){return G2(t,n)?Y2(t,n.getNode(t===!1)).fold(function(){return Sy(e,t,n)},b.some):Sy(e,t,n).bind(function(r){return Q2(e,n,r)})},J2=function(e,t,n){var r=Mf(t?1:-1,e,n),a=A.fromRangeStart(r),i=x.fromDom(e);return t===!1&&gr(a)?b.some(zt.remove(a.getNode(!0))):t&&hr(a)?b.some(zt.remove(a.getNode())):t===!1&&hr(a)&&Al(i,a)?nT(i,a).map(function(o){return zt.remove(o.getNode())}):t&&gr(a)&&Tl(i,a)?rT(i,a).map(function(o){return zt.remove(o.getNode())}):Z2(e,t,a)},eO=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),qr(e,t,x.fromDom(n)),!0}},tO=function(e,t){return function(n){var r=t?A.before(n):A.after(n);return e.selection.setRng(r.toRange()),!0}},nO=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},xy=function(e,t){return b.from(Ui(e.getBody(),t))},rO=function(e,t){var n=e.selection.getNode();return xy(e,n).filter(Me).fold(function(){return J2(e.getBody(),t,e.selection.getRng()).exists(function(r){return r.fold(eO(e,t),tO(e,t),nO(e))})},lt)},aO=function(e){te(Dt(e,".mce-offscreen-selection"),dt)},iO=function(e,t){var n=e.selection.getNode();if(Me(n)){var r=xy(e,n.parentNode).filter(Me);return r.fold(function(){return aO(x.fromDom(e.getBody())),qr(e,t,x.fromDom(e.selection.getNode())),dy(e),!0},lt)}return!1},ky=function(e){var t=e.dom,n=e.selection,r=Ui(e.getBody(),n.getNode());if(xn(r)&&t.isBlock(r)&&t.isEmpty(r)){var a=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(a),n.setRng(A.before(a).toRange())}return!0},Uu=function(e,t){return e.selection.isCollapsed()?rO(e,t):iO(e,t)},oO=function(e,t){var n=A.fromRangeStart(e.selection.getRng());return Yt(t,e.getBody(),n).filter(function(r){return t?j_(r):K_(r)}).bind(function(r){return b.from(Ff(t?0:-1,r))}).exists(function(r){return e.selection.select(r),!0})},zu=function(e,t){return e.selection.isCollapsed()?oO(e,t):!1},Za=ne,Ny=function(e){return Za(e)&&e.data[0]===at},_y=function(e){return Za(e)&&e.data[e.data.length-1]===at},Ty=function(e){return e.ownerDocument.createTextNode(at)},uO=function(e){if(Za(e.previousSibling))return _y(e.previousSibling)||e.previousSibling.appendData(at),e.previousSibling;if(Za(e))return Ny(e)||e.insertData(0,at),e;var t=Ty(e);return e.parentNode.insertBefore(t,e),t},sO=function(e){if(Za(e.nextSibling))return Ny(e.nextSibling)||e.nextSibling.insertData(0,at),e.nextSibling;if(Za(e))return _y(e)||e.appendData(at),e;var t=Ty(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Hu=function(e,t){return e?uO(t):sO(t)},fO=Y(Hu,!0),lO=Y(Hu,!1),Ay=function(e,t){return ne(e.container())?Hu(t,e.container()):Hu(t,e.getNode())},Ry=function(e,t){var n=t.get();return n&&e.container()===n&&Ea(n)},bc=function(e,t){return t.fold(function(n){Mr(e.get());var r=fO(n);return e.set(r),b.some(A(r,r.length-1))},function(n){return At(n).map(function(r){if(Ry(r,e))return A(e.get(),1);Mr(e.get());var a=Ay(r,!0);return e.set(a),A(a,1)})},function(n){return Pn(n).map(function(r){if(Ry(r,e))return A(e.get(),e.get().length-1);Mr(e.get());var a=Ay(r,!1);return e.set(a),A(a,a.length-1)})},function(n){Mr(e.get());var r=lO(n);return e.set(r),b.some(A(r,1))})},By=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return b.none()},Et=tr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Py=function(e,t){var n=pr(t,e);return n||e},cO=function(e,t,n){var r=cy(n),a=Py(t,r.container());return br(e,a,r).fold(function(){return gn(a,r).bind(Y(br,e,a)).map(function(i){return Et.before(i)})},b.none)},vO=function(e,t){return Hr(e,t)===null},Dy=function(e,t,n){return br(e,t,n).filter(Y(vO,t))},dO=function(e,t,n){var r=vy(n);return Dy(e,t,r).bind(function(a){var i=Bn(a,r);return i.isNone()?b.some(Et.start(a)):b.none()})},pO=function(e,t,n){var r=cy(n);return Dy(e,t,r).bind(function(a){var i=gn(a,r);return i.isNone()?b.some(Et.end(a)):b.none()})},mO=function(e,t,n){var r=vy(n),a=Py(t,r.container());return br(e,a,r).fold(function(){return Bn(a,r).bind(Y(br,e,a)).map(function(i){return Et.after(i)})},b.none)},Oy=function(e){return p2(Cc(e))===!1},In=function(e,t,n){var r=By([cO,dO,pO,mO],[e,t,n]);return r.filter(Oy)},Cc=function(e){return e.fold(un,un,un,un)},Iy=function(e){return e.fold(ie("before"),ie("start"),ie("end"),ie("after"))},Vu=function(e){return e.fold(Et.before,Et.before,Et.after,Et.after)},wc=function(e){return e.fold(Et.start,Et.start,Et.end,Et.end)},hO=function(e,t){return Iy(e)===Iy(t)&&Cc(e)===Cc(t)},gO=function(e,t,n,r,a,i){return Ot(br(t,n,r),br(t,n,a),function(o,u){return o!==u&&h2(n,o,u)?Et.after(e?o:u):i}).getOr(i)},yO=function(e,t){return e.fold(lt,function(n){return!hO(n,t)})},bO=function(e,t,n,r,a){var i=Qt(e,a),o=Yt(e,n,i).map(Y(Qt,e)),u=o.fold(function(){return r.map(Vu)},function(s){return In(t,n,s).map(Y(gO,e,t,n,i,s)).filter(Y(yO,r))});return u.filter(Oy)},CO=function(e,t){return e?t.fold(Nr(b.some,Et.start),b.none,Nr(b.some,Et.after),b.none):t.fold(b.none,Nr(b.some,Et.before),b.none,Nr(b.some,Et.end))},Ec=function(e,t,n,r){var a=Qt(e,r),i=In(t,n,a);return In(t,n,a).bind(Y(CO,e)).orThunk(function(){return bO(e,t,n,i,r)})};Y(Ec,!1),Y(Ec,!0);var wO=function(e){return ft(e.selection.getSel().modify)},Ly=function(e,t,n){var r=e?1:-1;return t.setRng(A(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},EO=function(e,t){var n=t.selection.getRng(),r=e?A.fromRangeEnd(n):A.fromRangeStart(n);return wO(t)?e&&Xs(r)?Ly(!0,t.selection,r):!e&&Ys(r)?Ly(!1,t.selection,r):!1:!1},Ln;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Ln||(Ln={}));var qu=function(e,t){return e===et.Backwards?vo(t):t},SO=function(e,t,n){return e===et.Forwards?t.next(n):t.prev(n)},xO=function(e,t,n,r){return Ke(r.getNode(t===et.Forwards))?Ln.Br:An(n,r)===!1?Ln.Block:Ln.Wrap},$y=function(e,t,n,r){for(var a=hn(n),i=r,o,u=[];i&&(o=SO(t,a,i),!!o);){if(Ke(o.getNode(!1)))return t===et.Forwards?{positions:qu(t,u).concat([o]),breakType:Ln.Br,breakAt:b.some(o)}:{positions:qu(t,u),breakType:Ln.Br,breakAt:b.some(o)};if(!o.isVisible()){i=o;continue}if(e(i,o)){var s=xO(n,t,i,o);return{positions:qu(t,u),breakType:s,breakAt:b.some(o)}}u.push(o),i=o}return{positions:qu(t,u),breakType:Ln.Eol,breakAt:b.none()}},Fy=function(e,t,n,r){return t(n,r).breakAt.map(function(a){var i=t(n,a).positions;return e===et.Backwards?i.concat(a):[a].concat(i)}).getOr([])},Sc=function(e,t){return sn(e,function(n,r){return n.fold(function(){return b.some(r)},function(a){return Ot(Vt(a.getClientRects()),Vt(r.getClientRects()),function(i,o){var u=Math.abs(t-i.left),s=Math.abs(t-o.left);return s<=u?r:a}).or(n)})},b.none())},My=function(e,t){return Vt(t.getClientRects()).bind(function(n){return Sc(e,n.left)})},Gi=Y($y,A.isAbove,-1),Xi=Y($y,A.isBelow,1),kO=function(e,t){return Gi(e,t).breakAt.isNone()},NO=function(e,t){return Xi(e,t).breakAt.isNone()},_O=Y(Fy,-1,Gi),TO=Y(Fy,1,Xi),AO=function(e){return At(e).map(function(t){return[t].concat(Xi(e,t).positions)}).getOr([])},RO=function(e){return Pn(e).map(function(t){return Gi(e,t).positions.concat(t)}).getOr([])},BO=function(e){var t=function(r){return Ue(r,function(a){return a=$r(a),a.node=e,a})};if(me(e))return t(e.getClientRects());if(ne(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},xc=function(e){return ui(e,BO)},Xr;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Xr||(Xr={}));var PO=function(e,t,n,r){for(;r=$a(r,e,Ro,t);)if(n(r))return},Uy=function(e,t,n,r,a,i){var o=0,u=[],s=function(l){var v,p,m;for(m=xc([l]),e===-1&&(m=m.reverse()),v=0;v<m.length;v++)if(p=m[v],!n(p,f)){if(u.length>0&&t(p,Zn(u))&&o++,p.line=o,a(p))return!0;u.push(p)}},f=Zn(i.getClientRects());if(!f)return u;var c=i.getNode();return s(c),PO(e,r,s,c),u},DO=function(e,t){return t.line>e},OO=function(e,t){return t.line===e},IO=Y(Uy,Xr.Up,Da,Oa),LO=Y(Uy,Xr.Down,Oa,Da),$O=function(e,t,n,r){var a=hn(t),i,o,u,s,f=[],c=0,l,v=function(m){return Zn(m.getClientRects())};e===1?(i=a.next,o=Oa,u=Da,s=A.after(r)):(i=a.prev,o=Da,u=Oa,s=A.before(r));var p=v(s);do if(!!s.isVisible()&&(l=v(s),!u(l,p))){if(f.length>0&&o(l,Zn(f))&&c++,l=$r(l),l.position=s,l.line=c,n(l))return f;f.push(l)}while(s=i(s));return f},zy=function(e){return function(t){return DO(e,t)}},kc=function(e){return function(t){return OO(e,t)}},FO=Me,Hy=$a,Nc=function(e,t){return Math.abs(e.left-t)},_c=function(e,t){return Math.abs(e.right-t)},Vy=function(e,t){return e>=t.left&&e<=t.right},MO=function(e,t){return e>=t.top&&e<=t.bottom},Wu=function(e,t){return po(e,function(n,r){var a=Math.min(Nc(n,t),_c(n,t)),i=Math.min(Nc(r,t),_c(r,t));return Vy(t,r)?r:Vy(t,n)?n:i===a&&FO(r.node)||i<a?r:n})},qy=function(e,t,n,r,a){var i=Hy(r,e,Ro,t,!a);do if(!i||n(i))return;while(i=Hy(i,e,Ro,t))},UO=function(e,t,n){n===void 0&&(n=!0);var r=[],a=function(i,o){var u=_e(xc([o]),function(s){return!i(s,t)});return r=r.concat(u),u.length===0};return r.push(t),qy(Xr.Up,e,Y(a,Da),t.node,n),qy(Xr.Down,e,Y(a,Oa),t.node,n),r},zO=function(e){return _e(Qn(e.getElementsByTagName("*")),Ur)},HO=function(e,t){return{node:e.node,before:Nc(e,t)<_c(e,t)}},VO=function(e,t,n){var r=xc(zO(e)),a=_e(r,Y(MO,n)),i=Wu(a,t);if(i){var o=!ha(i.node)&&!rn(i.node);if(i=Wu(UO(e,i,o),t),i&&Ur(i.node))return HO(i,t)}return null},Kn=function(e,t){e.selection.setRng(t),lu(e,e.selection.getRng())},Tc=function(e,t,n){return b.some(yc(e,t,n))},Wy=function(e,t,n,r,a,i){var o=t===et.Forwards,u=hn(e.getBody()),s=Y(Uf,o?u.next:u.prev),f=o?r:a;if(!n.collapsed){var c=Go(n);if(i(c))return jn(t,e,c,t===et.Backwards,!1)}var l=Li(t,e.getBody(),n);if(f(l))return Qa(e,l.getNode(!o));var v=Qt(o,s(l)),p=cw(n);if(!v)return p?b.some(n):b.none();if(f(v))return jn(t,e,v.getNode(!o),o,!1);var m=s(v);return m&&f(m)&&eu(v,m)?jn(t,e,m.getNode(!o),o,!1):p?Tc(e,v.toRange(),!1):b.none()},jy=function(e,t,n,r,a,i){var o=Li(t,e.getBody(),n),u=Zn(o.getClientRects()),s=t===Xr.Down;if(!u)return b.none();var f=s?LO:IO,c=f(e.getBody(),zy(1),o),l=_e(c,kc(1)),v=u.left,p=Wu(l,v);if(p&&i(p.node)){var m=Math.abs(v-p.left),h=Math.abs(v-p.right);return jn(t,e,p.node,m<h,!1)}var d;if(r(o)?d=o.getNode():a(o)?d=o.getNode(!0):d=Go(n),d){var y=$O(t,e.getBody(),zy(1),d),g=Wu(_e(y,kc(1)),v);if(g||(g=Zn(_e(y,kc(0))),g))return Tc(e,g.position.toRange(),!1)}return l.length===0?Ac(e,s).filter(s?a:r).map(function(C){return yc(e,C.toRange(),!1)}):b.none()},Ac=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var a=A.fromRangeEnd(n),i=Xi(r,a);return Yn(i.positions)}else{var a=A.fromRangeStart(n),i=Gi(r,a);return Vt(i.positions)}},Ky=function(e,t,n){return Ac(e,t).filter(n).exists(function(r){return e.selection.setRng(r.toRange()),!0})},ju=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Gy=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Xy=function(e,t,n){return bc(t,n).map(function(r){return ju(e,r),n})},qO=function(e,t,n){var r=e.getBody(),a=A.fromRangeStart(e.selection.getRng()),i=Y(Gr,e),o=Ec(n,i,r,a);return o.bind(function(u){return Xy(e,t,u)})},WO=function(e,t,n){var r=Ue(Dt(x.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(o){return o.dom}),a=_e(r,e),i=_e(n,e);te(rv(a,i),Y(Gy,!1)),te(rv(i,a),Y(Gy,!0))},jO=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=A.fromRangeStart(e.selection.getRng());A.isTextPosition(n)&&g2(n)===!1&&(ju(e,Ix(t.get(),n)),t.set(null))}},KO=function(e,t,n,r){if(t.selection.isCollapsed()){var a=_e(r,e);te(a,function(i){var o=A.fromRangeStart(t.selection.getRng());In(e,t.getBody(),o).bind(function(u){return Xy(t,n,u)})})}},Yy=function(e,t,n){return Pi(e)?qO(e,t,n).isSome():!1},Qy=function(e,t,n){return Pi(t)?EO(e,t):!1},GO=function(e){var t=Ye(null),n=Y(Gr,e);return e.on("NodeChange",function(r){Pi(e)&&!(pe.browser.isIE()&&r.initial)&&(WO(n,e.dom,r.parents),jO(e,t),KO(n,e,t,r.parents))}),t},XO=Y(Qy,!0),YO=Y(Qy,!1),Ku=function(e,t,n){if(Pi(e)){var r=Ac(e,t).getOrThunk(function(){var a=e.selection.getRng();return t?A.fromRangeEnd(a):A.fromRangeStart(a)});return In(Y(Gr,e),e.getBody(),r).exists(function(a){var i=Vu(a);return bc(n,i).exists(function(o){return ju(e,o),!0})})}else return!1},QO=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},ZO=function(e){return Ot(At(e),Pn(e),function(t,n){var r=Qt(!0,t),a=Qt(!1,n);return gn(e,r).forall(function(i){return i.isEqual(a)})}).getOr(!0)},Zy=function(e,t){return function(n){return bc(t,n).exists(function(r){return ju(e,r),!0})}},Jy=function(e,t,n,r){var a=e.getBody(),i=Y(Gr,e);e.undoManager.ignore(function(){e.selection.setRng(QO(n,r)),e.execCommand("Delete"),In(i,a,A.fromRangeStart(e.selection.getRng())).map(wc).map(Zy(e,t))}),e.nodeChanged()},JO=function(e,t){var n=pr(t,e);return n||e},e3=function(e,t,n,r){var a=JO(e.getBody(),r.container()),i=Y(Gr,e),o=In(i,a,r);return o.bind(function(u){return n?u.fold(ie(b.some(wc(u))),b.none,ie(b.some(Vu(u))),b.none):u.fold(b.none,ie(b.some(Vu(u))),b.none,ie(b.some(wc(u))))}).map(Zy(e,t)).getOrThunk(function(){var u=nu(n,a,r),s=u.bind(function(f){return In(i,a,f)});return Ot(o,s,function(){return br(i,a,r).exists(function(f){return ZO(f)?(qr(e,n,x.fromDom(f)),!0):!1})}).orThunk(function(){return s.bind(function(f){return u.map(function(c){return n?Jy(e,t,r,c):Jy(e,t,c,r),!0})})}).getOr(!1)})},Gu=function(e,t,n){if(e.selection.isCollapsed()&&Pi(e)){var r=A.fromRangeStart(e.selection.getRng());return e3(e,t,n,r)}return!1},t3=function(e,t){var n=Wn(t,e);return co(n,kn).fold(ie(n),function(r){return n.slice(0,r)})},n3=function(e){return jt(e).length===1},r3=function(e,t,n,r){var a=Y(oR,t),i=Ue(_e(r,a),function(u){return u.dom});if(i.length===0)qr(t,e,n);else{var o=iR(n.dom,i);t.selection.setRng(o.toRange())}},a3=function(e,t){var n=x.fromDom(e.getBody()),r=x.fromDom(e.selection.getStart()),a=_e(t3(n,r),n3);return Yn(a).exists(function(i){var o=A.fromRangeStart(e.selection.getRng());return C2(t,o,i.dom)&&!uR(i)?(r3(t,e,i,a),!0):!1})},Xu=function(e,t){return e.selection.isCollapsed()?a3(e,t):!1},Rc=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),qr(e,t,x.fromDom(n)),!0},i3=function(e,t){var n=t?ja:Ka,r=t?et.Forwards:et.Backwards,a=Li(r,e.getBody(),e.selection.getRng());return n(a)?Rc(e,t,a.getNode(!t)):b.from(Qt(t,a)).filter(function(i){return n(i)&&eu(a,i)}).exists(function(i){return Rc(e,t,i.getNode(!t))})},o3=function(e,t){var n=e.selection.getNode();return rn(n)?Rc(e,t,n):!1},Yu=function(e,t){return e.selection.isCollapsed()?i3(e,t):o3(e,t)},u3=function(e){return So(e,function(t){return xn(t.dom)||Me(t.dom)}).exists(function(t){return xn(t.dom)})},Bc=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},eb=function(e,t){var n=e||tw(t)?"margin":"padding",r=zn(t,"direction")==="rtl"?"-right":"-left";return n+r},s3=function(e,t,n,r,a,i){var o=eb(n,x.fromDom(i));if(t==="outdent"){var u=Math.max(0,Bc(i.style[o])-r);e.setStyle(i,o,u?u+a:"")}else{var u=Bc(i.style[o])+r+a;e.setStyle(i,o,u)}},f3=function(e,t){return si(t,function(n){var r=eb(qp(e),n),a=Us(n,r).map(Bc).getOr(0),i=e.dom.getContentEditable(n.dom);return i!=="false"&&a>0})},tb=function(e){var t=rb(e);return!e.mode.isReadOnly()&&(t.length>1||f3(e,t))},nb=function(e){return js(e)||Ci(e)},l3=function(e){return ln(e).map(nb).getOr(!1)},rb=function(e){return _e(Ue(e.selection.getSelectedBlocks(),x.fromDom),function(t){return!nb(t)&&!l3(t)&&u3(t)})},ab=function(e,t){var n=e.dom,r=e.selection,a=e.formatter,i=tx(e),o=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=qp(e),f=ht(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&f===""&&!n.getParent(r.getNode(),n.isBlock)&&a.apply("div"),te(rb(e),function(c){s3(n,t,s,u,o,c.dom)})},ib=function(e,t){if(e.selection.isCollapsed()&&tb(e)){var n=e.dom,r=e.selection.getRng(),a=A.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(i!==null&&_l(x.fromDom(i),a))return ab(e,"outdent"),!0}return!1},ob=function(e,t){e.getDoc().execCommand(t,!1,null)},c3=function(e,t){if(!ib(e)){if(Uu(e,!1))return;if(Mu(e,!1))return;if(Gu(e,t,!1))return;if($u(e,!1))return;if(Su(e))return;if(zu(e,!1))return;if(Yu(e,!1))return;if(Fu(e))return;if(Xu(e,!1))return;ob(e,"Delete"),dy(e)}},v3=function(e,t){if(!Uu(e,!0)){if(Mu(e,!0))return;if(Gu(e,t,!0))return;if($u(e,!0))return;if(Su(e))return;if(zu(e,!0))return;if(Yu(e,!0))return;if(Fu(e))return;if(Xu(e,!0))return;ob(e,"ForwardDelete")}},d3=function(e,t){e.addCommand("delete",function(){c3(e,t)}),e.addCommand("forwardDelete",function(){v3(e,t)})},ub=5,p3=400,sb=function(e){return e.touches===void 0||e.touches.length!==1?b.none():b.some(e.touches[0])},m3=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>ub||r>ub},h3=function(e){var t=Ye(b.none()),n=Ye(!1),r=rp(function(a){e.fire("longpress",Ce(Ce({},a),{type:"longpress"})),n.set(!0)},p3);e.on("touchstart",function(a){sb(a).each(function(i){r.cancel();var o={x:i.clientX,y:i.clientY,target:a.target};r.throttle(a),n.set(!1),t.set(b.some(o))})},!0),e.on("touchmove",function(a){r.cancel(),sb(a).each(function(i){t.get().each(function(o){m3(i,o)&&(t.set(b.none()),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(a){r.cancel(),a.type!=="touchcancel"&&t.get().filter(function(i){return i.target.isEqualNode(a.target)}).each(function(){n.get()?a.preventDefault():e.fire("tap",Ce(Ce({},a),{type:"tap"}))})},!0)},Pc=function(e,t){return e.hasOwnProperty(t.nodeName)},g3=function(e,t){return ne(t)?!0:me(t)?!Pc(e,t)&&!Ut(t):!1},y3=function(e,t,n){return Lt(wh(x.fromDom(n),x.fromDom(t)),function(r){return Pc(e,r.dom)})},b3=function(e,t){if(ne(t)){if(t.nodeValue.length===0)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Pc(e,t.nextSibling)))return!0}return!1},C3=function(e){var t=e.dom,n=e.selection,r=e.schema,a=r.getBlockElements(),i=n.getStart(),o=e.getBody(),u,s,f,c=ht(e);if(!(!i||!me(i)||!c)){var l=o.nodeName.toLowerCase();if(!(!r.isValidChild(l,c.toLowerCase())||y3(a,o,i))){var v=n.getRng(),p=v.startContainer,m=v.startOffset,h=v.endContainer,d=v.endOffset,y=Vr(e);for(i=o.firstChild;i;)if(g3(a,i)){if(b3(a,i)){s=i,i=i.nextSibling,t.remove(s);continue}u||(u=t.create(c,Ri(e)),i.parentNode.insertBefore(u,i),f=!0),s=i,i=i.nextSibling,u.appendChild(s)}else u=null,i=i.nextSibling;f&&y&&(v.setStart(p,m),v.setEnd(h,d),n.setRng(v),e.nodeChanged())}}},w3=function(e){ht(e)&&e.on("NodeChange",Y(C3,e))},E3=function(e){return ko(x.fromDom(e.getBody()),"*[data-mce-caret]").fold(ie(null),function(t){return t.dom})},S3=function(e){e.selection.setRng(e.selection.getRng())},fb=function(e,t){t.hasAttribute("data-mce-caret")&&(Qs(t),S3(e),e.selection.scrollIntoView(t))},x3=function(e,t){var n=E3(e);if(!!n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),fb(e,n);return}Sd(n)&&(fb(e,n),e.undoManager.add())}},k3=function(e){e.on("keyup compositionstart",Y(x3,e))},lb=Me,N3=function(e,t,n){return Wy(t,e,n,hr,gr,lb)},_3=function(e,t,n){var r=function(i){return hr(i)||bh(i)},a=function(i){return gr(i)||Ch(i)};return jy(t,e,n,r,a,lb)},T3=function(e){var t=e.dom.create(ht(e));return(!pe.ie||pe.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},cb=function(e,t,n){var r=hn(e.getBody()),a=Y(Uf,t===1?r.next:r.prev);if(n.collapsed&&Cx(e)){var i=e.dom.getParent(n.startContainer,"PRE");if(!i)return;var o=a(A.fromRangeStart(n));if(!o){var u=T3(e);t===1?e.$(i).after(u):e.$(i).before(u),e.selection.select(u,!0),e.selection.collapse()}}},A3=function(e,t){var n=t?et.Forwards:et.Backwards,r=e.selection.getRng();return N3(n,e,r).orThunk(function(){return cb(e,n,r),b.none()})},R3=function(e,t){var n=t?1:-1,r=e.selection.getRng();return _3(n,e,r).orThunk(function(){return cb(e,n,r),b.none()})},vb=function(e,t){return A3(e,t).exists(function(n){return Kn(e,n),!0})},db=function(e,t){return R3(e,t).exists(function(n){return Kn(e,n),!0})},pb=function(e,t){var n=t?gr:hr;return Ky(e,t,n)},B3=function(e){return nt(["figcaption"],Xe(e))},mb=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},hb=function(e,t,n){n?vt(e,t):Xv(e,t)},P3=function(e,t){var n=x.fromTag("br");return hb(e,n,t),mb(n)},D3=function(e,t,n,r){var a=x.fromTag(n),i=x.fromTag("br");return er(a,r),vt(a,i),hb(e,a,t),mb(i)},O3=function(e,t,n,r){return t===""?P3(e,r):D3(e,r,t,n)},I3=function(e,t){var n=Y(Fe,t);return So(x.fromDom(e.container()),kn,n).filter(B3)},L3=function(e,t,n){return t?NO(e.dom,n):kO(e.dom,n)},$3=function(e,t){var n=x.fromDom(e.getBody()),r=A.fromRangeStart(e.selection.getRng()),a=ht(e),i=Ri(e);return I3(r,n).exists(function(){if(L3(n,t,r)){var o=O3(n,a,i,t);return e.selection.setRng(o),!0}else return!1})},gb=function(e,t){return e.selection.isCollapsed()?$3(e,t):!1},F3=function(e){return Ue(e,function(t){return Ce({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:we},t)})},M3=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},U3=function(e,t){return ui(F3(e),function(n){return M3(n,t)?[n]:[]})},Ee=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},Ja=function(e,t){return Nt(U3(e,t),function(n){return n.action()})},yb=function(e,t){var n=t?et.Forwards:et.Backwards,r=e.selection.getRng();return Wy(e,n,r,ja,Ka,rn).exists(function(a){return Kn(e,a),!0})},bb=function(e,t){var n=t?1:-1,r=e.selection.getRng();return jy(e,n,r,ja,Ka,rn).exists(function(a){return Kn(e,a),!0})},Cb=function(e,t){var n=t?Ka:ja;return Ky(e,t,n)},z3=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}},H3=function(e,t){return ui(t,function(n){var r=z3($r(n.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:n},{x:r.right,y:e(r),cell:n}]})},V3=function(e,t,n){return sn(e,function(r,a){return r.fold(function(){return b.some(a)},function(i){var o=Math.sqrt(Math.abs(i.x-t)+Math.abs(i.y-n)),u=Math.sqrt(Math.abs(a.x-t)+Math.abs(a.y-n));return b.some(u<o?a:i)})},b.none())},wb=function(e,t,n,r,a){var i=Dt(x.fromDom(n),"td,th,caption").map(function(u){return u.dom}),o=_e(H3(e,i),function(u){return t(u,a)});return V3(o,r,a).map(function(u){return u.cell})},q3=function(e){return e.bottom},W3=function(e){return e.top},j3=function(e,t){return e.y<t},K3=function(e,t){return e.y>t},G3=Y(wb,q3,j3),X3=Y(wb,W3,K3),Y3=function(e,t){return Vt(t.getClientRects()).bind(function(n){return G3(e,n.left,n.top)}).bind(function(n){return My(RO(n),t)})},Q3=function(e,t){return Yn(t.getClientRects()).bind(function(n){return X3(e,n.left,n.top)}).bind(function(n){return My(AO(n),t)})},Z3=function(e,t,n){return n.breakAt.exists(function(r){return e(t,r).breakAt.isSome()})},J3=function(e){return e.breakType===Ln.Wrap&&e.positions.length===0},eI=function(e){return e.breakType===Ln.Br&&e.positions.length===1},Eb=function(e,t,n){var r=e(t,n);return J3(r)||!Ke(n.getNode())&&eI(r)?!Z3(e,t,r):r.breakAt.isNone()},tI=Y(Eb,Gi),nI=Y(Eb,Xi),rI=function(e,t,n){var r=A.fromRangeStart(t);return Ma(!e,n).exists(function(a){return a.isEqual(r)})},aI=function(e,t,n,r){var a=e.selection.getRng(),i=t?1:-1;return em()&&rI(t,a,n)?(jn(i,e,n,!t,!1).each(function(o){Kn(e,o)}),!0):!1},iI=function(e,t,n){return Y3(t,n).orThunk(function(){return Vt(n.getClientRects()).bind(function(r){return Sc(_O(e,A.before(t)),r.left)})}).getOr(A.before(t))},oI=function(e,t,n){return Q3(t,n).orThunk(function(){return Vt(n.getClientRects()).bind(function(r){return Sc(TO(e,A.after(t)),r.left)})}).getOr(A.after(t))},Sb=function(e,t){var n=t.getNode(e);return me(n)&&n.nodeName==="TABLE"?b.some(n):b.none()},uI=function(e,t,n,r){var a=ht(t);a?t.undoManager.transact(function(){var i=x.fromTag(a);er(i,Ri(t)),vt(i,x.fromTag("br")),e?pi(x.fromDom(n),i):cn(x.fromDom(n),i);var o=t.dom.createRng();o.setStart(i.dom,0),o.setEnd(i.dom,0),Kn(t,o)}):Kn(t,r.toRange())},xb=function(e,t,n){var r=Sb(!!t,n),a=t===!1;r.fold(function(){return Kn(e,n.toRange())},function(i){return Ma(a,e.getBody()).filter(function(o){return o.isEqual(n)}).fold(function(){return Kn(e,n.toRange())},function(o){return uI(t,e,i,n)})})},sI=function(e,t,n,r){var a=e.selection.getRng(),i=A.fromRangeStart(a),o=e.getBody();if(!t&&tI(r,i)){var u=iI(o,n,i);return xb(e,t,u),!0}else if(t&&nI(r,i)){var u=oI(o,n,i);return xb(e,t,u),!0}else return!1},kb=function(e,t,n){return b.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(r){return b.from(e.dom.getParent(r,"table")).map(function(a){return n(e,t,a,r)})}).getOr(!1)},Nb=function(e,t){return kb(e,t,aI)},_b=function(e,t){return kb(e,t,sI)},fI=function(e,t,n){var r=fn().os;Ja([{keyCode:ue.RIGHT,action:Ee(vb,e,!0)},{keyCode:ue.LEFT,action:Ee(vb,e,!1)},{keyCode:ue.UP,action:Ee(db,e,!1)},{keyCode:ue.DOWN,action:Ee(db,e,!0)},{keyCode:ue.RIGHT,action:Ee(Nb,e,!0)},{keyCode:ue.LEFT,action:Ee(Nb,e,!1)},{keyCode:ue.UP,action:Ee(_b,e,!1)},{keyCode:ue.DOWN,action:Ee(_b,e,!0)},{keyCode:ue.RIGHT,action:Ee(yb,e,!0)},{keyCode:ue.LEFT,action:Ee(yb,e,!1)},{keyCode:ue.UP,action:Ee(bb,e,!1)},{keyCode:ue.DOWN,action:Ee(bb,e,!0)},{keyCode:ue.RIGHT,action:Ee(Yy,e,t,!0)},{keyCode:ue.LEFT,action:Ee(Yy,e,t,!1)},{keyCode:ue.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Ee(XO,e,t)},{keyCode:ue.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Ee(YO,e,t)},{keyCode:ue.UP,action:Ee(gb,e,!1)},{keyCode:ue.DOWN,action:Ee(gb,e,!0)}],n).each(function(a){n.preventDefault()})},lI=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&fI(e,t,n)})},cI=function(e,t,n){Ja([{keyCode:ue.BACKSPACE,action:Ee(ib,e,!1)},{keyCode:ue.BACKSPACE,action:Ee(Uu,e,!1)},{keyCode:ue.DELETE,action:Ee(Uu,e,!0)},{keyCode:ue.BACKSPACE,action:Ee(Mu,e,!1)},{keyCode:ue.DELETE,action:Ee(Mu,e,!0)},{keyCode:ue.BACKSPACE,action:Ee(Gu,e,t,!1)},{keyCode:ue.DELETE,action:Ee(Gu,e,t,!0)},{keyCode:ue.BACKSPACE,action:Ee(Su,e,!1)},{keyCode:ue.DELETE,action:Ee(Su,e,!0)},{keyCode:ue.BACKSPACE,action:Ee(zu,e,!1)},{keyCode:ue.DELETE,action:Ee(zu,e,!0)},{keyCode:ue.BACKSPACE,action:Ee(Yu,e,!1)},{keyCode:ue.DELETE,action:Ee(Yu,e,!0)},{keyCode:ue.BACKSPACE,action:Ee(Fu,e,!1)},{keyCode:ue.DELETE,action:Ee(Fu,e,!0)},{keyCode:ue.BACKSPACE,action:Ee($u,e,!1)},{keyCode:ue.DELETE,action:Ee($u,e,!0)},{keyCode:ue.BACKSPACE,action:Ee(Xu,e,!1)},{keyCode:ue.DELETE,action:Ee(Xu,e,!0)}],n).each(function(r){n.preventDefault()})},vI=function(e,t){Ja([{keyCode:ue.BACKSPACE,action:Ee(ky,e)},{keyCode:ue.DELETE,action:Ee(ky,e)}],t)},dI=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&cI(e,t,n)}),e.on("keyup",function(n){n.isDefaultPrevented()===!1&&vI(e,n)})},pI=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Yi=function(e,t){var n,r=t,a=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(!!t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var o=pI(t.firstChild);o&&/^(UL|OL|DL)$/.test(o.nodeName)&&t.insertBefore(a.doc.createTextNode($t),t.firstChild)}var u=a.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new Ze(t,t);n=s.current();){if(ne(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=s.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else Ke(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),lu(e,u)}},mI=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},Dc=function(e){return b.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},hI=function(e){return Dc(e).fold(ie(""),function(t){return t.nodeName.toUpperCase()})},gI=function(e){return Dc(e).filter(function(t){return Ci(x.fromDom(t))}).isSome()},yI=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},bI=function(e){var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},Tb=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Ab=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},CI=function(e){return Ab(e)&&Ab(e.parentNode)},Qu=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Zu=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!me(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},wI=function(e,t,n,r,a){var i=e.dom,o=e.selection.getRng();if(n!==e.getBody()){CI(n)&&(a="LI");var u=a?t(a):i.create("BR");if(Zu(n,r,!0)&&Zu(n,r,!1))if(Tb(n,"LI")){var s=Qu(n);i.insertAfter(u,s),bI(n)?i.remove(s):i.remove(n)}else i.replace(u,n);else if(Zu(n,r,!0))Tb(n,"LI")?(i.insertAfter(u,Qu(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n),i.remove(r);else if(Zu(n,r,!1))i.insertAfter(u,Qu(n)),i.remove(r);else{n=Qu(n);var f=o.cloneRange();f.setStartAfter(r),f.setEndAfter(n);var c=f.extractContents();a==="LI"&&yI(c,"LI")?(u=c.firstChild,i.insertAfter(c,n)):(i.insertAfter(c,n),i.insertAfter(u,n)),i.remove(r)}Yi(e,u)}},EI=function(e){te(ip(x.fromDom(e),tn),function(t){var n=t.dom;n.nodeValue=rr(n.nodeValue)})},SI=function(e,t){return t&&t.nodeName==="A"&&e.isEmpty(t)},xI=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Oc=function(e){e.innerHTML='<br data-mce-bogus="1">'},Ic=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Rb=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.getContentEditable(t)!=="true"},kI=function(e,t,n){var r=n,a=[],i;if(!!r){for(;r=r.firstChild;){if(e.isBlock(r))return;me(r)&&!t[r.nodeName.toLowerCase()]&&a.push(r)}for(i=a.length;i--;)r=a[i],(!r.hasChildNodes()||r.firstChild===r.lastChild&&r.firstChild.nodeValue===""||SI(e,r))&&e.remove(r)}},Lc=function(e,t,n){return ne(t)===!1?n:e?n===1&&t.data.charAt(n-1)===at?0:n:n===t.data.length-1&&t.data.charAt(n)===at?t.data.length:n},NI=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,Lc(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,Lc(!1,e.endContainer,e.endOffset)),t},_I=function(e){do ne(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},Bb=function(e,t){var n=e.getRoot(),r,a;for(r=t;r!==n&&e.getContentEditable(r)!=="false";)e.getContentEditable(r)==="true"&&(a=r),r=r.parentNode;return r!==n?a:n},TI=function(e,t,n){var r=e.dom;b.from(n.style).map(r.parseStyle).each(function(s){var f=sd(x.fromDom(t)),c=Ce(Ce({},f),s);r.setStyles(t,c)});var a=b.from(n.class).map(function(s){return s.split(/\s+/)}),i=b.from(t.className).map(function(s){return _e(s.split(/\s+/),function(f){return f!==""})});Ot(a,i,function(s,f){var c=_e(f,function(v){return!nt(s,v)}),l=ks(s,c);r.setAttrib(t,"class",l.join(" "))});var o=["style","class"],u=fi(n,function(s,f){return!nt(o,f)});r.setAttribs(t,u)},Qi=function(e,t){var n=ht(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=Ri(e);TI(e,t,r)}},AI=function(e,t,n,r,a){var i,o,u,s,f,c,l=t||"P",v=e.dom,p=Bb(v,r);if(o=v.getParent(r,v.isBlock),!o||!Rb(v,o)){if(o=o||p,o===e.getBody()||xI(o)?c=o.nodeName.toLowerCase():c=o.parentNode.nodeName.toLowerCase(),!o.hasChildNodes())return i=v.create(l),Qi(e,i),o.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==o;)s=s.parentNode;for(;s&&!v.isBlock(s);)u=s,s=s.previousSibling;if(u&&e.schema.isValidChild(c,l.toLowerCase())){for(i=v.create(l),Qi(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!v.isBlock(s);)f=s.nextSibling,i.appendChild(s),s=f;n.setStart(r,a),n.setEnd(r,a)}}return r},RI=function(e,t){t.normalize();var n=t.lastChild;(!n||/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},BI=function(e,t){var n,r,a,i,o,u,s,f,c,l,v=e.dom,p=e.schema,m=p.getNonEmptyElements(),h=e.selection.getRng(),d=function(F){var M=r,Q,J,I,se=p.getTextInlineElements();if(F||f==="TABLE"||f==="HR"?Q=v.create(F||c):Q=i.cloneNode(!1),I=Q,zS(e)===!1)v.setAttrib(Q,"style",null),v.setAttrib(Q,"class",null);else do if(se[M.nodeName]){if(Dn(M)||Ut(M))continue;J=M.cloneNode(!1),v.setAttrib(J,"id",""),Q.hasChildNodes()?(J.appendChild(Q.firstChild),Q.appendChild(J)):(I=J,Q.appendChild(J))}while((M=M.parentNode)&&M!==S);return Qi(e,Q),Oc(I),Q},y=function(F){var M,Q,J=Lc(F,r,a);if(ne(r)&&(F?J>0:J<r.nodeValue.length))return!1;if(r.parentNode===i&&l&&!F||F&&me(r)&&r===i.firstChild)return!0;if(Ic(r,"TABLE")||Ic(r,"HR"))return l&&!F||!l&&F;var I=new Ze(r,i);for(ne(r)&&(F&&J===0?I.prev():!F&&J===r.nodeValue.length&&I.next());M=I.current();){if(me(M)){if(!M.getAttribute("data-mce-bogus")&&(Q=M.nodeName.toLowerCase(),m[Q]&&Q!=="br"))return!1}else if(ne(M)&&!Br(M.nodeValue))return!1;F?I.prev():I.next()}return!0},g=function(){/^(H[1-6]|PRE|FIGURE)$/.test(f)&&B!=="HGROUP"?o=d(c):o=d(),HS(e)&&Rb(v,s)&&v.isEmpty(i)?o=v.split(s,i):v.insertAfter(o,i),Yi(e,o)};uu(v,h).each(function(F){h.setStart(F.startContainer,F.startOffset),h.setEnd(F.endContainer,F.endOffset)}),r=h.startContainer,a=h.startOffset,c=ht(e);var C=!!(t&&t.shiftKey),w=!!(t&&t.ctrlKey);me(r)&&r.hasChildNodes()&&(l=a>r.childNodes.length-1,r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r,l&&ne(r)?a=r.nodeValue.length:a=0);var S=Bb(v,r);if(!!S){(c&&!C||!c&&C)&&(r=AI(e,c,h,r,a)),i=v.getParent(r,v.isBlock),s=i?v.getParent(i.parentNode,v.isBlock):null,f=i?i.nodeName.toUpperCase():"";var B=s?s.nodeName.toUpperCase():"";if(B==="LI"&&!w&&(i=s,s=s.parentNode,f=B),/^(LI|DT|DD)$/.test(f)&&v.isEmpty(i)){wI(e,d,s,i,c);return}c&&i===e.getBody()||(c=c||"P",wa(i)?(o=Qs(i),v.isEmpty(i)&&Oc(i),Qi(e,o),Yi(e,o)):y()?g():y(!0)?(o=i.parentNode.insertBefore(d(),i),Yi(e,Ic(i,"HR")?o:i)):(n=NI(h).cloneRange(),n.setEndAfter(i),u=n.extractContents(),EI(u),_I(u),o=u.firstChild,v.insertAfter(u,i),kI(v,m,o),RI(v,i),v.isEmpty(i)&&Oc(i),o.normalize(),v.isEmpty(o)?(v.remove(o),g()):(Qi(e,o),Yi(e,o))),v.setAttrib(o,"id",""),e.fire("NewBlock",{newBlock:o}))}},PI=function(e,t,n){for(var r=new Ze(t,n),a,i=e.getNonEmptyElements();a=r.next();)if(i[a.nodeName.toLowerCase()]||a.length>0)return!0},Pb=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),lu(e,r)},DI=function(e,t){var n=e.selection,r=e.dom,a=n.getRng(),i,o;uu(r,a).each(function(m){a.setStart(m.startContainer,m.startOffset),a.setEnd(m.endContainer,m.endOffset)});var u=a.startOffset,s=a.startContainer;if(s.nodeType===1&&s.hasChildNodes()){var f=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,f&&s.nodeType===3?u=s.nodeValue.length:u=0}var c=r.getParent(s,r.isBlock),l=c?r.getParent(c.parentNode,r.isBlock):null,v=l?l.nodeName.toUpperCase():"",p=!!(t&&t.ctrlKey);v==="LI"&&!p&&(c=l),s&&s.nodeType===3&&u>=s.nodeValue.length&&(PI(e.schema,s,c)||(i=r.create("br"),a.insertNode(i),a.setStartAfter(i),a.setEndAfter(i),o=!0)),i=r.create("br"),Pf(r,a,i),Pb(e,i,o),e.undoManager.add()},OI=function(e,t){var n=x.fromTag("br");cn(x.fromDom(t),n),e.undoManager.add()},II=function(e,t){$I(e.getBody(),t)||pi(x.fromDom(t),x.fromTag("br"));var n=x.fromTag("br");pi(x.fromDom(t),n),Pb(e,n.dom,!1),e.undoManager.add()},LI=function(e){return Ke(e.getNode())},$I=function(e,t){return LI(A.after(t))?!0:gn(e,A.after(t)).map(function(n){return Ke(n.getNode())}).getOr(!1)},Db=function(e){return e&&e.nodeName==="A"&&"href"in e},FI=function(e){return e.fold(Pe,Db,Db,Pe)},MI=function(e){var t=Y(Gr,e),n=A.fromRangeStart(e.selection.getRng());return In(t,e.getBody(),n).filter(FI)},UI=function(e,t){t.fold(we,Y(OI,e),Y(II,e),we)},Ob=function(e,t){var n=MI(e);n.isSome()?n.each(Y(UI,e)):DI(e,t)},Ib=function(e,t){return Dc(e).filter(function(n){return t.length>0&&va(x.fromDom(n),t)}).isSome()},zI=function(e){return Ib(e,MS(e))},HI=function(e){return Ib(e,US(e))},Ht=tr.generate([{br:[]},{block:[]},{none:[]}]),VI=function(e,t){return HI(e)},$c=function(e){return function(t,n){var r=ht(t)==="";return r===e}},Lb=function(e){return function(t,n){return gI(t)===e}},$b=function(e,t){return function(n,r){var a=hI(n)===e.toUpperCase();return a===t}},Ju=function(e){return $b("pre",e)},qI=function(){return $b("summary",!0)},es=function(e){return function(t,n){return FS(t)===e}},WI=function(e,t){return zI(e)},Zi=function(e,t){return t},Fb=function(e){var t=ht(e),n=mI(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Zt=function(e,t){return function(n,r){var a=sn(e,function(i,o){return i&&o(n,r)},!0);return a?b.some(t):b.none()}},jI=function(e,t){return By([Zt([VI],Ht.none()),Zt([qI()],Ht.br()),Zt([Ju(!0),es(!1),Zi],Ht.br()),Zt([Ju(!0),es(!1)],Ht.block()),Zt([Ju(!0),es(!0),Zi],Ht.block()),Zt([Ju(!0),es(!0)],Ht.br()),Zt([Lb(!0),Zi],Ht.br()),Zt([Lb(!0)],Ht.block()),Zt([$c(!0),Zi,Fb],Ht.block()),Zt([$c(!0)],Ht.br()),Zt([WI],Ht.br()),Zt([$c(!1),Zi],Ht.br()),Zt([Fb],Ht.block())],[e,!!(t&&t.shiftKey)]).getOr(Ht.none())},Mb=function(e,t){jI(e,t).fold(function(){Ob(e,t)},function(){BI(e,t)},we)},KI=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),yB(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),Mb(e,t)}))},GI=function(e){e.on("keydown",function(t){t.keyCode===ue.ENTER&&KI(e,t)})},XI=function(e,t,n){Ja([{keyCode:ue.END,action:Ee(pb,e,!0)},{keyCode:ue.HOME,action:Ee(pb,e,!1)},{keyCode:ue.END,action:Ee(Cb,e,!0)},{keyCode:ue.HOME,action:Ee(Cb,e,!1)},{keyCode:ue.END,action:Ee(Ku,e,!0,t)},{keyCode:ue.HOME,action:Ee(Ku,e,!1,t)}],n).each(function(r){n.preventDefault()})},YI=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&XI(e,t,n)})},QI=fn().browser,ZI=function(e){var t=kf(function(){e.composing||Ph(e)},0);QI.isIE()&&(e.on("keypress",function(n){t.throttle()}),e.on("remove",function(n){t.cancel()}))},JI=function(e){ZI(e),e.on("input",function(t){t.isComposing===!1&&Ph(e)})},eL=fn(),tL=function(e,t,n){Ja([{keyCode:ue.PAGE_UP,action:Ee(Ku,e,!1,t)},{keyCode:ue.PAGE_DOWN,action:Ee(Ku,e,!0,t)}],n)},Ub=function(e){return e.stopImmediatePropagation()},zb=function(e){return e.keyCode===ue.PAGE_UP||e.keyCode===ue.PAGE_DOWN},Hb=function(e,t,n){n&&!e.get()?t.on("NodeChange",Ub,!0):!n&&e.get()&&t.off("NodeChange",Ub),e.set(n)},nL=function(e,t){if(!eL.os.isOSX()){var n=Ye(!1);e.on("keydown",function(r){zb(r)&&Hb(n,e,!0)}),e.on("keyup",function(r){r.isDefaultPrevented()===!1&&tL(e,t,r),zb(r)&&n.get()&&(Hb(n,e,!1),e.nodeChanged())})}},Vb=function(e,t){var n=t.container(),r=t.offset();return ne(n)?(n.insertData(r,e),b.some(A(n,r+e.length))):Jo(t).map(function(a){var i=x.fromText(e);return t.isAtEnd()?pi(a,i):cn(a,i),A(i.dom,e.length)})},rL=Y(Vb,$t),aL=Y(Vb," "),iL=function(e){return function(t){return t.fold(function(n){return Bn(e.dom,A.before(n))},function(n){return At(n)},function(n){return Pn(n)},function(n){return gn(e.dom,A.after(n))})}},oL=function(e,t){return function(n){return sT(e,n)?rL(t):aL(t)}},uL=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},sL=function(e){var t=A.fromRangeStart(e.selection.getRng()),n=x.fromDom(e.getBody());if(e.selection.isCollapsed()){var r=Y(Gr,e),a=A.fromRangeStart(e.selection.getRng());return In(r,e.getBody(),a).bind(iL(n)).bind(oL(n,t)).exists(uL(e))}else return!1},fL=function(e,t){Ja([{keyCode:ue.SPACEBAR,action:Ee(sL,e)}],t).each(function(n){t.preventDefault()})},lL=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&fL(e,t)})},cL=function(e){var t=GO(e);return k3(e),lI(e,t),dI(e,t),GI(e),lL(e),JI(e),YI(e,t),nL(e,t),t},vL=function(e){return jr(e)?Ye(null):cL(e)},dL=function(){function e(t){this.lastPath=[],this.editor=t;var n,r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(a){var i=t.selection.getRng(),o={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};(a.type==="nodechange"||!sl(o,n))&&t.fire("SelectionChange"),n=o}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var a=t.selection.getStart(!0);!a||!pe.range&&t.selection.isCollapsed()||ou(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(a){!a.isDefaultPrevented()&&ou(t)&&(t.selection.getNode().nodeName==="IMG"?pt.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return e.prototype.nodeChanged=function(t){var n=this.editor.selection,r,a,i;this.editor.initialized&&n&&!Ex(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),r=n.getStart(!0)||i,(r.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(r,i))&&(r=i),a=[],this.editor.dom.getParent(r,function(o){if(o===i)return!0;a.push(o)}),t=t||{},t.element=r,t.parents=a,this.editor.fire("NodeChange",t))},e.prototype.isSameElementPath=function(t){var n,r=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(r.length===this.lastPath.length){for(n=r.length;n>=0&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1},e}(),pL=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},mL=function(e){e.parser.addNodeFilter("details",function(t){te(t,function(n){n.attr("data-mce-open",n.attr("open")),n.attr("open","open")})}),e.serializer.addNodeFilter("details",function(t){te(t,function(n){var r=n.attr("data-mce-open");n.attr("open",xe(r)?r:null),n.attr("data-mce-open",null)})})},hL=function(e){pL(e),mL(e)},qb=function(e){return me(e)&&Ed(x.fromDom(e))},gL=function(e){var t=e.selection.getRng(),n=A.fromRangeStart(t),r=A.fromRangeEnd(t);if(A.isElementPosition(n)){var a=n.container();qb(a)&&At(a).each(function(i){return t.setStart(i.container(),i.offset())})}if(A.isElementPosition(r)){var a=n.container();qb(a)&&Pn(a).each(function(o){return t.setEnd(o.container(),o.offset())})}e.selection.setRng(Ll(t))},yL=function(e){e.on("click",function(t){t.detail>=3&&gL(e)})},bL=function(){var e=Ye(b.none()),t=function(){return e.set(b.none())},n=function(i){return e.set(b.some(i))},r=function(){return e.get().isSome()},a=function(i){return e.get().each(i)};return{clear:t,set:n,isSet:r,on:a}},Wb=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,a=n.defaultView;return{top:t.top+a.pageYOffset-r.clientTop,left:t.left+a.pageXOffset-r.clientLeft}},CL=function(e){return e.inline?Wb(e.getBody()):{left:0,top:0}},wL=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},EL=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},a={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:a},SL=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Wb(e.getContentAreaContainer()),r=EL(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},xL=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},kL=function(e,t){return xL(CL(e),wL(e),SL(e,t))},ts=Me,NL=xn,_L=function(e,t){return ts(t)&&t!==e},TL=function(e,t,n){return t===n||e.dom.isChildOf(t,n)?!1:!ts(t)},AL=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},RL=function(e,t,n,r){var a=e.dom,i=t.cloneNode(!0);a.setStyles(i,{width:n,height:r}),a.setAttrib(i,"data-mce-selected",null);var o=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),a.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},BL=function(e,t){e.parentNode!==t&&t.appendChild(e)},PL=function(e,t,n,r,a,i){var o=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>a&&(o=t.pageX+n-a),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-o+"px",e.style.height=r-u+"px"},jb=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},DL=function(e){return e.button===0},OL=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},IL=function(e,t){return function(n){if(DL(n)){var r=Nt(t.dom.getParents(n.target),lS(ts,NL)).getOr(null);if(_L(t.getBody(),r)){var a=t.dom.getPos(r),i=t.getBody(),o=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:o.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:o.offsetHeight)-2,relX:n.pageX-a.x,relY:n.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:RL(t,r,r.offsetWidth,r.offsetHeight)})}}}},LL=function(e,t){var n=pt.throttle(function(r,a){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(r,a)},0);return t.on("remove",n.stop),function(r){return e.on(function(a){var i=Math.max(Math.abs(r.screenX-a.screenX),Math.abs(r.screenY-a.screenY));if(!a.dragging&&i>10){var o=t.fire("dragstart",{target:a.element});if(o.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){var u=OL(a,kL(t,r));BL(a.ghost,t.getBody()),PL(a.ghost,u,a.width,a.height,a.maxX,a.maxY),n(r.clientX,r.clientY)}})}},$L=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return n.nodeType===3?n.parentNode:n},FL=function(e,t){return function(n){e.on(function(r){if(r.dragging&&TL(t,$L(t.selection),r.element)){var a=AL(r.element),i=t.fire("drop",{clientX:n.clientX,clientY:n.clientY});i.isDefaultPrevented()||t.undoManager.transact(function(){jb(r.element),t.insertContent(t.dom.getOuterHTML(a)),t._selectionOverrides.hideFakeCaret()})}}),Kb(e)}},ML=function(e,t){return function(){e.on(function(n){n.dragging&&t.fire("dragend")}),Kb(e)}},Kb=function(e){e.on(function(t){jb(t.ghost)}),e.clear()},UL=function(e){var t=bL(),n=Ie.DOM,r=document,a=IL(t,e),i=LL(t,e),o=FL(t,e),u=ML(t,e);e.on("mousedown",a),e.on("mousemove",i),e.on("mouseup",o),n.bind(r,"mousemove",i),n.bind(r,"mouseup",u),e.on("remove",function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",u)})},zL=function(e){e.on("drop",function(t){console.log(t);var n=typeof t.clientX!="undefined"?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(ts(n)||e.dom.getContentEditableParent(n)==="false")&&t.preventDefault()})},HL=function(e){var t=function(a){if(!a.isDefaultPrevented()){var i=a.dataTransfer;i&&(nt(i.types,"Files")||i.files.length>0)&&(a.preventDefault(),a.type==="drop"&&Du(e,"Dropped file type is not supported"))}},n=function(a){du(e,a.target)&&t(a)},r=function(){var a=Ie.DOM,i=e.dom,o=document,u=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];te(s,function(f){a.bind(o,f,n),i.bind(u,f,t)}),e.on("remove",function(){te(s,function(f){a.unbind(o,f,n),i.unbind(u,f,t)})})};e.on("init",function(){pt.setEditorTimeout(e,r,0)})},VL=function(e){UL(e),zL(e),Nx(e)&&HL(e)},qL=function(e){var t=kf(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var n=e.selection.getRng();if(n.collapsed){var r=yc(e,n,!1);e.selection.setRng(r)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},WL=function(e){e.on("init",function(){e.on("focusin",function(t){var n=t.target;if(rn(n)){var r=Ui(e.getBody(),n),a=Me(r)?r:n;e.selection.getNode()!==a&&Qa(e,a).each(function(i){return e.selection.setRng(i)})}})})},Gb=xn,Yr=Me,ns=function(e,t){return Ui(e.getBody(),t)},jL=function(e){var t=e.selection,n=e.dom,r=n.isBlock,a=e.getBody(),i=zx(e,a,r,function(){return Vr(e)}),o="sel-"+n.uniqueId(),u="data-mce-selected",s,f=function(I){return n.hasClass(I,"mce-offscreen-selection")},c=function(I){return I!==a&&(Yr(I)||rn(I))&&n.isChildOf(I,a)},l=function(I){return hr(I)||gr(I)||ja(I)||Ka(I)},v=function(){var I=n.get(o);return I&&I.getElementsByTagName("*")[0]},p=function(I){I&&t.setRng(I)},m=t.getRng,h=function(I,se,H,Z){Z===void 0&&(Z=!0);var z=e.fire("ShowCaret",{target:se,direction:I,before:H});return z.isDefaultPrevented()?null:(Z&&t.scrollIntoView(se,I===-1),i.show(H,se))},d=function(I){I.hasAttribute("data-mce-caret")&&(Qs(I),p(m()),t.scrollIntoView(I))},y=function(){e.on("mouseup",function(z){var q=m();q.collapsed&&Yg(e,z.clientX,z.clientY)&&Cy(e,q,!1).each(p)}),e.on("click",function(z){var q=ns(e,z.target);q&&(Yr(q)&&(z.preventDefault(),e.focus()),Gb(q)&&n.isChildOf(q,t.getNode())&&M())}),e.on("blur NewBlock",M),e.on("ResizeWindow FullscreenStateChanged",i.reposition);var I=function(z){var q=hn(z);if(!z.firstChild)return!1;var X=A.before(z.firstChild),L=q.next(X);return L&&!l(L)},se=function(z,q){var X=n.getParent(z,r),L=n.getParent(q,r);return X===L},H=function(z,q){var X=n.getParent(z,r),L=n.getParent(q,r);return X&&z!==L&&n.isChildOf(X,L)&&Yr(ns(e,X))===!1?!0:X&&!se(X,L)&&I(X)};e.on("tap",function(z){var q=z.target,X=ns(e,q);Yr(X)?(z.preventDefault(),Qa(e,X).each(F)):c(q)&&Qa(e,q).each(F)},!0),e.on("mousedown",function(z){var q=z.target;if(!(q!==a&&q.nodeName!=="HTML"&&!n.isChildOf(q,a))&&Yg(e,z.clientX,z.clientY)!==!1){var X=ns(e,q);if(X)Yr(X)?(z.preventDefault(),Qa(e,X).each(F)):(M(),!(Gb(X)&&z.shiftKey)&&!ol(z.clientX,z.clientY,t.getRng())&&(J(),t.placeCaretAt(z.clientX,z.clientY)));else if(c(q))Qa(e,q).each(F);else if(Ur(q)===!1){M(),J();var L=VO(a,z.clientX,z.clientY);if(L&&!H(q,L.node)){z.preventDefault();var G=h(1,L.node,L.before,!1);e.getBody().focus(),p(G)}}}}),e.on("keypress",function(z){ue.modifierPressed(z)||Yr(t.getNode())&&z.preventDefault()}),e.on("GetSelectionRange",function(z){var q=z.range;if(s){if(!s.parentNode){s=null;return}q=q.cloneRange(),q.selectNode(s),z.range=q}}),e.on("SetSelectionRange",function(z){z.range=w(z.range);var q=F(z.range,z.forward);q&&(z.range=q)});var Z=function(z){return z.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(z){var q=z.range,X=q.startContainer.parentNode;!C(q)&&!Z(X)&&J(),f(X)||M()}),e.on("copy",function(z){var q=z.clipboardData;if(!z.isDefaultPrevented()&&z.clipboardData&&!pe.ie){var X=v();X&&(z.preventDefault(),q.clearData(),q.setData("text/html",X.outerHTML),q.setData("text/plain",X.outerText||X.innerText))}}),VL(e),qL(e),WL(e)},g=function(I){return Kt(I)||To(I)||Ao(I)},C=function(I){return g(I.startContainer)||g(I.endContainer)},w=function(I){var se=e.schema.getShortEndedElements(),H=n.createRng(),Z=I.startContainer,z=I.startOffset,q=I.endContainer,X=I.endOffset;return ct(se,Z.nodeName.toLowerCase())?z===0?H.setStartBefore(Z):H.setStartAfter(Z):H.setStart(Z,z),ct(se,q.nodeName.toLowerCase())?X===0?H.setEndBefore(q):H.setEndAfter(q):H.setEnd(q,X),H},S=function(I,se,H){var Z=e.$,z=ko(x.fromDom(e.getBody()),"#"+o).fold(function(){return Z([])},function(L){return Z([L.dom])});z.length===0&&(z=Z('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o),z.appendTo(e.getBody()));var q=n.createRng();se===H&&pe.ie?(z.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(se),q.setStartAfter(z[0].firstChild.firstChild),q.setEndAfter(se)):(z.empty().append($t).append(se).append($t),q.setStart(z[0].firstChild,1),q.setEnd(z[0].lastChild,0)),z.css({top:n.getPos(I,e.getBody()).y}),z[0].focus();var X=t.getSel();return X.removeAllRanges(),X.addRange(q),q},B=function(I){var se=I.cloneNode(!0),H=e.fire("ObjectSelected",{target:I,targetClone:se});if(H.isDefaultPrevented())return null;var Z=S(I,H.targetClone,se),z=x.fromDom(I);return te(Dt(x.fromDom(e.getBody()),"*[data-mce-selected]"),function(q){Fe(z,q)||Rr(q,u)}),n.getAttrib(I,u)||I.setAttribute(u,"1"),s=I,J(),Z},F=function(I,se){if(!I)return null;if(I.collapsed){if(!C(I)){var H=se?1:-1,Z=Li(H,a,I),z=Z.getNode(!se);if(Ur(z))return h(H,z,se?!Z.isAtEnd():!1,!1);var q=Z.getNode(se);if(Ur(q))return h(H,q,se?!1:!Z.isAtEnd(),!1)}return null}var X=I.startContainer,L=I.startOffset,G=I.endOffset;if(X.nodeType===3&&L===0&&Yr(X.parentNode)&&(X=X.parentNode,L=n.nodeIndex(X),X=X.parentNode),X.nodeType!==1)return null;if(G===L+1&&X===I.endContainer){var ke=X.childNodes[L];if(c(ke))return B(ke)}return null},M=function(){s&&s.removeAttribute(u),ko(x.fromDom(e.getBody()),"#"+o).each(dt),s=null},Q=function(){i.destroy(),s=null},J=function(){i.hide()};return pe.ceFalse&&!jr(e)&&y(),{showCaret:h,showBlockCaretContainer:d,hideFakeCaret:J,destroy:Q}},KL=function(e){var t=P.each,n=ue.BACKSPACE,r=ue.DELETE,a=e.dom,i=e.selection,o=e.parser,u=pe.gecko,s=pe.ie,f=pe.webkit,c="data:text/mce-internal,",l=s?"Text":"URL",v=function(O,N){try{e.getDoc().execCommand(O,!1,N)}catch{}},p=function(O){return O.isDefaultPrevented()},m=function(O){var N,D;O.dataTransfer&&(e.selection.isCollapsed()&&O.target.tagName==="IMG"&&i.select(O.target),N=e.selection.getContent(),N.length>0&&(D=c+escape(e.id)+","+escape(N),O.dataTransfer.setData(l,D)))},h=function(O){var N;return O.dataTransfer&&(N=O.dataTransfer.getData(l),N&&N.indexOf(c)>=0)?(N=N.substr(c.length).split(","),{id:unescape(N[0]),html:unescape(N[1])}):null},d=function(O,N){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:O,internal:N}):e.execCommand("mceInsertContent",!1,O)},y=function(){var O=function(D){var _=a.create("body"),W=D.cloneContents();return _.appendChild(W),i.serializer.serialize(_,{format:"html"})},N=function(D){var _=O(D),W=a.createRng();W.selectNode(e.getBody());var K=O(W);return _===K};e.on("keydown",function(D){var _=D.keyCode,W,K;if(!p(D)&&(_===r||_===n)){if(W=e.selection.isCollapsed(),K=e.getBody(),W&&!a.isEmpty(K)||!W&&!N(e.selection.getRng()))return;D.preventDefault(),e.setContent(""),K.firstChild&&a.isBlock(K.firstChild)?e.selection.setCursorLocation(K.firstChild,0):e.selection.setCursorLocation(K,0),e.nodeChanged()}})},g=function(){e.shortcuts.add("meta+a",null,"SelectAll")},C=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",function(O){var N;if(O.target===e.getDoc().documentElement)if(N=i.getRng(),e.getBody().focus(),O.type==="mousedown"){if(Kt(N.startContainer))return;i.placeCaretAt(O.clientX,O.clientY)}else i.setRng(N)})},w=function(){e.on("keydown",function(O){if(!p(O)&&O.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&i.getRng().startOffset===0){var N=i.getNode(),D=N.previousSibling;if(N.nodeName==="HR"){a.remove(N),O.preventDefault();return}D&&D.nodeName&&D.nodeName.toLowerCase()==="hr"&&(a.remove(D),O.preventDefault())}}})},S=function(){Range.prototype.getClientRects||e.on("mousedown",function(O){if(!p(O)&&O.target.nodeName==="HTML"){var N=e.getBody();N.blur(),pt.setEditorTimeout(e,function(){N.focus()})}})},B=function(){e.on("click",function(O){var N=O.target;/^(IMG|HR)$/.test(N.nodeName)&&a.getContentEditableParent(N)!=="false"&&(O.preventDefault(),e.selection.select(N),e.nodeChanged()),N.nodeName==="A"&&a.hasClass(N,"mce-item-anchor")&&(O.preventDefault(),i.select(N))})},F=function(){var O=function(){var D=a.getAttribs(i.getStart().cloneNode(!1));return function(){var _=i.getStart();_!==e.getBody()&&(a.setAttrib(_,"style",null),t(D,function(W){_.setAttributeNode(W.cloneNode(!0))}))}},N=function(){return!i.isCollapsed()&&a.getParent(i.getStart(),a.isBlock)!==a.getParent(i.getEnd(),a.isBlock)};e.on("keypress",function(D){var _;if(!p(D)&&(D.keyCode===8||D.keyCode===46)&&N())return _=O(),e.getDoc().execCommand("delete",!1,null),_(),D.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(D){var _;!p(D)&&N()&&(_=O(),pt.setEditorTimeout(e,function(){_()}))})},M=function(){e.on("keydown",function(O){if(!p(O)&&O.keyCode===n&&i.isCollapsed()&&i.getRng().startOffset===0){var N=i.getNode().previousSibling;if(N&&N.nodeName&&N.nodeName.toLowerCase()==="table")return O.preventDefault(),!1}})},Q=function(){e.on("keydown",function(O){var N,D;if(!(p(O)||O.keyCode!==ue.BACKSPACE)){N=i.getRng();var _=N.startContainer,W=N.startOffset,K=a.getRoot();if(D=_,!(!N.collapsed||W!==0)){for(;D&&D.parentNode&&D.parentNode.firstChild===D&&D.parentNode!==K;)D=D.parentNode;D.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,D),N=a.createRng(),N.setStart(_,0),N.setEnd(_,0),i.setRng(N))}}})},J=function(){var O=function(){v("StyleWithCSS",!1),v("enableInlineTableEditing",!1),jp(e)||v("enableObjectResizing",!1)};Sx(e)||e.on("BeforeExecCommand mousedown",O)},I=function(){var O=function(){t(a.select("a"),function(N){var D=N.parentNode,_=a.getRoot();if(D.lastChild===N){for(;D&&!a.isBlock(D);){if(D.parentNode.lastChild!==D||D===_)return;D=D.parentNode}a.add(D,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(N){(N.type==="setcontent"||N.command==="mceInsertLink")&&O()})},se=function(){ht(e)&&e.on("init",function(){v("DefaultParagraphSeparator",ht(e))})},H=function(){e.on("keyup focusin mouseup",function(O){ue.modifierPressed(O)||i.normalize()},!0)},Z=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},z=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},q=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(O){var N;if(O.target.nodeName==="HTML"){if(pe.ie>11){e.getBody().focus();return}N=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(N),e.selection.normalize(),e.nodeChanged()}}))},X=function(){pe.mac&&e.on("keydown",function(O){if(ue.metaKeyPressed(O)&&!O.shiftKey&&(O.keyCode===37||O.keyCode===39)){O.preventDefault();var N=e.selection.getSel();N.modify("move",O.keyCode===37?"backward":"forward","lineboundary")}})},L=function(){v("AutoUrlDetect",!1)},G=function(){e.on("click",function(O){var N=O.target;do if(N.tagName==="A"){O.preventDefault();return}while(N=N.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ke=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(O){O.preventDefault()})})},Be=function(){o.addNodeFilter("br",function(O){for(var N=O.length;N--;)O[N].attr("class")==="Apple-interchange-newline"&&O[N].remove()})},Te=function(){e.on("dragstart",function(O){m(O)}),e.on("drop",function(O){if(!p(O)){var N=h(O);if(N&&N.id!==e.id){O.preventDefault();var D=ul(O.x,O.y,e.getDoc());i.setRng(D),d(N.html,!0)}}})},qe=we,Ve=function(){if(!u||e.removed)return!1;var O=e.selection.getSel();return!O||!O.rangeCount||O.rangeCount===0},Bt=function(){f&&(B(),ke(),g(),pe.iOS&&(z(),q(),G())),u&&(S(),J(),Z(),X())},St=function(){Q(),y(),pe.windowsPhone||H(),f&&(C(),B(),se(),ke(),M(),Be(),pe.iOS?(z(),q(),G()):g()),pe.ie>=11&&(q(),M()),pe.ie&&(g(),L(),Te()),u&&(w(),S(),F(),J(),I(),Z(),X(),M())};return jr(e)?Bt():St(),{refreshContentEditable:qe,isHidden:Ve}},Fc=Ie.DOM,GL=function(e,t){var n=x.fromDom(e.getBody()),r=Ds(Ar(n)),a=x.fromTag("style");Un(a,"type","text/css"),vt(a,x.fromText(t)),vt(r,a),e.on("remove",function(){dt(a)})},XL=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},Xb=function(e){return fi(e,function(t){return oi(t)===!1})},Yb=function(e){var t=e.settings,n=e.editorUpload.blobCache;return Xb({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:XL(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},YL=function(e){var t=e.settings;return Ce(Ce({},Yb(e)),Xb({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},QL=function(e){var t=cc(Yb(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(n,r){for(var a=n.length,i,o,u=e.dom,s="data-mce-"+r;a--;)if(i=n[a],o=i.attr(r),o&&!i.attr(s)){if(o.indexOf("data:")===0||o.indexOf("blob:")===0)continue;r==="style"?(o=u.serializeStyle(u.parseStyle(o),i.name),o.length||(o=null),i.attr(s,o),i.attr(r,o)):r==="tabindex"?(i.attr(s,o),i.attr(r,null)):i.attr(s,e.convertURL(o,r,i.name))}}),t.addNodeFilter("script",function(n){for(var r=n.length;r--;){var a=n[r],i=a.attr("type")||"no/type";i.indexOf("mce-")!==0&&a.attr("type","mce-"+i)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(n){for(var r=n.length;r--;){var a=n[r];a.type=8,a.name="#comment",a.value="[CDATA["+e.dom.encode(a.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(n){for(var r=n.length,a=e.schema.getNonEmptyElements();r--;){var i=n[r];i.isEmpty(a)&&i.getAll("br").length===0&&(i.append(new an("br",1)).shortEnded=!0)}}),t},ZL=function(e){e.settings.auto_focus&&pt.setEditorTimeout(e,function(){var t;e.settings.auto_focus===!0?t=e:t=e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},JL=function(e){var t=e.dom.getRoot();!e.inline&&(!ou(e)||e.selection.getStart(!0)===t)&&At(t).each(function(n){var r=n.getNode(),a=ha(r)?At(r).getOr(n):n;pe.browser.isIE()?YN(e,a.toRange()):e.selection.setRng(a.toRange())})},e$=function(e){e.bindPendingEventDelegates(),e.initialized=!0,Kk(e),e.focus(!0),JL(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),ZL(e)},Qb=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},t$=function(e,t,n){var r=[new rt(function(a,i){return Qb(e).loadAll(t,a,i)})];return e.inline?r:r.concat([new rt(function(a,i){return e.ui.styleSheetLoader.loadAll(n,a,i)})])},n$=function(e,t){var n=Qb(e),r=Wp(e),a=function(){n.unloadAll(t),e.inline||e.ui.styleSheetLoader.unloadAll(r)},i=function(){e.removed?a():(e.on("remove",a),e$(e))};rt.all(t$(e,t,r)).then(i).catch(i)},Mc=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();!t.browser_spellcheck&&!t.gecko_spellcheck&&(n.body.spellcheck=!1,Fc.setAttrib(r,"spellcheck","false")),e.quirks=KL(e),jk(e);var a=rx(e);if(a!==void 0&&(r.dir=a),t.protect&&e.on("BeforeSetContent",function(o){P.each(t.protect,function(u){o.content=o.content.replace(u,function(s){return"<!--mce:protected "+escape(s)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),jr(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(o){e.composing=o.type==="compositionstart"}),e.contentStyles.length>0){var i="";P.each(e.contentStyles,function(o){i+=o+`\r
`}),e.dom.addStyle(i)}n$(e,e.contentCSS),t.content_style&&GL(e,t.content_style)},Uc=function(e,t){var n=e.settings,r=e.getElement(),a=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),!t&&!e.inline&&(a.open(),a.write(e.iframeHTML),a.close()),e.inline&&(Fc.addClass(r,"mce-content-body"),e.contentDocument=a=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&Fc.getStyle(i,"position",!0)==="static"&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=ZD(e),e.schema=ir(n),e.dom=Ie(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:JS(e),referrerPolicy:Hp(e),onSetAttrib:function(u){e.fire("SetAttrib",u)}}),e.parser=QL(e),e.serializer=Vg(YL(e),e),e.selection=Ig(e.dom,e.getWin(),e.serializer,e),e.annotator=$m(e),e.formatter=oy(e),e.undoManager=uy(e),e._nodeChangeDispatcher=new dL(e),e._selectionOverrides=jL(e),h3(e),hL(e),jr(e)||yL(e);var o=vL(e);d3(e,o),w3(e),c2(e),Wk(e),OB(e).fold(function(){Mc(e)},function(u){e.setProgressState(!0),u.then(function(s){e.setProgressState(!1),Mc(e)},function(s){e.notificationManager.open({type:"error",text:String(s)}),Mc(e)})})},Ji=Ie.DOM,r$=function(e,t){if(document.domain!==window.location.hostname&&pe.browser.isIE()){var n=ny("mce");e[n]=function(){Uc(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Ji.setAttrib(t,"src",r),!0}return!1},a$=function(e,t,n,r){var a=x.fromTag("iframe");return er(a,r),er(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),jo(a,"tox-edit-area__iframe"),a},i$=function(e){var t=OS(e)+"<html><head>";IS(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=LS(e),r=$S(e);return Mp(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Mp(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>',t},o$=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=a$(e.id,n,t.height,DS(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var a=r$(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=i$(e),Ji.add(t.iframeContainer,r),a},u$=function(e,t){var n=o$(e,t);t.editorContainer&&(Ji.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Ji.isHidden(t.editorContainer)),e.getElement().style.display="none",Ji.setAttrib(e.id,"aria-hidden","true"),n||Uc(e)},Zb=Ie.DOM,Jb=function(e,t,n){var r=bn.get(n),a=bn.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=P.trim(n),r&&P.inArray(t,n)===-1){if(P.each(bn.dependencies(n),function(o){Jb(e,t,o)}),e.plugins[n])return;try{var i=new r(e,a,e.$);e.plugins[n]=i,i.init&&(i.init(e,a),t.push(n))}catch(o){zD(e,n,o)}}},e0=function(e){return e.replace(/^\-/,"")},s$=function(e){var t=[];P.each(If(e).split(/[ ,]/),function(n){Jb(e,t,e0(n))})},f$=function(e){var t=P.trim(zp(e)),n=e.ui.registry.getAll().icons,r=Ce(Ce({},Pu.get("default").icons),Pu.get(t).icons);je(r,function(a,i){ct(n,i)||e.ui.registry.addIcon(i,a)})},l$=function(e){var t=Bi(e);if(xe(t)){e.settings.theme=e0(t);var n=yr.get(t);e.theme=new n(e,yr.urls[t]),e.theme.init&&e.theme.init(e,yr.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},c$=function(e){return e.theme.renderUI()},v$=function(e){var t=e.getElement(),n=Bi(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},t0=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},d$=function(e){var t=Zb.create("div");return Zb.insertAfter(t,e),t0(t)},p$=function(e){var t=e.getElement();return e.inline?t0(null):d$(t)},m$=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,xe(Bi(e))?c$(e):ft(Bi(e))?v$(e):p$(e)},h$=function(e,t){var n={show:b.from(t.show).getOr(we),hide:b.from(t.hide).getOr(we),disable:b.from(t.disable).getOr(we),isDisabled:b.from(t.isDisabled).getOr(Pe),enable:function(){e.mode.isReadOnly()||b.from(t.enable).map(K0)}};e.ui=Ce(Ce({},e.ui),n)},n0=function(e){e.fire("ScriptsLoaded"),f$(e),l$(e),s$(e);var t=m$(e);h$(e,b.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,WD(e),e.inline?Uc(e):u$(e,n)},Qr=Ie.DOM,r0=function(e){return e.charAt(0)==="-"},g$=function(e,t){var n=Vp(t),r=ex(t);if(pn.hasCode(n)===!1&&n!=="en"){var a=r!==""?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(a,we,void 0,function(){UD(t,a,n)})}},y$=function(e,t,n,r){var a=Bi(t);if(xe(a)){if(!r0(a)&&!yr.urls.hasOwnProperty(a)){var i=dx(t);i?yr.load(a,t.documentBaseURI.toAbsolute(i)):yr.load(a,"themes/"+a+"/theme"+n+".js")}e.loadQueue(function(){yr.waitFor(a,r)})}else r()},b$=function(e){return b.from(GS(e)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:b.none()}})},a0=function(e,t,n){return b.from(t).filter(function(r){return r.length>0&&!Pu.has(r)}).map(function(r){return{url:e.editorManager.baseURL+"/icons/"+r+"/icons"+n+".js",name:b.some(r)}})},C$=function(e,t,n){var r=a0(t,"default",n),a=b$(t).orThunk(function(){return a0(t,zp(t),"")});te(iS([r,a]),function(i){e.add(i.url,we,void 0,function(){MD(t,i.url,i.name.getOrUndefined())})})},w$=function(e,t){P.each(kx(e),function(n,r){bn.load(r,n,we,void 0,function(){hc(e,n,r)}),e.settings.plugins+=" "+r}),P.each(If(e).split(/[ ,]/),function(n){if(n=P.trim(n),n&&!bn.urls[n])if(r0(n)){n=n.substr(1,n.length);var r=bn.dependencies(n);P.each(r,function(i){var o={prefix:"plugins/",resource:i,suffix:"/plugin"+t+".js"},u=bn.createUrl(o,i);bn.load(u.resource,u,we,void 0,function(){hc(e,u.prefix+u.resource+u.suffix,u.resource)})})}else{var a={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};bn.load(n,a,we,void 0,function(){hc(e,a.prefix+a.resource+a.suffix,n)})}})},E$=function(e,t){var n=Vn.ScriptLoader;y$(n,e,t,function(){g$(n,e),C$(n,e,t),w$(e,t),n.loadQueue(function(){e.removed||n0(e)},e,function(){e.removed||n0(e)})})},S$=function(e,t){return wd.forElement(e,{contentCssCors:xx(t),referrerPolicy:Hp(t)})},x$=function(e){var t=e.id;pn.setCode(Vp(e));var n=function(){Qr.unbind(window,"ready",n),e.render()};if(!Na.Event.domLoaded){Qr.bind(window,"ready",n);return}if(!!e.getElement()&&!!pe.contentEditable){var r=x.fromDom(e.getElement()),a=S1(r);e.on("remove",function(){tv(r.dom.attributes,function(o){return Rr(r,o.name)}),er(r,a)}),e.ui.styleSheetLoader=S$(r,e),px(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||Qr.getParent(t,"form");i&&(e.formElement=i,mx(e)&&!$s(e.getElement())&&(Qr.insertAfter(Qr.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(o){e.fire(o.type,o)},Qr.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),hx(e)&&!i.submit.nodeType&&!i.submit.length&&!i._mceOldSubmit&&(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=Zg(e),e.notificationManager=Qg(e),gx(e)&&e.on("GetContent",function(o){o.save&&(o.content=Qr.encode(o.content))}),yx(e)&&e.on("submit",function(){e.initialized&&e.save()}),bx(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),E$(e,e.suffix)}},k$=function(e,t){return iP(e,t)},N$={"font-size":"size","font-family":"face"},_$=function(e,t,n){var r=function(i){return Us(i,e).orThunk(function(){return Xe(i)==="font"?qt(N$,e).bind(function(o){return od(i,o)}):b.none()})},a=function(i){return Fe(x.fromDom(t),i)};return Hl(x.fromDom(n),function(i){return r(i)},a)},T$=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},A$=function(e,t){return b.from(Ie.DOM.getStyle(t,e,!0))},i0=function(e){return function(t,n){return b.from(n).map(x.fromDom).filter(Sn).bind(function(r){return _$(e,t,r.dom).or(A$(e,r.dom))}).getOr("")}},R$=i0("font-size"),B$=Nr(T$,i0("font-family")),P$=function(e){return At(e.getBody()).map(function(t){var n=t.container();return ne(n)?n.parentNode:n})},D$=function(e){return b.from(e.selection.getRng()).bind(function(t){var n=e.getBody(),r=t.startContainer===n&&t.startOffset===0;return r?b.none():b.from(e.selection.getStart(!0))})},zc=function(e,t){return D$(e).orThunk(Y(P$,e)).map(x.fromDom).filter(Sn).map(t)},o0=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=VS(e),a=qS(e);return a?a[n-1]||t:r[n-1]||t}else return t}else return t},O$=function(e){var t=e.split(/\s*,\s*/);return Ue(t,function(n){return n.indexOf(" ")!==-1&&!(ca(n,'"')||ca(n,"'"))?"'"+n+"'":n}).join(",")},I$=function(e,t){var n=o0(e,t);e.formatter.toggle("fontname",{value:O$(n)}),e.nodeChanged()},L$=function(e){return zc(e,function(t){return B$(e.getBody(),t.dom)}).getOr("")},$$=function(e,t){e.formatter.toggle("fontsize",{value:o0(e,t)}),e.nodeChanged()},F$=function(e){return zc(e,function(t){return R$(e.getBody(),t.dom)}).getOr("")},M$=function(e){return zc(e,function(t){var n=x.fromDom(e.getBody()),r=Hl(t,function(i){return Us(i,"line-height")},Y(Fe,n)),a=function(){var i=parseFloat(zn(t,"line-height")),o=parseFloat(zn(t,"font-size"));return String(i/o)};return r.getOrThunk(a)}).getOr("")},U$=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},z$=function(e){var t;return typeof e!="string"?(t=P.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},H$=function(e,t){var n=z$(t);rP(e,n.content,n.details)},rs=P.each,V$=P.map,q$=P.inArray,u0=function(){function e(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return e.prototype.execCommand=function(t,n,r,a){var i,o=!1,u=this;if(!u.editor.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)&&(!a||!a.skip_focus)?u.editor.focus():QN(u.editor),a=u.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r}),a.isDefaultPrevented())return!1;var s=t.toLowerCase();if(i=u.commands.exec[s])return i(s,n,r),u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(rs(this.editor.plugins,function(f){if(f.execCommand&&f.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),o=!0,!1}),o)return o;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{o=u.editor.getDoc().execCommand(t,n,r)}catch{}return o?(u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0):!1}},e.prototype.queryCommandState=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.state[t])return n(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},e.prototype.queryCommandValue=function(t){var n;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(t=t.toLowerCase(),n=this.commands.value[t])return n(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},e.prototype.addCommands=function(t,n){n===void 0&&(n="exec");var r=this;rs(t,function(a,i){rs(i.toLowerCase().split(","),function(o){r.commands[n][o]=a})})},e.prototype.addCommand=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.exec[t]=function(i,o,u,s){return n.call(r||a.editor,o,u,s)}},e.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},e.prototype.addQueryStateHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.state[t]=function(){return n.call(r||a.editor)}},e.prototype.addQueryValueHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.value[t]=function(){return n.call(r||a.editor)}},e.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},e.prototype.execNativeCommand=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=null),this.editor.getDoc().execCommand(t,n,r)},e.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},e.prototype.toggleFormat=function(t,n){this.editor.formatter.toggle(t,n?{value:n}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(t){var n=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":we,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(a){var i=t.getDoc(),o;try{n.execNativeCommand(a)}catch{o=!0}if(a==="paste"&&!i.queryCommandEnabled(a)&&(o=!0),o||!i.queryCommandSupported(a)){var u=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");pe.mac&&(u=u.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:u,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var i=a.substring(7);i==="full"&&(i="justify"),rs("left,center,right,justify".split(","),function(o){i!==o&&t.formatter.remove("align"+o)}),i!=="none"&&n.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(a){var i;n.execNativeCommand(a);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(i=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(n.storeSelection(),t.dom.split(i,o),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){n.toggleFormat(a)},"ForeColor,HiliteColor":function(a,i,o){n.toggleFormat(a,o)},FontName:function(a,i,o){I$(t,o)},FontSize:function(a,i,o){$$(t,o)},LineHeight:function(a,i,o){U$(t,o)},RemoveFormat:function(a){t.formatter.remove(a)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(a,i,o){return n.toggleFormat(o||"p")},mceCleanup:function(){var a=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(a)},mceRemoveNode:function(a,i,o){var u=o||t.selection.getNode();u!==t.getBody()&&(n.storeSelection(),t.dom.remove(u,!0),n.restoreSelection())},mceSelectNodeDepth:function(a,i,o){var u=0;t.dom.getParent(t.selection.getNode(),function(s){if(s.nodeType===1&&u++===o)return t.selection.select(s),!1},t.getBody())},mceSelectNode:function(a,i,o){t.selection.select(o)},mceInsertContent:function(a,i,o){H$(t,o)},mceInsertRawHTML:function(a,i,o){t.selection.setContent("tiny_mce_marker");var u=t.getContent();t.setContent(u.replace(/tiny_mce_marker/g,function(){return o}))},mceInsertNewLine:function(a,i,o){Mb(t,o)},mceToggleFormat:function(a,i,o){n.toggleFormat(o)},mceSetContent:function(a,i,o){t.setContent(o)},"Indent,Outdent":function(a){ab(t,a)},mceRepaint:we,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(a,i,o){t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(a,i,o){typeof o=="string"&&(o={href:o});var u=t.dom.getParent(t.selection.getNode(),"a");o.href=o.href.replace(/ /g,"%20"),(!u||!o.href)&&t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,u)},selectAll:function(){var a=t.dom.getParent(t.selection.getStart(),xn);if(a){var i=t.dom.createRng();i.selectNodeContents(a),t.selection.setRng(i)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(a,i,o){return Ob(t,o),!0}});var r=function(a){return function(){var i=t.selection,o=i.isCollapsed()?[t.dom.getParent(i.getNode(),t.dom.isBlock)]:i.getSelectedBlocks(),u=V$(o,function(s){return!!t.formatter.matchNode(s,a)});return q$(u,!0)!==-1}};n.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return n.isFormatMatch(a)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return tb(t)},"InsertUnorderedList,InsertOrderedList":function(a){var i=t.dom.getParent(t.selection.getNode(),"ul,ol");return i&&(a==="insertunorderedlist"&&i.tagName==="UL"||a==="insertorderedlist"&&i.tagName==="OL")}},"state"),n.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),n.addQueryValueHandler("FontName",function(){return L$(t)},this),n.addQueryValueHandler("FontSize",function(){return F$(t)},this),n.addQueryValueHandler("LineHeight",function(){return M$(t)},this)},e}(),Zr="data-mce-contenteditable",W$=function(e,t,n){ap(e,t)&&n===!1?XE(e,t):n&&jo(e,t)},Hc=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch{}},as=function(e,t){e.dom.contentEditable=t?"true":"false"},j$=function(e){te(Dt(e,'*[contenteditable="true"]'),function(t){Un(t,Zr,"true"),as(t,!1)})},K$=function(e){te(Dt(e,"*["+Zr+'="true"]'),function(t){Rr(t,Zr),as(t,!0)})},G$=function(e){b.from(e.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},X$=function(e){e.selection.setRng(e.selection.getRng())},Y$=function(e,t){var n=x.fromDom(e.getBody());W$(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),G$(e),e.readonly=!0,as(n,!1),j$(n)):(e.readonly=!1,as(n,!0),K$(n),Hc(e,"StyleWithCSS",!1),Hc(e,"enableInlineTableEditing",!1),Hc(e,"enableObjectResizing",!1),y_(e)&&e.focus(),X$(e),e.nodeChanged())},Jr=function(e){return e.readonly},s0=function(e){e.parser.addAttributeFilter("contenteditable",function(t){Jr(e)&&te(t,function(n){n.attr(Zr,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Zr,function(t){Jr(e)&&te(t,function(n){n.attr("contenteditable",n.attr(Zr))})}),e.serializer.addTempAttr(Zr)},Q$=function(e){e.serializer?s0(e):e.on("PreInit",function(){s0(e)})},Z$=function(e){return e.type==="click"},J$=function(e,t){var n=function(r){return Fe(r,x.fromDom(e.getBody()))};return Hs(t,"a",n).bind(function(r){return od(r,"href")})},eF=function(e,t){if(Z$(t)&&!ue.metaKeyPressed(t)){var n=x.fromDom(t.target);J$(e,n).each(function(r){if(t.preventDefault(),/^#/.test(r)){var a=e.dom.select(r+',[name="'+CC(r,"#")+'"]');a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},tF=function(e){e.on("ShowCaret",function(t){Jr(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){Jr(e)&&t.preventDefault()})},nF=P.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Vc=function(){function e(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Pe}return e.isNative=function(t){return!!nF[t.toLowerCase()]},e.prototype.fire=function(t,n){var r=t.toLowerCase(),a=n||{};a.type=r,a.target||(a.target=this.scope),a.preventDefault||(a.preventDefault=function(){a.isDefaultPrevented=lt},a.stopPropagation=function(){a.isPropagationStopped=lt},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=lt},a.isDefaultPrevented=Pe,a.isPropagationStopped=Pe,a.isImmediatePropagationStopped=Pe),this.settings.beforeFire&&this.settings.beforeFire(a);var i=this.bindings[r];if(i)for(var o=0,u=i.length;o<u;o++){var s=i[o];if(s.once&&this.off(r,s.func),a.isImmediatePropagationStopped())return a.stopPropagation(),a;if(s.func.call(this.scope,a)===!1)return a.preventDefault(),a}return a},e.prototype.on=function(t,n,r,a){if(n===!1&&(n=Pe),n){var i={func:n};a&&P.extend(i,a);for(var o=t.toLowerCase().split(" "),u=o.length;u--;){var s=o[u],f=this.bindings[s];f||(f=this.bindings[s]=[],this.toggleEvent(s,!0)),r?f.unshift(i):f.push(i)}}return this},e.prototype.off=function(t,n){var r=this;if(t)for(var a=t.toLowerCase().split(" "),i=a.length;i--;){var o=a[i],u=this.bindings[o];if(!o)return je(this.bindings,function(f,c){r.toggleEvent(c,!1),delete r.bindings[c]}),this;if(u){if(!n)u.length=0;else for(var s=u.length;s--;)u[s].func===n&&(u=u.slice(0,s).concat(u.slice(s+1)),this.bindings[o]=u);u.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}else je(this.bindings,function(f,c){r.toggleEvent(c,!1)}),this.bindings={};return this},e.prototype.once=function(t,n,r){return this.on(t,n,r,{once:!0})},e.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},e}(),eo=function(e){return e._eventDispatcher||(e._eventDispatcher=new Vc({scope:e,toggleEvent:function(t,n){Vc.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},is={fire:function(e,t,n){var r=this;if(r.removed&&e!=="remove"&&e!=="detach")return t;var a=eo(r).fire(e,t);if(n!==!1&&r.parent)for(var i=r.parent();i&&!a.isPropagationStopped();)i.fire(e,a,!1),i=i.parent();return a},on:function(e,t,n){return eo(this).on(e,t,n)},off:function(e,t){return eo(this).off(e,t)},once:function(e,t){return eo(this).once(e,t)},hasEventListeners:function(e){return eo(this).has(e)}},os=Ie.DOM,ea,us=function(e,t){if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Kp(e);return n?(e.eventRoot||(e.eventRoot=os.select(n)[0]),e.eventRoot):e.getBody()},rF=function(e){return!e.hidden&&!Jr(e)},f0=function(e,t,n){rF(e)?e.fire(t,n):Jr(e)&&eF(e,n)},l0=function(e,t){var n;if(e.delegates||(e.delegates={}),!(e.delegates[t]||e.removed)){var r=us(e,t);if(Kp(e)){if(ea||(ea={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||ea&&(je(ea,function(a,i){e.dom.unbind(us(e,i))}),ea=null)})),ea[t])return;n=function(a){for(var i=a.target,o=e.editorManager.get(),u=o.length;u--;){var s=o[u].getBody();(s===i||os.isChildOf(i,s))&&f0(o[u],t,a)}},ea[t]=n,os.bind(r,t,n)}else n=function(a){f0(e,t,a)},os.bind(r,t,n),e.delegates[t]=n}},c0=Ce(Ce({},is),{bindPendingEventDelegates:function(){var e=this;P.each(e._pendingNativeEvents,function(t){l0(e,t)})},toggleNativeEvent:function(e,t){var n=this;e==="focus"||e==="blur"||(t?n.initialized?l0(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(us(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(je(e.delegates,function(r,a){e.dom.unbind(us(e,a),a,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),aF=["design","readonly"],v0=function(e,t,n,r){var a=n[t.get()],i=n[r];try{i.activate()}catch(o){console.error("problem while activating editor mode "+r+":",o);return}a.deactivate(),a.editorReadOnly!==i.editorReadOnly&&Y$(e,i.editorReadOnly),t.set(r),Hk(e,r)},iF=function(e,t,n,r){if(r!==n.get()){if(!ct(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?v0(e,n,t,r):e.on("init",function(){return v0(e,n,t,r)})}},oF=function(e,t,n){var r;if(nt(aF,t))throw new Error("Cannot override default mode "+t);return Ce(Ce({},e),(r={},r[t]=Ce(Ce({},n),{deactivate:function(){try{n.deactivate()}catch(a){console.error("problem while deactivating editor mode "+t+":",a)}}}),r))},uF=function(e){var t=Ye("design"),n=Ye({design:{activate:we,deactivate:we,editorReadOnly:!1},readonly:{activate:we,deactivate:we,editorReadOnly:!0}});return Q$(e),tF(e),{isReadOnly:function(){return Jr(e)},set:function(r){return iF(e,n.get(),t,r)},get:function(){return t.get()},register:function(r,a){n.set(oF(n.get(),r,a))}}},qc=P.each,Wc=P.explode,sF={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},d0=P.makeMap("alt,ctrl,shift,meta,access"),fF=function(e){var t,n={};qc(Wc(e.toLowerCase(),"+"),function(a){a in d0?n[a]=!0:/^[0-9]{2,}$/.test(a)?n.keyCode=parseInt(a,10):(n.charCode=a.charCodeAt(0),n.keyCode=sF[a]||a.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in d0)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,pe.mac?n.ctrl=!0:n.shift=!0),n.meta&&(pe.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},p0=function(){function e(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",function(r){(n.hasModifier(r)||n.isFunctionKey(r))&&!r.isDefaultPrevented()&&(qc(n.shortcuts,function(a){if(n.matchShortcut(r,a))return n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a),!0}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}return e.prototype.add=function(t,n,r,a){var i=this,o=i.normalizeCommandFunc(r);return qc(Wc(P.trim(t)),function(u){var s=i.createShortcut(u,n,o,a);i.shortcuts[s.id]=s}),!0},e.prototype.remove=function(t){var n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1},e.prototype.normalizeCommandFunc=function(t){var n=this,r=t;return typeof r=="string"?function(){n.editor.execCommand(r,!1,null)}:P.isArray(r)?function(){n.editor.execCommand(r[0],r[1],r[2])}:r},e.prototype.createShortcut=function(t,n,r,a){var i=P.map(Wc(t,">"),fF);return i[i.length-1]=P.extend(i[i.length-1],{func:r,scope:a||this.editor}),P.extend(i[0],{desc:this.editor.translate(n),subpatterns:i.slice(1)})},e.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},e.prototype.isFunctionKey=function(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123},e.prototype.matchShortcut=function(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},e}(),lF=function(){var e={},t={},n={},r={},a={},i={},o={},u=function(f,c){return function(l,v){return f[l.toLowerCase()]=Ce(Ce({},v),{type:c})}},s=function(f,c){return r[f.toLowerCase()]=c};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(o,"sidebar"),addIcon:s,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:a,contextToolbars:i,sidebars:o}}}},cF=function(){var e=lF();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},m0=P.each,vF=P.trim,dF="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),pF={ftp:21,http:80,https:443,mailto:25},ta=function(){function e(t,n){t=vF(t),this.settings=n||{};var r=this.settings.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t;return}var i=t.indexOf("//")===0;if(t.indexOf("/")===0&&!i&&(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var o=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")t="//mce_host"+a.toAbsPath(o,t);else{var u=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(o,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);m0(dF,function(f,c){var l=s[c];l&&(l=l.replace(/\(mce_at\)/g,"@@")),a[f]=l}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),i&&(a.protocol="")}return e.parseDataUri=function(t){var n,r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(n=a[1]),{type:n,data:r[1]}},e.getDocumentBaseUrl=function(t){var n;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?n=t.href:n=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n},e.prototype.setPath=function(t){var n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if(t==="./")return t;var r=new e(t,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();var a=this.getURI(),i=r.getURI();return a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i?a:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var n=pF[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1},e.prototype.toRelPath=function(t,n){var r=0,a="",i,o,u=t.substring(0,t.lastIndexOf("/")).split("/"),s=n.split("/");if(u.length>=s.length){for(i=0,o=u.length;i<o;i++)if(i>=s.length||u[i]!==s[i]){r=i+1;break}}if(u.length<s.length){for(i=0,o=s.length;i<o;i++)if(i>=u.length||u[i]!==s[i]){r=i+1;break}}if(r===1)return n;for(i=0,o=u.length-(r-1);i<o;i++)a+="../";for(i=r-1,o=s.length;i<o;i++)i!==r-1?a+="/"+s[i]:a+=s[i];return a},e.prototype.toAbsPath=function(t,n){var r,a=0,i=[],o,u=/\/$/.test(n)?"/":"",s=t.split("/"),f=n.split("/");for(m0(s,function(c){c&&i.push(c)}),s=i,r=f.length-1,i=[];r>=0;r--)if(!(f[r].length===0||f[r]===".")){if(f[r]===".."){a++;continue}if(a>0){a--;continue}i.push(f[r])}return r=s.length-a,r<=0?o=vo(i).join("/"):o=s.slice(0,r).join("/")+"/"+vo(i).join("/"),o.indexOf("/")!==0&&(o="/"+o),u&&o.lastIndexOf("/")!==o.length-1&&(o+=u),o},e.prototype.getURI=function(t){t===void 0&&(t=!1);var n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source},e}(),na=Ie.DOM,h0=P.extend,mF=P.each,g0=P.resolve,hF=pe.ie,ss=function(){function e(t,n,r){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,h0(this,c0),this.settings=ED(this,t,this.documentBaseUrl,r.defaultSettings,n),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(Vn.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ie.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Mt.languageLoad=this.settings.language_load,Mt.baseURL=r.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new ta(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new p0(this),this.editorCommands=new u0(this),this.settings.cache_suffix&&(pe.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:cF(),styleSheetLoader:void 0,show:we,hide:we,enable:we,disable:we,isDisabled:Pe};var i=this,o=uF(i);this.mode=o,this.setMode=o.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=de.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}return e.prototype.render=function(){x$(this)},e.prototype.focus=function(t){C_(this,t)},e.prototype.hasFocus=function(){return Vr(this)},e.prototype.execCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this,i=a.settings[t],o;if(!!i)return a.callbackLookup&&(o=a.callbackLookup[t])&&(i=o.func,o=o.scope),typeof i=="string"&&(o=i.replace(/\.\w+$/,""),o=o?g0(o):0,i=g0(i),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[t]={func:i,scope:o}),i.apply(o||a,n)},e.prototype.translate=function(t){return pn.translate(t)},e.prototype.getParam=function(t,n,r){return kD(this,t,n,r)},e.prototype.hasPlugin=function(t,n){var r=nt(If(this).split(/[ ,]/),t);return r?n?bn.get(t)!==void 0:!0:!1},e.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},e.prototype.addCommand=function(t,n,r){this.editorCommands.addCommand(t,n,r)},e.prototype.addQueryStateHandler=function(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)},e.prototype.addQueryValueHandler=function(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)},e.prototype.addShortcut=function(t,n,r,a){this.shortcuts.add(t,n,r,a)},e.prototype.execCommand=function(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)},e.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},e.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},e.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},e.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(na.show(t.getContainer()),na.hide(t.id)),t.load(),t.fire("show"))},e.prototype.hide=function(){var t=this,n=t.getDoc();t.hidden||(hF&&n&&!t.inline&&n.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(na.hide(t.getContainer()),na.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(t,n){this.fire("ProgressState",{state:t,time:n})},e.prototype.load=function(t){var n=this,r=n.getElement(),a;if(n.removed)return"";if(r){t=t||{},t.load=!0;var i=$s(r)?r.value:r.innerHTML;return a=n.setContent(i,t),t.element=r,t.no_events||n.fire("LoadContent",t),t.element=r=null,a}},e.prototype.save=function(t){var n=this,r=n.getElement(),a,i;if(!(!r||!n.initialized||n.removed))return t=t||{},t.save=!0,t.element=r,a=t.content=n.getContent(t),t.no_events||n.fire("SaveContent",t),t.format==="raw"&&n.fire("RawSaveContent",t),a=t.content,$s(r)?r.value=a:((t.is_removing||!n.inline)&&(r.innerHTML=a),(i=na.getParent(n.id,"form"))&&mF(i.elements,function(o){if(o.name===n.id)return o.value=a,!1})),t.element=r=null,t.set_dirty!==!1&&n.setDirty(!1),a},e.prototype.setContent=function(t,n){return vc(this,t,n)},e.prototype.getContent=function(t){return YP(this,t)},e.prototype.insertContent=function(t,n){n&&(console.log(n),t=h0({content:t},n)),this.execCommand("mceInsertContent",!1,t)},e.prototype.resetContent=function(t){t===void 0?vc(this,this.startContent,{format:"raw"}):vc(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(t){var n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.fire("dirty")},e.prototype.getContainer=function(){var t=this;return t.container||(t.container=na.get(t.editorContainer||t.id+"_parent")),t.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=na.get(this.id)),this.targetElm},e.prototype.getWin=function(){var t=this,n;return t.contentWindow||(n=t.iframeElement,n&&(t.contentWindow=n.contentWindow)),t.contentWindow},e.prototype.getDoc=function(){var t=this,n;return t.contentDocument||(n=t.getWin(),n&&(t.contentDocument=n.document)),t.contentDocument},e.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},e.prototype.convertURL=function(t,n,r){var a=this,i=a.settings;return i.urlconverter_callback?a.execCallback("urlconverter_callback",t,r,!0,n):!i.convert_urls||r&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:i.relative_urls?a.documentBaseURI.toRelative(t):(t=a.documentBaseURI.toAbsolute(t,i.remove_script_host),t)},e.prototype.addVisual=function(t){k$(this,t)},e.prototype.remove=function(){eD(this)},e.prototype.destroy=function(t){tD(this,t)},e.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),on=Ie.DOM,gF=P.explode,$n=P.each,yF=P.extend,bF=0,y0=!1,fs,Cr=[],Rt=[],CF=function(e){return e!=="length"},b0=function(e){var t=e.type;$n(wr.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e);break}})},C0=function(e){e!==y0&&(e?de(window).on("resize scroll",b0):de(window).off("resize scroll",b0),y0=e)},w0=function(e){var t=Rt;delete Cr[e.id];for(var n=0;n<Cr.length;n++)if(Cr[n]===e){Cr.splice(n,1);break}return Rt=_e(Rt,function(r){return e!==r}),wr.activeEditor===e&&(wr.activeEditor=Rt.length>0?Rt[0]:null),wr.focusedEditor===e&&(wr.focusedEditor=null),t.length!==Rt.length},wF=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(w0(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},EF=document.compatMode!=="CSS1Compat",wr=Ce(Ce({},is),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:de,majorVersion:"5",minorVersion:"8.1",releaseDate:"2021-05-20",editors:Cr,i18n:pn,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,t,n,r="";n=ta.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,r=a.suffix;else{for(var i=document.getElementsByTagName("script"),o=0;o<i.length;o++){var u=i[o].src||"";if(u!==""){var s=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){s.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var u=document.currentScript.src;u.indexOf(".min")!==-1&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new ta(n).toAbsolute(t),e.documentBaseURL=n,e.baseURI=new ta(e.baseURL),e.suffix=r,l_(e)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;r!==void 0&&je(r,function(a,i){Mt.PluginManager.urls[i]=a})},init:function(e){var t=this,n,r=P.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(l,v){return l.inline&&v.tagName.toLowerCase()in r},i=function(l){var v=l.id;return v||(v=qt(l,"name").filter(function(p){return!on.get(p)}).getOrThunk(on.uniqueId),l.setAttribute("id",v)),v},o=function(l){var v=e[l];if(!!v)return v.apply(t,[])},u=function(l,v){return v.constructor===RegExp?v.test(l.className):on.hasClass(l,v)},s=function(l){var v=[];if(pe.browser.isIE()&&pe.browser.version.major<11)return Ou("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(EF)return Ou("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(l.types)return $n(l.types,function(m){v=v.concat(on.select(m.selector))}),v;if(l.selector)return on.select(l.selector);if(l.target)return[l.target];switch(l.mode){case"exact":var p=l.elements||"";p.length>0&&$n(gF(p),function(m){var h=on.get(m);h?v.push(h):$n(document.forms,function(d){$n(d.elements,function(y){y.name===m&&(m="mce_editor_"+bF++,on.setAttrib(y,"id",m),v.push(y))})})});break;case"textareas":case"specific_textareas":$n(on.select("textarea"),function(m){l.editor_deselector&&u(m,l.editor_deselector)||(!l.editor_selector||u(m,l.editor_selector))&&v.push(m)});break}return v},f=function(l){n=l},c=function(){var l=0,v=[],p,m=function(h,d,y){var g=new ss(h,d,t);v.push(g),g.on("init",function(){++l===p.length&&f(v)}),g.targetElm=g.targetElm||y,g.render()};if(on.unbind(window,"ready",c),o("onpageload"),p=de.unique(s(e)),e.types){$n(e.types,function(h){P.each(p,function(d){return on.is(d,h.selector)?(m(i(d),yF({},e,h),d),!1):!0})});return}P.each(p,function(h){wF(t.get(h.id))}),p=P.grep(p,function(h){return!t.get(h.id)}),p.length===0?f([]):$n(p,function(h){a(e,h)?Ou("Could not initialize inline editor on invalid inline target element",h):m(i(h),e,h)})};return t.settings=e,on.bind(window,"ready",c),new rt(function(l){n?l(n):f=function(v){l(v)}})},get:function(e){return arguments.length===0?Rt.slice(0):xe(e)?Nt(Rt,function(t){return t.id===e}).getOr(null):fa(e)&&Rt[e]?Rt[e]:null},add:function(e){var t=this,n=Cr[e.id];return n===e||(t.get(e.id)===null&&(CF(e.id)&&(Cr[e.id]=e),Cr.push(e),Rt.push(e)),C0(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),fs||(fs=function(r){var a=t.fire("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",fs))),e},createEditor:function(e,t){return this.add(new ss(e,t,this))},remove:function(e){var t=this,n,r;if(!e){for(n=Rt.length-1;n>=0;n--)t.remove(Rt[n]);return}if(xe(e)){$n(on.select(e),function(a){r=t.get(a.id),r&&t.remove(r)});return}return r=e,q0(t.get(r.id))?null:(w0(r)&&t.fire("RemoveEditor",{editor:r}),Rt.length===0&&window.removeEventListener("beforeunload",fs),r.remove(),C0(Rt.length>0),r)},execCommand:function(e,t,n){var r=this,a=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new ss(n,r.settings,r).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return r.activeEditor?r.activeEditor.execCommand(e,t,n):!1},triggerSave:function(){$n(Rt,function(e){e.save()})},addI18n:function(e,t){pn.add(e,t)},translate:function(e){return pn.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new ta(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ta(this.baseURL)}});wr.setup();var E0=Math.min,ei=Math.max,ls=Math.round,S0=function(e,t,n){var r=t.x,a=t.y,i=e.w,o=e.h,u=t.w,s=t.h,f=(n||"").split("");return f[0]==="b"&&(a+=s),f[1]==="r"&&(r+=u),f[0]==="c"&&(a+=ls(s/2)),f[1]==="c"&&(r+=ls(u/2)),f[3]==="b"&&(a-=o),f[4]==="r"&&(r-=i),f[3]==="c"&&(a-=ls(o/2)),f[4]==="c"&&(r-=ls(i/2)),ti(r,a,i,o)},SF=function(e,t,n,r){var a,i;for(i=0;i<r.length;i++)if(a=S0(e,t,r[i]),a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[i];return null},xF=function(e,t,n){return ti(e.x-t,e.y-n,e.w+t*2,e.h+n*2)},kF=function(e,t){var n=ei(e.x,t.x),r=ei(e.y,t.y),a=E0(e.x+e.w,t.x+t.w),i=E0(e.y+e.h,t.y+t.h);return a-n<0||i-r<0?null:ti(n,r,a-n,i-r)},NF=function(e,t,n){var r=e.x,a=e.y,i=e.x+e.w,o=e.y+e.h,u=t.x+t.w,s=t.y+t.h,f=ei(0,t.x-r),c=ei(0,t.y-a),l=ei(0,i-u),v=ei(0,o-s);return r+=f,a+=c,n&&(i+=f,o+=c,r-=l,a-=v),i-=l,o-=v,ti(r,a,i-r,o-a)},ti=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},_F=function(e){return ti(e.left,e.top,e.width,e.height)},TF={inflate:xF,relativePosition:S0,findBestRelativePosition:SF,intersect:kF,clamp:NF,create:ti,fromClientRect:_F},AF=function(e,t,n){n===void 0&&(n=1e3);var r=!1,a=null,i=function(f){return function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];r||(r=!0,a!==null&&(clearTimeout(a),a=null),f.apply(null,c))}},o=i(e),u=i(t),s=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];!r&&a===null&&(a=setTimeout(function(){return u.apply(null,f)},n))};return{start:s,resolve:o,reject:u}},RF=function(){var e={},t={},n=function(a,i){var o='Script at URL "'+i+'" failed to load',u='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+a+"', data)` within 1 second";if(e[a]!==void 0)return e[a];var s=new rt(function(f,c){var l=AF(f,c);t[a]=l.resolve,Vn.ScriptLoader.loadScript(i,function(){return l.start(u)},function(){return l.reject(o)})});return e[a]=s,s},r=function(a,i){t[a]!==void 0&&(t[a](i),delete t[a]),e[a]=rt.resolve(i)};return{load:n,add:r}},BF=RF(),cs=P.each,PF=P.extend,x0,jc,k0=function(){};k0.extend=x0=function(e){var t=this,n=t.prototype,r=function(){var u,s,f,c=this;if(!jc&&(c.init&&c.init.apply(c,arguments),s=c.Mixins,s))for(u=s.length;u--;)f=s[u],f.init&&f.init.apply(c,arguments)},a=function(){return this},i=function(u,s){return function(){var f=this,c=f._super;f._super=n[u];var l=s.apply(f,arguments);return f._super=c,l}};jc=!0;var o=new t;return jc=!1,e.Mixins&&(cs(e.Mixins,function(u){for(var s in u)s!=="init"&&(e[s]=u[s])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&cs(e.Methods.split(","),function(u){e[u]=a}),e.Properties&&cs(e.Properties.split(","),function(u){var s="_"+u;e[u]=function(f){var c=this;return f!==void 0?(c[s]=f,c):c[s]}}),e.Statics&&cs(e.Statics,function(u,s){r[s]=u}),e.Defaults&&n.Defaults&&(e.Defaults=PF({},n.Defaults,e.Defaults)),je(e,function(u,s){typeof u=="function"&&n[s]?o[s]=i(s,u):o[s]=u}),r.prototype=o,r.constructor=r,r.extend=x0,r};var vs=Math.min,ds=Math.max,ra=Math.round,DF=function(e){var t={},n=0,r=0,a=0,i=function(l,v,p){var m,h,d;m=0,h=0,d=0,l=l/255,v=v/255,p=p/255;var y=vs(l,vs(v,p)),g=ds(l,ds(v,p));if(y===g)return d=y,{h:0,s:0,v:d*100};var C=l===y?v-p:p===y?l-v:p-l;return m=l===y?3:p===y?1:5,m=60*(m-C/(g-y)),h=(g-y)/g,d=g,{h:ra(m),s:ra(h*100),v:ra(d*100)}},o=function(l,v,p){if(l=(parseInt(l,10)||0)%360,v=parseInt(v,10)/100,p=parseInt(p,10)/100,v=ds(0,vs(v,1)),p=ds(0,vs(p,1)),v===0){n=r=a=ra(255*p);return}var m=l/60,h=p*v,d=h*(1-Math.abs(m%2-1)),y=p-h;switch(Math.floor(m)){case 0:n=h,r=d,a=0;break;case 1:n=d,r=h,a=0;break;case 2:n=0,r=h,a=d;break;case 3:n=0,r=d,a=h;break;case 4:n=d,r=0,a=h;break;case 5:n=h,r=0,a=d;break;default:n=r=a=0}n=ra(255*(n+y)),r=ra(255*(r+y)),a=ra(255*(a+y))},u=function(){var l=function(v){return v=parseInt(v,10).toString(16),v.length>1?v:"0"+v};return"#"+l(n)+l(r)+l(a)},s=function(){return{r:n,g:r,b:a}},f=function(){return i(n,r,a)},c=function(l){var v;return typeof l=="object"?"r"in l?(n=l.r,r=l.g,a=l.b):"v"in l&&o(l.h,l.s,l.v):(v=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(l))?(n=parseInt(v[1],10),r=parseInt(v[2],10),a=parseInt(v[3],10)):(v=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(l))?(n=parseInt(v[1],16),r=parseInt(v[2],16),a=parseInt(v[3],16)):(v=/#([0-F])([0-F])([0-F])/gi.exec(l))&&(n=parseInt(v[1]+v[1],16),r=parseInt(v[2]+v[2],16),a=parseInt(v[3]+v[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,a=a<0?0:a>255?255:a,t};return e&&c(e),t.toRgb=s,t.toHsv=f,t.toHex=u,t.parse=c,t},OF=function(e){var t=JSON.stringify(e);return xe(t)?t.replace(/[\u0080-\uFFFF]/g,function(n){var r=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(r.length)+r}):t},Kc={serialize:OF,parse:function(e){try{return JSON.parse(e)}catch{}}},IF={callbacks:{},count:0,send:function(e){var t=this,n=Ie.DOM,r=e.count!==void 0?e.count:t.count,a="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(a),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:a,src:e.url,type:"text/javascript"}),t.count++}},ps=Ce(Ce({},is),{send:function(e){var t,n=0,r=function(){!e.async||t.readyState===4||n++>1e4?(e.success&&n<1e4&&t.status===200?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):pt.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",ps.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&P.each(e.requestheaders,function(a){t.setRequestHeader(a.key,a.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=ps.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();pt.setTimeout(r,10)}}),N0=P.extend,LF=function(){function e(t){this.settings=N0({},t),this.count=0}return e.sendRPC=function(t){return new e().send(t)},e.prototype.send=function(t){var n=t.error,r=t.success,a=N0(this.settings,t);a.success=function(i,o){i=Kc.parse(i),typeof i=="undefined"&&(i={error:"JSON Parse error."}),i.error?n.call(a.error_scope||a.scope,i.error,o):r.call(a.success_scope||a.scope,i.result)},a.error=function(i,o){n&&n.call(a.error_scope||a.scope,i,o)},a.data=Kc.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),a.content_type="application/json",ps.send(a)},e}(),$F=function(){return function(){var e={},t=[],n={getItem:function(r){var a=e[r];return a||null},setItem:function(r,a){t.push(r),e[r]=String(a)},key:function(r){return t[r]},removeItem:function(r){t=t.filter(function(a){return a===r}),delete e[r]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()},to;try{var Gc="__storage_test__";to=window.localStorage,to.setItem(Gc,Gc),to.removeItem(Gc)}catch{to=$F()}var FF=to,MF={geom:{Rect:TF},util:{Promise:rt,Delay:pt,Tools:P,VK:ue,URI:ta,Class:k0,EventDispatcher:Vc,Observable:is,I18n:pn,XHR:ps,JSON:Kc,JSONRequest:LF,JSONP:IF,LocalStorage:FF,Color:DF,ImageUploader:YD},dom:{EventUtils:Na,Sizzle:Re,DomQuery:de,TreeWalker:Ze,TextSeeker:dp,DOMUtils:Ie,ScriptLoader:Vn,RangeUtils:zi,Serializer:Vg,StyleSheetLoader:Cd,ControlSelection:Mm,BookmarkManager:Mi,Selection:Ig,Event:Na.Event},html:{Styles:af,Entities:Dr,Node:an,Schema:ir,SaxParser:mu,DomParser:cc,Writer:dh,Serializer:Wa},Env:pe,AddOnManager:Mt,Annotator:$m,Formatter:oy,UndoManager:uy,EditorCommands:u0,WindowManager:Zg,NotificationManager:Qg,EditorObservable:c0,Shortcuts:p0,Editor:ss,FocusManager:rh,EditorManager:wr,DOM:Ie.DOM,ScriptLoader:Vn.ScriptLoader,PluginManager:bn,ThemeManager:yr,IconManager:Pu,Resource:BF,trim:P.trim,isArray:P.isArray,is:P.is,toArray:P.toArray,makeMap:P.makeMap,each:P.each,map:P.map,grep:P.grep,inArray:P.inArray,extend:P.extend,create:P.create,walk:P.walk,createNS:P.createNS,resolve:P.resolve,explode:P.explode,_addCacheSuffix:P._addCacheSuffix,isOpera:pe.opera,isWebKit:pe.webkit,isIE:pe.ie,isGecko:pe.gecko,isMac:pe.mac},_0=P.extend(wr,MF),UF=function(e){if(typeof module=="object")try{module.exports=e}catch{}},zF=function(e){window.tinymce=e,window.tinyMCE=e};zF(_0),UF(_0)})();var uo=tinymce;const V5=ia({name:"PreviewVue2",props:{source:{type:String,default:""},template:{type:String,default:""},demoID:{type:String,default:"demoVue2"+new Date().getTime()+Math.round(Math.random()*10)}},created(){this.init()},methods:{init(){let R=this.$Vue2.component("TinymceVue",{props:{value:{type:[String,Number],default:"dsd"},show:{type:Boolean,default:!1},options:{type:Object,default:{}}},data(){return{tinymceID:"tinymce-"+new Date().getTime()+Math.floor(Math.random()*10)+Math.floor(Math.random()*10),tinymceTimerID:null,tinymce_width:"100%",tinymce_height:400,tinymce_loading:"loading",editorFn:""}},created(){setTimeout(()=>{if(typeof uo=="undefined")throw clearInterval(this.tinymceTimerID),new Error("tinymce undefined")},3e3),this.tinymceTimerID=setInterval(()=>{typeof uo!="undefined"&&uo.tinymcePlugin&&(this.init(JSON.stringify({base_url:"/tinymce",branding:!1,language:"zh_CN",menubar:!1,schema:"html5",plugins:"tp code hr",table_default_attributes:{border:"1"},table_default_styles:{"border-collapse":"collapse",width:"100%"},table_header_type:"sectionCells",table_responsive_width:!0,file_picker_types:"file img media",fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px"})),clearInterval(this.tinymceTimerID))},200)},methods:{importantFn(){this.editor.execCommand("mceImportword")},xhrOnProgress(ge){return this.xhrOnProgress.onprogress=ge,function(){var le=this.createXHR();return typeof xhrOnProgress.onprogress!="function"||xhrOnProgress.onprogress&&le.upload&&(le.upload.onprogress=xhrOnProgress.onprogress),le}},createXHR(){return window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXobiect?new ActiveXobiect("Microsoft.XMLHTTP"):""},init(ge){let le=this,ye=JSON.parse(ge);ye.selector="#"+le.tinymceID,ye.setup=oe=>{le.editorFn=oe,oe.on("init",()=>{setTimeout(()=>{le.tinymce_loading=""},200),oe.setTpContent(le.value),uo.activeEditor.setProgressState(!1,50)}),oe.on("input NodeChange",()=>{le.$emit("input",oe.getTpContent())})},Object.assign(ye,this.options||{}),le.tinymce_height=ye.min_height,uo.init(ye)}},template:` <div>
                    <div :class="tinymce_loading" :style="{ width: tinymce_width, 'min-height': tinymce_height}">
                        <div class="tinymceVue">
                        <div :id="tinymceID"></div>
                    </div>
                    <div class="tinymce_loading"></div>
                    </div>
                </div>
                `}),re=this.$parent.sourceCode();re.components.TinymceVue=R;let ce=new this.$Vue2(O0({template:this.template},re));console.log(),console.log(ce),setTimeout(()=>{ce.$mount("#"+this.demoID)},10)}},setup(R,{slots:re,attrs:ce}){const ge=ao(),le=ao(),ye=Yc({codeHeight:0}),oe=!!re.description;return{toggleCode:()=>{var ut;ye.codeHeight===0?ye.codeHeight=((ut=ge.value)==null?void 0:ut.offsetHeight)||0:ye.codeHeight=0},slots:re,state:ye,codeRef:ge,demoVueRef:le,slotDescription:oe}}}),q5={class:"preview vue2 demo-block"},W5={class:"preview__card"},j5={class:"preview__demo source"},K5=["id"],G5={ref:"codeRef",class:"preview__coderef"},X5={key:0,class:"preview__description description"},Y5=["innerHTML"];function Q5(R,re,ce,ge,le,ye){return ot(),yt("div",q5,[Se("div",W5,[Se("div",j5,[Se("div",{id:R.demoID},null,8,K5)]),Se("div",{style:no({height:`${R.state.codeHeight}px`}),class:"preview__code meta"},[Se("div",G5,[R.slotDescription?(ot(),yt("div",X5,[io(R.$slots,"description",{},void 0,!0)])):oo("",!0),Se("div",{class:"preview__coder highlight",innerHTML:R.source},null,8,Y5)],512)],4),Se("div",{class:"preview__footer demo-block-control",onClick:re[0]||(re[0]=oa((...oe)=>R.toggleCode&&R.toggleCode(...oe),["stop"]))},Xn(R.state.codeHeight>0?"\u9690\u85CF\u4EE3\u7801":"\u663E\u793A\u4EE3\u7801"),1)])])}var Z5=ua(V5,[["render",Q5],["__scopeId","data-v-115fa2e4"]]);const J5=ia({name:"PreviewReact",props:{source:{type:String,default:""},template:{type:String,default:""},demoID:{type:String,default:"demoReact"+new Date().getTime()+Math.round(Math.random()*10)}},created(){this.init()},methods:{init(){setTimeout(()=>{let R=this.$parent.sourceCode(this.$React,this.$ReactDOM,e5,document.getElementById(""+this.demoID));console.log(R)},20)}},setup(R,{slots:re,attrs:ce}){const ge=ao(),le=ao(),ye=Yc({codeHeight:0}),oe=!!re.description;return{toggleCode:()=>{var ut;ye.codeHeight===0?ye.codeHeight=((ut=ge.value)==null?void 0:ut.offsetHeight)||0:ye.codeHeight=0},slots:re,state:ye,codeRef:ge,demoVueRef:le,slotDescription:oe}}}),e4={class:"preview react demo-block"},t4={class:"preview__card"},n4={class:"preview__demo source"},r4=["id"],a4={ref:"codeRef",class:"preview__coderef"},i4={key:0,class:"preview__description description"},o4=["innerHTML"];function u4(R,re,ce,ge,le,ye){return ot(),yt("div",e4,[Se("div",t4,[Se("div",n4,[Se("div",{id:R.demoID},null,8,r4)]),Se("div",{style:no({height:`${R.state.codeHeight}px`}),class:"preview__code meta"},[Se("div",a4,[R.slotDescription?(ot(),yt("div",i4,[io(R.$slots,"description",{},void 0,!0)])):oo("",!0),Se("div",{class:"preview__coder highlight",innerHTML:R.source},null,8,o4)],512)],4),Se("div",{class:"preview__footer demo-block-control",onClick:re[0]||(re[0]=oa((...oe)=>R.toggleCode&&R.toggleCode(...oe),["stop"]))},Xn(R.state.codeHeight>0?"\u9690\u85CF\u4EE3\u7801":"\u663E\u793A\u4EE3\u7801"),1)])])}var s4=ua(J5,[["render",u4],["__scopeId","data-v-e9310556"]]);const f4=ia({name:"PagesRouter",props:{pagesName:{type:String,default:""}},data(){return{pagesNext:{},pagesPrev:{}}},mounted(){let R=this.tp$pages.pages,re=R[this.pagesName].pagesNext,ce=R[this.pagesName].pagesPrev;this.pagesNext=R[re],this.pagesPrev=R[ce]}}),V0=R=>(L0("data-v-860a2d06"),R=R(),$0(),R),l4={class:"pages-router"},c4={key:0,class:"pages-prev"},v4=V0(()=>Se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"icon icon-prev","data-v-01ae7502":""},[Se("path",{d:"M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"})],-1)),d4={key:1,class:"pages-next"},p4=V0(()=>Se("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"icon icon-next","data-v-01ae7502":""},[Se("path",{d:"M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"})],-1));function m4(R,re,ce,ge,le,ye){const oe=hs("router-link");return ot(),yt("div",l4,[R.pagesPrev.path?(ot(),yt("div",c4,[ri(oe,{to:R.pagesPrev.path},{default:ro(()=>[v4,Se("span",null,Xn(R.pagesPrev.meta?R.pagesPrev.meta.title:R.pagesPrev.name),1)]),_:1},8,["to"])])):oo("",!0),R.pagesNext.path?(ot(),yt("div",d4,[ri(oe,{to:R.pagesNext.path},{default:ro(()=>[Se("span",null,Xn(R.pagesNext.meta?R.pagesNext.meta.title:R.pagesNext.name),1),p4]),_:1},8,["to"])])):oo("",!0)])}var h4=ua(f4,[["render",m4],["__scopeId","data-v-860a2d06"]]);function g4(R,re){const ce=t5.create({withCredentials:!0,onUploadProgress:ge=>100*(ge.loaded/ge.total),onDownloadProgress:ge=>100*(ge.loaded/ge.total)});ce.interceptors.response.use(function(ge){return ge.data}),R.config.globalProperties.tp$pages=re,R.config.globalProperties.axios=ce,R.config.globalProperties.$http=ce,R.config.globalProperties.$Vue2=window.Vue2,R.config.globalProperties.$ReactDOM=window.ReactDOM,R.config.globalProperties.$React=window.React,new Date().getHours()<=10,R.config.globalProperties.$api=function(ge){return $.ajax({url:"https://web.hope55.com/api/uploadfolder",method:"POST",processData:!1,contentType:!1,data:ge.data})},R.config.globalProperties.$proxyServer=function(ge,le,ye){return new FormData,$.ajax({url:"http://web.hope55.com/api/importfiles",method:ye||"POST",data:ge})}}const so=n5(D5);so.component("Preview",H5);so.component("PreviewVue2",Z5);so.component("PreviewReact",s4);so.component("PagesRouter",h4);so.use(w5).use(g4,{routes:H0,pages:C5}).mount("#app");export{ua as _};
